"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1773],{1773:(T,c,t)=>{t.r(c),t.d(c,{AddBannerPageModule:()=>P});var g=t(9808),h=t(4182),o=t(7110),u=t(1143),m=t(655),n=t(9863),f=t(7020),p=t(2178),v=t(5593);function B(e,i){if(1&e&&n._UZ(0,"img",7),2&e){const a=n.oxw();n.Q6J("src",a.bannerImage,n.LSH)}}const A=[{path:"",component:(()=>{class e{constructor(a,r,s){this.global=a,this.bannerService=r,this.apiService=s}ngOnInit(){}preview(a){return(0,m.mG)(this,void 0,void 0,function*(){console.log(a);const r=a.target.files;if(0==r.length||null==r[0].type.match(/image\/*/))return;const l=r[0],y="banners/"+Date.now()+"_"+l.name;try{const d=yield this.apiService.uploadImage(l,y);this.bannerImage=d}catch(d){console.log(d),this.global.errorToast("Image upload failed")}})}saveBanner(){return(0,m.mG)(this,void 0,void 0,function*(){try{if(""==this.bannerImage||!this.bannerImage)return;this.global.showLoader();const a={banner:this.bannerImage,status:"active"};yield this.bannerService.addBanner(a),this.global.hideLoader(),this.global.successToast("Banner Created!")}catch(a){this.global.hideLoader(),this.global.errorToast()}})}}return e.\u0275fac=function(a){return new(a||e)(n.Y36(f.U),n.Y36(p.Q),n.Y36(v.s))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-add-banner"]],decls:13,vars:1,consts:[["color","primary"],["slot","start"],["defaultHref","/admin"],["lines","none"],["type","file",3,"change"],[3,"src",4,"ngIf"],["expand","block","color","primary",1,"ion-margin",3,"click"],[3,"src"]],template:function(a,r){1&a&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Add Banner"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-list",3)(8,"ion-item")(9,"input",4),n.NdJ("change",function(l){return r.preview(l)}),n.qZA(),n.YNc(10,B,1,1,"img",5),n.qZA()(),n.TgZ(11,"ion-button",6),n.NdJ("click",function(){return r.saveBanner()}),n._uU(12,"Save"),n.qZA()()),2&a&&(n.xp6(10),n.Q6J("ngIf",r.bannerImage))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.W2,o.q_,o.Ie,g.O5,o.YG],styles:["img[_ngcontent-%COMP%]{height:10vh;width:10vh;float:right}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,h.u5,o.Pc,b]]}),e})()}}]);