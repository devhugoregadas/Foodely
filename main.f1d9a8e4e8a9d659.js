(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7128:(un,ut,D)=>{"use strict";D.d(ut,{nm:()=>Gt});var a=D(9500),he=(D(9863),D(3692),D(5867),D(5861)),fe=D(9681),se=D(4859),q=D(2090),ee=D(1877);const W=new Map,re={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function oe(N){return W.get(N)||re}function Ae(N,U){W.set(N,U)}function le(){return we}class Ne{constructor(U,V,ne,De,Je){if(this.operation=U,this.retryPolicy=V,this.getWaitDuration=ne,this.lowerBound=De,this.upperBound=Je,this.pending=null,this.nextErrorWaitInterval=De,De>Je)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(U){var V=this;return(0,he.Z)(function*(){V.stop();try{V.pending=new q.BH,yield function nt(N){return new Promise(U=>{setTimeout(U,N)})}(V.getNextRun(U)),V.pending.resolve(),yield V.pending.promise,V.pending=new q.BH,yield V.operation(),V.pending.resolve(),yield V.pending.promise,V.process(!0).catch(()=>{})}catch(ne){V.retryPolicy(ne)?V.process(!1).catch(()=>{}):V.stop()}})()}getNextRun(U){if(U)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const V=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),V}}}const Ge=new q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ue(N){if(!oe(N).activated)throw Ge.create("use-before-activation",{appName:N.name})}function it(N,U){return je.apply(this,arguments)}function je(){return(je=(0,he.Z)(function*({url:N,body:U},V){const ne={"Content-Type":"application/json"},De=V.getImmediate({optional:!0});if(De){const Pn=yield De.getHeartbeatsHeader();Pn&&(ne["X-Firebase-Client"]=Pn)}const Je={method:"POST",body:JSON.stringify(U),headers:ne};let Et,St;try{Et=yield fetch(N,Je)}catch(Pn){throw Ge.create("fetch-network-error",{originalErrorMessage:Pn.message})}if(200!==Et.status)throw Ge.create("fetch-status-error",{httpStatus:Et.status});try{St=yield Et.json()}catch(Pn){throw Ge.create("fetch-parse-error",{originalErrorMessage:Pn.message})}const yt=St.ttl.match(/^([\d.]+)(s)$/);if(!yt||!yt[2]||isNaN(Number(yt[1])))throw Ge.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${St.ttl}`});const $t=1e3*Number(yt[1]),wn=Date.now();return{token:St.attestationToken,expireTimeMillis:wn+$t,issuedAtTimeMillis:wn}})).apply(this,arguments)}function _t(N,U){const{projectId:V,appId:ne,apiKey:De}=N.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${V}/apps/${ne}:exchangeDebugToken?key=${De}`,body:{debug_token:U}}}const ue="firebase-app-check-store";let ce=null;function st(){return ce||(ce=new Promise((N,U)=>{try{const V=indexedDB.open("firebase-app-check-database",1);V.onsuccess=ne=>{N(ne.target.result)},V.onerror=ne=>{var De;U(Ge.create("storage-open",{originalErrorMessage:null===(De=ne.target.error)||void 0===De?void 0:De.message}))},V.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ue,{keyPath:"compositeKey"})}}catch(V){U(Ge.create("storage-open",{originalErrorMessage:V.message}))}}),ce)}function Jt(){return(Jt=(0,he.Z)(function*(N,U){const ne=(yield st()).transaction(ue,"readwrite"),Je=ne.objectStore(ue).put({compositeKey:N,value:U});return new Promise((Et,St)=>{Je.onsuccess=yt=>{Et()},ne.onerror=yt=>{var $t;St(Ge.create("storage-set",{originalErrorMessage:null===($t=yt.target.error)||void 0===$t?void 0:$t.message}))}})})).apply(this,arguments)}const Jn=new ee.Yd("@firebase/app-check");function Hn(N,U){return(0,q.hl)()?function Xe(N,U){return function tn(N,U){return Jt.apply(this,arguments)}(function lr(N){return`${N.options.appId}-${N.name}`}(N),U)}(N,U).catch(V=>{Jn.warn(`Failed to write token to IndexedDB. Error: ${V}`)}):Promise.resolve()}function cr(){return le().enabled}function ar(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,he.Z)(function*(){const N=le();if(N.enabled&&N.token)return N.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $e={error:"UNKNOWN_ERROR"};function Pt(N){return q.US.encodeString(JSON.stringify(N),!1)}function bt(N){return zt.apply(this,arguments)}function zt(){return(zt=(0,he.Z)(function*(N,U=!1){const V=N.app;Ue(V);const ne=oe(V);let Je,De=ne.token;if(!De){const yt=yield ne.cachedTokenPromise;yt&&dr(yt)&&(De=yt)}if(!U&&De&&dr(De))return{token:De.token};let St,Et=!1;if(cr()){ne.exchangeTokenPromise||(ne.exchangeTokenPromise=it(_t(V,yield ar()),N.heartbeatServiceProvider).then($t=>(ne.exchangeTokenPromise=void 0,$t)),Et=!0);const yt=yield ne.exchangeTokenPromise;return yield Hn(V,yt),Ae(V,Object.assign(Object.assign({},ne),{token:yt})),{token:yt.token}}try{ne.exchangeTokenPromise||(ne.exchangeTokenPromise=ne.provider.getToken().then(yt=>(ne.exchangeTokenPromise=void 0,yt)),Et=!0),De=yield ne.exchangeTokenPromise}catch(yt){"appCheck/throttled"===yt.code?Jn.warn(yt.message):Jn.error(yt),Je=yt}return De?(St={token:De.token},Ae(V,Object.assign(Object.assign({},ne),{token:De})),yield Hn(V,De)):St=bn(Je),Et&&mr(V,St),St})).apply(this,arguments)}function Gn(N,U){const V=oe(N),ne=V.tokenObservers.filter(De=>De.next!==U);0===ne.length&&V.tokenRefresher&&V.tokenRefresher.isRunning()&&V.tokenRefresher.stop(),Ae(N,Object.assign(Object.assign({},V),{tokenObservers:ne}))}function Wn(N){const{app:U}=N,V=oe(U);let ne=V.tokenRefresher;ne||(ne=function Qn(N){const{app:U}=N;return new Ne((0,he.Z)(function*(){let ne;if(ne=oe(U).token?yield bt(N,!0):yield bt(N),ne.error)throw ne.error}),()=>!0,()=>{const V=oe(U);if(V.token){let ne=V.token.issuedAtTimeMillis+.5*(V.token.expireTimeMillis-V.token.issuedAtTimeMillis)+3e5;return ne=Math.min(ne,V.token.expireTimeMillis-3e5),Math.max(0,ne-Date.now())}return 0},3e4,96e4)}(N),Ae(U,Object.assign(Object.assign({},V),{tokenRefresher:ne}))),!ne.isRunning()&&V.isTokenAutoRefreshEnabled&&ne.start()}function mr(N,U){const V=oe(N).tokenObservers;for(const ne of V)try{"EXTERNAL"===ne.type&&null!=U.error?ne.error(U.error):ne.next(U)}catch(De){}}function dr(N){return N.expireTimeMillis-Date.now()>0}function bn(N){return{token:Pt($e),error:N}}class Nn{constructor(U,V){this.app=U,this.heartbeatServiceProvider=V}_delete(){const{tokenObservers:U}=oe(this.app);for(const V of U)Gn(this.app,V.next);return Promise.resolve()}}const on="app-check-internal";!function mn(){(0,fe._registerComponent)(new se.wA("app-check",N=>function ur(N,U){return new Nn(N,U)}(N.getProvider("app").getImmediate(),N.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((N,U,V)=>{N.getProvider(on).initialize()})),(0,fe._registerComponent)(new se.wA(on,N=>function dn(N){return{getToken:U=>bt(N,U),addTokenListener:U=>function Kt(N,U,V,ne){const{app:De}=N,Je=oe(De),Et={next:V,error:ne,type:U};if(Ae(De,Object.assign(Object.assign({},Je),{tokenObservers:[...Je.tokenObservers,Et]})),Je.token&&dr(Je.token)){const St=Je.token;Promise.resolve().then(()=>{V({token:St.token}),Wn(N)}).catch(()=>{})}Je.cachedTokenPromise.then(()=>Wn(N))}(N,"INTERNAL",U),removeTokenListener:U=>Gn(N.app,U)}}(N.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)("@firebase/app-check","0.5.5")}();class Gt{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(un,ut,D)=>{"use strict";D.d(ut,{Ot:()=>Y,z6:()=>he,ZF:()=>xe,hX:()=>oe});var a=D(5867),P=D(9863),L=D(9500);class Y{constructor(Ne){return Ne}}class he{constructor(){return(0,a.C6)()}}const q=new P.OlP("angularfire2._apps"),ee={provide:Y,useFactory:function se(ke){return ke&&1===ke.length?ke[0]:new Y((0,a.Mq)())},deps:[[new P.FiY,q]]},W={provide:he,deps:[[new P.FiY,q]]};function re(ke){return(Ne,nt)=>{const xt=Ne.runOutsideAngular(()=>ke(nt));return new Y(xt)}}let we=(()=>{class ke{constructor(nt){(0,a.KN)("angularfire",L.q4.full,"core"),(0,a.KN)("angularfire",L.q4.full,"app"),(0,a.KN)("angular",P.q4F.full,nt.toString())}}return ke.\u0275fac=function(nt){return new(nt||ke)(P.LFG(P.Lbi))},ke.\u0275mod=P.oAB({type:ke}),ke.\u0275inj=P.cJS({providers:[ee,W]}),ke})();function oe(ke,...Ne){return{ngModule:we,providers:[{provide:q,useFactory:re(ke),multi:!0,deps:[P.R0b,P.zs3,L.HU,...Ne]}]}}const xe=(0,L.u3)(a.ZF,!0)},7667:(un,ut,D)=>{"use strict";D.d(ut,{gx:()=>we,dh:()=>oe,Xb:()=>Le,v0:()=>Ut,Aj:()=>an,AR:()=>ke,LS:()=>Hn,e5:()=>Ye,s:()=>Qn});var a=D(9500),P=D(9863),L=D(3692),Y=D(5867),he=D(7128),fe=D(424);D(2090),D(9681),D(1877),D(4859);class we{constructor(Dt){return Dt}}class oe{constructor(){return(0,a.vb)("auth")}}const le=new P.OlP("angularfire2.auth-instances");function xe(Nt){return(Dt,fn)=>{const Tn=Dt.runOutsideAngular(()=>Nt(fn));return new we(Tn)}}const be={provide:oe,deps:[[new P.FiY,le]]},_e={provide:we,useFactory:function J(Nt,Dt){const fn=(0,a.JM)("auth",Nt,Dt);return fn&&new we(fn)},deps:[[new P.FiY,le],L.Ot]};let Ie=(()=>{class Nt{constructor(){(0,Y.KN)("angularfire",a.q4.full,"auth")}}return Nt.\u0275fac=function(fn){return new(fn||Nt)},Nt.\u0275mod=P.oAB({type:Nt}),Nt.\u0275inj=P.cJS({providers:[_e,be]}),Nt})();function ke(Nt,...Dt){return{ngModule:Ie,providers:[{provide:le,useFactory:xe(Nt),multi:!0,deps:[P.R0b,P.zs3,a.HU,L.z6,[new P.FiY,he.nm],...Dt]}]}}const Le=(0,a.u3)(fe.a4,!0),Ut=(0,a.u3)(fe.n,!0),an=(0,a.u3)(fe.t,!0),Hn=(0,a.u3)(fe.$,!0),Ye=(0,a.u3)(fe.a5,!0),Qn=(0,a.u3)(fe.af,!0)},2011:(un,ut,D)=>{"use strict";D.d(ut,{hO:()=>oe,xv:()=>ee,Dh:()=>q,GT:()=>fe,cc:()=>Ae,on:()=>W,pX:()=>he});var a=D(9863),P=D(127),L=D(9500);un=D.hmd(un);const Y=["ngOnDestroy"],he=(be,_e,Ie,ke={})=>new Proxy(be,{get:(Ne,nt)=>Ie.runOutsideAngular(()=>{var xt;if(be[nt])return(null===(xt=null==ke?void 0:ke.spy)||void 0===xt?void 0:xt.get)&&ke.spy.get(nt,be[nt]),be[nt];if(Y.indexOf(nt)>-1)return()=>{};const Ge=_e.toPromise().then(ht=>{const Ue=ht&&ht[nt];return"function"==typeof Ue?Ue.bind(ht):Ue&&Ue.then?Ue.then(Fe=>Ie.run(()=>Fe)):Ie.run(()=>Ue)});return new Proxy(()=>{},{get:(ht,Ue)=>Ge[Ue],apply:(ht,Ue,Fe)=>Ge.then(Le=>{var Re;const it=Le&&Le(...Fe);return(null===(Re=null==ke?void 0:ke.spy)||void 0===Re?void 0:Re.apply)&&ke.spy.apply(nt,Fe,it),it})})})}),fe=(be,_e)=>{_e.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(ke=>{Object.defineProperty(be.prototype,ke,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,ke))})})};class se{constructor(_e){return _e}}const q=new a.OlP("angularfire2.app.options"),ee=new a.OlP("angularfire2.app.name");function W(be,_e,Ie){const Ne="object"==typeof Ie&&Ie||{};Ne.name=Ne.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const xt=P.Z.apps.filter(Ge=>Ge&&Ge.name===Ne.name)[0]||_e.runOutsideAngular(()=>P.Z.initializeApp(be,Ne));try{JSON.stringify(be)!==JSON.stringify(xt.options)&&re("error",`${xt.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new se(xt)}const re=(be,..._e)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[be](..._e)},we={provide:se,useFactory:W,deps:[q,a.R0b,[new a.FiY,ee]]};let oe=(()=>{class be{constructor(Ie){P.Z.registerVersion("angularfire",L.q4.full,"core"),P.Z.registerVersion("angularfire",L.q4.full,"app-compat"),P.Z.registerVersion("angular",a.q4F.full,Ie.toString())}static initializeApp(Ie,ke){return{ngModule:be,providers:[{provide:q,useValue:Ie},{provide:ee,useValue:ke}]}}}return be.\u0275fac=function(Ie){return new(Ie||be)(a.LFG(a.Lbi))},be.\u0275mod=a.oAB({type:be}),be.\u0275inj=a.cJS({providers:[we]}),be})();function Ae(be,_e,Ie,ke,Ne){const[,nt,xt]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===be)||[];if(nt)return function le(be,_e){try{return be.toString()===_e.toString()}catch(Ie){return be===_e}}(Ne,xt)||(xe("error",`${_e} was already initialized on the ${Ie} Firebase App with different settings.${J?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Ne,was:xt})),nt;{const Ge=ke();return globalThis.\u0275AngularfireInstanceCache.push([be,Ge,Ne]),Ge}}const J=!!un.hot,xe=(be,..._e)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[be](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3562:(un,ut,D)=>{"use strict";D.d(ut,{gg:()=>Fe,ET:()=>En,hJ:()=>rr,BS:()=>Xe,oe:()=>Vn,JU:()=>ar,Wu:()=>bt,QT:()=>Kt,PL:()=>Qn,ad:()=>bn,b9:()=>dn,Xo:()=>$n,Cm:()=>ue,IO:()=>Ke,pl:()=>Me,e0:()=>vn,r7:()=>gn,ar:()=>ir});var a=D(9500),P=D(9863),L=D(7667),Y=D(3692),he=D(5867),fe=D(7128),se=D(2731),q=D(2916),ee=D(4850),W={includeMetadataChanges:!1};function Ue(Ht,Oe){return void 0===Oe&&(Oe={}),function xt(Ht){return function re(Ht,Oe){return void 0===Oe&&(Oe=W),new q.y(function(ot){return{unsubscribe:(0,se.cf)(Ht,Oe,{next:ot.next.bind(ot),error:ot.error.bind(ot),complete:ot.complete.bind(ot)})}})}(Ht,{includeMetadataChanges:!0}).pipe((0,ee.U)(function(Oe){return Oe.docs}))}(Ht).pipe((0,ee.U)(function(ot){return ot.map(function(qt){return function Ae(Ht,Oe){void 0===Oe&&(Oe={});var ot=Ht.data();return!Ht.exists()||"object"!=typeof ot||null===ot||Oe.idField&&(ot[Oe.idField]=Ht.id),ot}(qt,Oe)})}))}class Fe{constructor(Oe){return Oe}}const Le="firestore",je=new P.OlP("angularfire2.firestore-instances");function Lt(Ht){return(Oe,ot)=>{const qt=Oe.runOutsideAngular(()=>Ht(ot));return new Fe(qt)}}const _t={provide:class Re{constructor(){return(0,a.vb)(Le)}},deps:[[new P.FiY,je]]},ve={provide:Fe,useFactory:function Ut(Ht,Oe){const ot=(0,a.JM)(Le,Ht,Oe);return ot&&new Fe(ot)},deps:[[new P.FiY,je],Y.Ot]};let Z=(()=>{class Ht{constructor(){(0,he.KN)("angularfire",a.q4.full,"fst")}}return Ht.\u0275fac=function(ot){return new(ot||Ht)},Ht.\u0275mod=P.oAB({type:Ht}),Ht.\u0275inj=P.cJS({providers:[ve,_t]}),Ht})();function ue(Ht,...Oe){return{ngModule:Z,providers:[{provide:je,useFactory:Lt(Ht),multi:!0,deps:[P.R0b,P.zs3,a.HU,Y.z6,[new P.FiY,L.dh],[new P.FiY,fe.nm],...Oe]}]}}const Xe=(0,a.u3)(Ue,!0),En=(0,a.u3)(se.ET,!0),rr=(0,a.u3)(se.hJ,!0),Vn=(0,a.u3)(se.oe,!0),ar=(0,a.u3)(se.JU,!0),bt=(0,a.u3)(se.Wu,!0),Kt=(0,a.u3)(se.QT,!0),Qn=(0,a.u3)(se.PL,!0),bn=(0,a.u3)(se.ad,!0),dn=(0,a.u3)(se.b9,!0),$n=(0,a.u3)(se.Xo,!0),Ke=(0,a.u3)(se.IO,!0),Me=(0,a.u3)(se.pl,!0),vn=(0,a.u3)(se.e0,!0),gn=(0,a.u3)(se.r7,!0),ir=(0,a.u3)(se.ar,!0)},6591:(un,ut,D)=>{"use strict";D.d(ut,{Ke:()=>q,Jt:()=>Ge,cF:()=>Ue,Vq:()=>be,iH:()=>it});var a=D(9500),P=D(9863),L=D(3692),Y=D(7667),he=D(5867),fe=D(7128),se=D(2480);class q{constructor(Z){return Z}}const ee="storage",we=new P.OlP("angularfire2.storage-instances");function Ae(ve){return(Z,ue)=>{const Se=Z.runOutsideAngular(()=>ve(ue));return new q(Se)}}const le={provide:class W{constructor(){return(0,a.vb)(ee)}},deps:[[new P.FiY,we]]},J={provide:q,useFactory:function oe(ve,Z){const ue=(0,a.JM)(ee,ve,Z);return ue&&new q(ue)},deps:[[new P.FiY,we],L.Ot]};let xe=(()=>{class ve{constructor(){(0,he.KN)("angularfire",a.q4.full,"gcs")}}return ve.\u0275fac=function(ue){return new(ue||ve)},ve.\u0275mod=P.oAB({type:ve}),ve.\u0275inj=P.cJS({providers:[J,le]}),ve})();function be(ve,...Z){return{ngModule:xe,providers:[{provide:we,useFactory:Ae(ve),multi:!0,deps:[P.R0b,P.zs3,a.HU,L.z6,[new P.FiY,Y.dh],[new P.FiY,fe.nm],...Z]}]}}const Ge=(0,a.u3)(se.Jt,!0),Ue=(0,a.u3)(se.cF,!0),it=(0,a.u3)(se.iH,!0)},9500:(un,ut,D)=>{"use strict";D.d(ut,{q4:()=>Sr,iC:()=>oi,HU:()=>ps,vb:()=>mi,JM:()=>Ti,n1:()=>Ni,u3:()=>Jr});var a=D(9863),P=D(5867),L=D(5861),Y=D(9681),he=D(2090),fe=D(4859),se=D(1877);D(2833);const ee="@firebase/remote-config",W="0.3.6",Ae=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lt{constructor(We,at,Bt,$){this.client=We,this.storage=at,this.storageCache=Bt,this.logger=$}isCachedDataFresh(We,at){if(!at)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Bt=Date.now()-at,$=Bt<=We;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Bt}. Cache max age millis (minimumFetchIntervalMillis setting): ${We}. Is cache hit: ${$}.`),$}fetch(We){var at=this;return(0,L.Z)(function*(){const[Bt,$]=yield Promise.all([at.storage.getLastSuccessfulFetchTimestampMillis(),at.storage.getLastSuccessfulFetchResponse()]);if($&&at.isCachedDataFresh(We.cacheMaxAgeMillis,Bt))return $;We.eTag=$&&$.eTag;const F=yield at.client.fetch(We),Ce=[at.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===F.status&&Ce.push(at.storage.setLastSuccessfulFetchResponse(F)),yield Promise.all(Ce),F})()}}function _t(tt=navigator){return tt.languages&&tt.languages[0]||tt.language}class ve{constructor(We,at,Bt,$,F,Ce){this.firebaseInstallations=We,this.sdkVersion=at,this.namespace=Bt,this.projectId=$,this.apiKey=F,this.appId=Ce}fetch(We){var at=this;return(0,L.Z)(function*(){const[Bt,$]=yield Promise.all([at.firebaseInstallations.getId(),at.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${at.projectId}/namespaces/${at.namespace}:fetch?key=${at.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":We.eTag||"*"},lt={sdk_version:at.sdkVersion,app_instance_id:Bt,app_instance_id_token:$,app_id:at.appId,language_code:_t()},Ct={method:"POST",headers:Ve,body:JSON.stringify(lt)},ln=fetch(Ce,Ct),Fn=new Promise((X,d)=>{We.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",d(_)})});let kn;try{yield Promise.race([ln,Fn]),kn=yield ln}catch(X){let d="fetch-client-network";throw"AbortError"===X.name&&(d="fetch-timeout"),Ae.create(d,{originalErrorMessage:X.message})}let hr=kn.status;const br=kn.headers.get("ETag")||void 0;let wr,k;if(200===kn.status){let X;try{X=yield kn.json()}catch(d){throw Ae.create("fetch-client-parse",{originalErrorMessage:d.message})}wr=X.entries,k=X.state}if("INSTANCE_STATE_UNSPECIFIED"===k?hr=500:"NO_CHANGE"===k?hr=304:("NO_TEMPLATE"===k||"EMPTY_CONFIG"===k)&&(wr={}),304!==hr&&200!==hr)throw Ae.create("fetch-status",{httpStatus:hr});return{status:hr,eTag:br,config:wr}})()}}class Se{constructor(We,at){this.client=We,this.storage=at}fetch(We){var at=this;return(0,L.Z)(function*(){const Bt=(yield at.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return at.attemptFetch(We,Bt)})()}attemptFetch(We,{throttleEndTimeMillis:at,backoffCount:Bt}){var $=this;return(0,L.Z)(function*(){yield function Z(tt,We){return new Promise((at,Bt)=>{const $=Math.max(We-Date.now(),0),F=setTimeout(at,$);tt.addEventListener(()=>{clearTimeout(F),Bt(Ae.create("fetch-throttle",{throttleEndTimeMillis:We}))})})}(We.signal,at);try{const F=yield $.client.fetch(We);return yield $.storage.deleteThrottleMetadata(),F}catch(F){if(!function ue(tt){if(!(tt instanceof he.ZR&&tt.customData))return!1;const We=Number(tt.customData.httpStatus);return 429===We||500===We||503===We||504===We}(F))throw F;const Ce={throttleEndTimeMillis:Date.now()+(0,he.$s)(Bt),backoffCount:Bt+1};return yield $.storage.setThrottleMetadata(Ce),$.attemptFetch(We,Ce)}})()}}class mt{constructor(We,at,Bt,$,F){this.app=We,this._client=at,this._storageCache=Bt,this._storage=$,this._logger=F,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xe(tt,We){const at=tt.target.error||void 0;return Ae.create(We,{originalErrorMessage:at&&at.message})}const Ft="app_namespace_store";class En{constructor(We,at,Bt,$=function Jt(){return new Promise((tt,We)=>{try{const at=indexedDB.open("firebase_remote_config",1);at.onerror=Bt=>{We(Xe(Bt,"storage-open"))},at.onsuccess=Bt=>{tt(Bt.target.result)},at.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(Ft,{keyPath:"compositeKey"})}}catch(at){We(Ae.create("storage-open",{originalErrorMessage:at}))}})}()){this.appId=We,this.appName=at,this.namespace=Bt,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(We){return this.set("last_fetch_status",We)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(We){return this.set("last_successful_fetch_timestamp_millis",We)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(We){return this.set("last_successful_fetch_response",We)}getActiveConfig(){return this.get("active_config")}setActiveConfig(We){return this.set("active_config",We)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(We){return this.set("active_config_etag",We)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(We){return this.set("throttle_metadata",We)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(We){var at=this;return(0,L.Z)(function*(){const Bt=yield at.openDbPromise;return new Promise(($,F)=>{const Ve=Bt.transaction([Ft],"readonly").objectStore(Ft),lt=at.createCompositeKey(We);try{const Ct=Ve.get(lt);Ct.onerror=ln=>{F(Xe(ln,"storage-get"))},Ct.onsuccess=ln=>{const Fn=ln.target.result;$(Fn?Fn.value:void 0)}}catch(Ct){F(Ae.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(We,at){var Bt=this;return(0,L.Z)(function*(){const $=yield Bt.openDbPromise;return new Promise((F,Ce)=>{const lt=$.transaction([Ft],"readwrite").objectStore(Ft),Ct=Bt.createCompositeKey(We);try{const ln=lt.put({compositeKey:Ct,value:at});ln.onerror=Fn=>{Ce(Xe(Fn,"storage-set"))},ln.onsuccess=()=>{F()}}catch(ln){Ce(Ae.create("storage-set",{originalErrorMessage:ln&&ln.message}))}})})()}delete(We){var at=this;return(0,L.Z)(function*(){const Bt=yield at.openDbPromise;return new Promise(($,F)=>{const Ve=Bt.transaction([Ft],"readwrite").objectStore(Ft),lt=at.createCompositeKey(We);try{const Ct=Ve.delete(lt);Ct.onerror=ln=>{F(Xe(ln,"storage-delete"))},Ct.onsuccess=()=>{$()}}catch(Ct){F(Ae.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(We){return[this.appId,this.appName,this.namespace,We].join()}}class nr{constructor(We){this.storage=We}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var We=this;return(0,L.Z)(function*(){const at=We.storage.getLastFetchStatus(),Bt=We.storage.getLastSuccessfulFetchTimestampMillis(),$=We.storage.getActiveConfig(),F=yield at;F&&(We.lastFetchStatus=F);const Ce=yield Bt;Ce&&(We.lastSuccessfulFetchTimestampMillis=Ce);const Ve=yield $;Ve&&(We.activeConfig=Ve)})()}setLastFetchStatus(We){return this.lastFetchStatus=We,this.storage.setLastFetchStatus(We)}setLastSuccessfulFetchTimestampMillis(We){return this.lastSuccessfulFetchTimestampMillis=We,this.storage.setLastSuccessfulFetchTimestampMillis(We)}setActiveConfig(We){return this.activeConfig=We,this.storage.setActiveConfig(We)}}function or(){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,L.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(tt){return!1}})).apply(this,arguments)}!function lr(){(0,Y._registerComponent)(new fe.wA("remote-config",function tt(We,{instanceIdentifier:at}){const Bt=We.getProvider("app").getImmediate(),$=We.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ae.create("registration-window");if(!(0,he.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:F,apiKey:Ce,appId:Ve}=Bt.options;if(!F)throw Ae.create("registration-project-id");if(!Ce)throw Ae.create("registration-api-key");if(!Ve)throw Ae.create("registration-app-id");const lt=new En(Ve,Bt.name,at=at||"firebase"),Ct=new nr(lt),ln=new se.Yd(ee);ln.logLevel=se.in.ERROR;const Fn=new ve($,Y.SDK_VERSION,at,F,Ce,Ve),kn=new Se(Fn,lt),hr=new Lt(kn,lt,Ct,ln),br=new mt(Bt,hr,Ct,lt,ln);return function xt(tt){const We=(0,he.m9)(tt);We._initializePromise||(We._initializePromise=We._storageCache.loadFromStorage().then(()=>{We._isInitializationComplete=!0}))}(br),br},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(ee,W),(0,Y.registerVersion)(ee,W,"esm2017")}();var Vn=D(2375);const Zt="analytics",cr="firebase_id",Ye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$e="https://www.googletagmanager.com/gtag/js",Pt=new se.Yd("@firebase/analytics");function bt(tt){return Promise.all(tt.map(We=>We.catch(at=>at)))}function zt(tt,We){const at=document.createElement("script");at.src=`${$e}?l=${tt}&id=${We}`,at.async=!0,document.head.appendChild(at)}function Gn(tt,We,at,Bt,$,F){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,L.Z)(function*(tt,We,at,Bt,$,F){const Ce=Bt[$];try{if(Ce)yield We[Ce];else{const lt=(yield bt(at)).find(Ct=>Ct.measurementId===$);lt&&(yield We[lt.appId])}}catch(Ve){Pt.error(Ve)}tt("config",$,F)})).apply(this,arguments)}function Qn(tt,We,at,Bt,$){return mr.apply(this,arguments)}function mr(){return(mr=(0,L.Z)(function*(tt,We,at,Bt,$){try{let F=[];if($&&$.send_to){let Ce=$.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Ve=yield bt(at);for(const lt of Ce){const Ct=Ve.find(Fn=>Fn.measurementId===lt),ln=Ct&&We[Ct.appId];if(!ln){F=[];break}F.push(ln)}}0===F.length&&(F=Object.values(We)),yield Promise.all(F),tt("event",Bt,$||{})}catch(F){Pt.error(F)}})).apply(this,arguments)}function Nn(){const tt=window.document.getElementsByTagName("script");for(const We of Object.values(tt))if(We.src&&We.src.includes($e))return We;return null}const dn=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tn=new class fn{constructor(We={},at=1e3){this.throttleMetadata=We,this.intervalMillis=at}getThrottleMetadata(We){return this.throttleMetadata[We]}setThrottleMetadata(We,at){this.throttleMetadata[We]=at}deleteThrottleMetadata(We){delete this.throttleMetadata[We]}};function Kn(tt){return new Headers({Accept:"application/json","x-goog-api-key":tt})}function $n(tt){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,L.Z)(function*(tt){var We;const{appId:at,apiKey:Bt}=tt,$={method:"GET",headers:Kn(Bt)},F=Ye.replace("{app-id}",at),Ce=yield fetch(F,$);if(200!==Ce.status&&304!==Ce.status){let Ve="";try{const lt=yield Ce.json();(null===(We=lt.error)||void 0===We?void 0:We.message)&&(Ve=lt.error.message)}catch(lt){}throw dn.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Ve})}return Ce.json()})).apply(this,arguments)}function Be(tt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(tt,We=Tn,at){const{appId:Bt,apiKey:$,measurementId:F}=tt.options;if(!Bt)throw dn.create("no-app-id");if(!$){if(F)return{measurementId:F,appId:Bt};throw dn.create("no-api-key")}const Ce=We.getThrottleMetadata(Bt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new wt;return setTimeout((0,L.Z)(function*(){Ve.abort()}),void 0!==at?at:6e4),vt({appId:Bt,apiKey:$,measurementId:F},Ce,Ve,We)})).apply(this,arguments)}function vt(tt,We,at){return ye.apply(this,arguments)}function ye(){return(ye=(0,L.Z)(function*(tt,{throttleEndTimeMillis:We,backoffCount:at},Bt,$=Tn){const{appId:F,measurementId:Ce}=tt;try{yield Me(Bt,We)}catch(Ve){if(Ce)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:F,measurementId:Ce};throw Ve}try{const Ve=yield $n(tt);return $.deleteThrottleMetadata(F),Ve}catch(Ve){if(!Te(Ve)){if($.deleteThrottleMetadata(F),Ce)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:F,measurementId:Ce};throw Ve}const lt=503===Number(Ve.customData.httpStatus)?(0,he.$s)(at,$.intervalMillis,30):(0,he.$s)(at,$.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+lt,backoffCount:at+1};return $.setThrottleMetadata(F,Ct),Pt.debug(`Calling attemptFetch again in ${lt} millis`),vt(tt,Ct,Bt,$)}})).apply(this,arguments)}function Me(tt,We){return new Promise((at,Bt)=>{const $=Math.max(We-Date.now(),0),F=setTimeout(at,$);tt.addEventListener(()=>{clearTimeout(F),Bt(dn.create("fetch-throttle",{throttleEndTimeMillis:We}))})})}function Te(tt){if(!(tt instanceof he.ZR&&tt.customData))return!1;const We=Number(tt.customData.httpStatus);return 429===We||500===We||503===We||504===We}class wt{constructor(){this.listeners=[]}addEventListener(We){this.listeners.push(We)}abort(){this.listeners.forEach(We=>We())}}function Qt(){return vn.apply(this,arguments)}function vn(){return(vn=(0,L.Z)(function*(){if(!(0,he.hl)())return Pt.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(tt){return Pt.warn(dn.create("indexeddb-unavailable",{errorInfo:tt}).message),!1}return!0})).apply(this,arguments)}function gn(){return(gn=(0,L.Z)(function*(tt,We,at,Bt,$,F,Ce){var Ve;const lt=Be(tt);lt.then(hr=>{at[hr.measurementId]=hr.appId,tt.options.measurementId&&hr.measurementId!==tt.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${tt.options.measurementId}) does not match the measurement ID fetched from the server (${hr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hr=>Pt.error(hr)),We.push(lt);const Ct=Qt().then(hr=>{if(hr)return Bt.getId()}),[ln,Fn]=yield Promise.all([lt,Ct]);Nn()||zt(F,ln.measurementId),$("js",new Date);const kn=null!==(Ve=null==Ce?void 0:Ce.config)&&void 0!==Ve?Ve:{};return kn.origin="firebase",kn.update=!0,null!=Fn&&(kn[cr]=Fn),$("config",ln.measurementId,kn),ln.measurementId})).apply(this,arguments)}class zn{constructor(We){this.app=We}_delete(){return delete ir[this.app.options.appId],Promise.resolve()}}let ir={},Tr=[];const Ht={};let qt,on,Oe="dataLayer",mn=!1;function Gt(tt,We,at){!function At(){const tt=[];if((0,he.ru)()&&tt.push("This is a browser extension environment."),(0,he.zI)()||tt.push("Cookies are not available."),tt.length>0){const We=tt.map((Bt,$)=>`(${$+1}) ${Bt}`).join(" "),at=dn.create("invalid-analytics-context",{errorInfo:We});Pt.warn(at.message)}}();const Bt=tt.options.appId;if(!Bt)throw dn.create("no-app-id");if(!tt.options.apiKey){if(!tt.options.measurementId)throw dn.create("no-api-key");Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${tt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ir[Bt])throw dn.create("already-exists",{id:Bt});if(!mn){!function Kt(tt){let We=[];Array.isArray(window[tt])?We=window[tt]:window[tt]=We}(Oe);const{wrappedGtag:F,gtagCore:Ce}=function bn(tt,We,at,Bt,$){let F=function(...Ce){window[Bt].push(arguments)};return window[$]&&"function"==typeof window[$]&&(F=window[$]),window[$]=function dr(tt,We,at,Bt){function F(){return(F=(0,L.Z)(function*(Ce,Ve,lt){try{"event"===Ce?yield Qn(tt,We,at,Ve,lt):"config"===Ce?yield Gn(tt,We,at,Bt,Ve,lt):tt("set",Ve)}catch(Ct){Pt.error(Ct)}})).apply(this,arguments)}return function $(Ce,Ve,lt){return F.apply(this,arguments)}}(F,tt,We,at),{gtagCore:F,wrappedGtag:window[$]}}(ir,Tr,Ht,Oe,"gtag");on=F,qt=Ce,mn=!0}return ir[Bt]=function Zn(tt,We,at,Bt,$,F,Ce){return gn.apply(this,arguments)}(tt,Tr,Ht,We,qt,Oe,at),new zn(tt)}function yn(){return(yn=(0,L.Z)(function*(tt,We,at,Bt,$){if($&&$.global)tt("event",at,Bt);else{const F=yield We;tt("event",at,Object.assign(Object.assign({},Bt),{send_to:F}))}})).apply(this,arguments)}function Cr(){return Br.apply(this,arguments)}function Br(){return(Br=(0,L.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(tt){return!1}})).apply(this,arguments)}const De="@firebase/analytics";!function Et(){(0,Y._registerComponent)(new fe.wA(Zt,(We,{options:at})=>Gt(We.getProvider("app").getImmediate(),We.getProvider("installations-internal").getImmediate(),at),"PUBLIC")),(0,Y._registerComponent)(new fe.wA("analytics-internal",function tt(We){try{const at=We.getProvider(Zt).getImmediate();return{logEvent:(Bt,$,F)=>function ne(tt,We,at,Bt){tt=(0,he.m9)(tt),function Rt(tt,We,at,Bt,$){return yn.apply(this,arguments)}(on,ir[tt.app.options.appId],We,at,Bt).catch($=>Pt.error($))}(at,Bt,$,F)}}catch(at){throw dn.create("interop-component-reg-failed",{reason:at})}},"PRIVATE")),(0,Y.registerVersion)(De,"0.7.7"),(0,Y.registerVersion)(De,"0.7.7","esm2017")}();var St=D(341),yt=D(353),$t=D(2916),wn=D(2994),Pn=D(8915),qn=D(7770);const Sr=new a.GfV("7.3.0"),ti="__angularfire_symbol__analyticsIsSupportedValue",Fr="__angularfire_symbol__analyticsIsSupported",zr="__angularfire_symbol__remoteConfigIsSupportedValue",ni="__angularfire_symbol__remoteConfigIsSupported",vi="__angularfire_symbol__messagingIsSupportedValue",Qr="__angularfire_symbol__messagingIsSupported";globalThis[Fr]||(globalThis[Fr]=Cr().then(tt=>globalThis[ti]=tt).catch(()=>globalThis[ti]=!1)),globalThis[Qr]||(globalThis[Qr]=(0,Vn.Gb)().then(tt=>globalThis[vi]=tt).catch(()=>globalThis[vi]=!1)),globalThis[ni]||(globalThis[ni]=or().then(tt=>globalThis[zr]=tt).catch(()=>globalThis[zr]=!1));const Ni={async:()=>globalThis[Qr],sync:()=>{const tt=globalThis[vi];if(void 0===tt)throw new Error((tt=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${tt} in the constructor, first ensure that ${tt} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${tt})\`.`)("Messaging"));return tt}};function Ti(tt,We,at){if(We){if(1===We.length)return We[0];const F=We.filter(Ce=>Ce.app===at);if(1===F.length)return F[0]}return at.container.getProvider(tt).getImmediate({optional:!0})}const mi=(tt,We)=>{const at=We?[We]:(0,P.C6)(),Bt=[];return at.forEach($=>{$.container.getProvider(tt).instances.forEach(Ce=>{Bt.includes(Ce)||Bt.push(Ce)})}),Bt};function Xr(){}class ki{constructor(We,at=St.N){this.zone=We,this.delegate=at}now(){return this.delegate.now()}schedule(We,at,Bt){const $=this.zone;return this.delegate.schedule(function(Ce){$.runGuarded(()=>{We.apply(this,[Ce])})},at,Bt)}}class Si{constructor(We){this.zone=We,this.task=null}call(We,at){const Bt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xr,{},Xr,Xr)),at.pipe((0,wn.b)({next:Bt,complete:Bt,error:Bt})).subscribe(We).add(Bt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ps=(()=>{class tt{constructor(at){this.ngZone=at,this.outsideAngular=at.runOutsideAngular(()=>new ki(Zone.current)),this.insideAngular=at.run(()=>new ki(Zone.current,yt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return tt.\u0275fac=function(at){return new(at||tt)(a.LFG(a.R0b))},tt.\u0275prov=a.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();function ri(){const tt=globalThis.\u0275AngularFireScheduler;if(!tt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return tt}function si(tt){return ri().ngZone.runOutsideAngular(()=>tt())}function Wr(tt){return ri().ngZone.run(()=>tt())}function oi(tt){return ri(),function Ur(tt){return function(at){return(at=at.lift(new Si(tt.ngZone))).pipe((0,Pn.R)(tt.outsideAngular),(0,qn.QV)(tt.insideAngular))}}(ri())(tt)}const ji=(tt,We)=>function(){const Bt=arguments;return We&&setTimeout(()=>{"scheduled"===We.state&&We.invoke()},10),Wr(()=>tt.apply(void 0,Bt))},Jr=(tt,We)=>function(){let at;const Bt=arguments;for(let F=0;F<arguments.length;F++)"function"==typeof Bt[F]&&(We&&(at||(at=Wr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xr,{},Xr,Xr)))),Bt[F]=ji(Bt[F],at));const $=si(()=>tt.apply(this,Bt));if(!We){if($ instanceof $t.y){const F=ri();return $.pipe((0,Pn.R)(F.outsideAngular),(0,qn.QV)(F.insideAngular))}return Wr(()=>$)}return $ instanceof $t.y?$.pipe(oi):$ instanceof Promise?Wr(()=>new Promise((F,Ce)=>$.then(Ve=>Wr(()=>F(Ve)),Ve=>Wr(()=>Ce(Ve))))):"function"==typeof $&&at?function(){return setTimeout(()=>{at&&"scheduled"===at.state&&at.invoke()},10),$.apply(this,arguments)}:Wr(()=>$)}},7423:(un,ut,D)=>{"use strict";D.d(ut,{dV:()=>oe,Uw:()=>xe,fo:()=>Ae});var a=D(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var q=(()=>{return(_e=q||(q={})).Unimplemented="UNIMPLEMENTED",_e.Unavailable="UNAVAILABLE",q;var _e})();class ee extends Error{constructor(Ie,ke){super(Ie),this.message=Ie,this.code=ke}}const re=_e=>{var Ie,ke,Ne,nt,xt;const Ge=_e.CapacitorCustomPlatform||null,ht=_e.Capacitor||{},Ue=ht.Plugins=ht.Plugins||{},Fe=_e.CapacitorPlatforms,Re=(null===(Ie=null==Fe?void 0:Fe.currentPlatform)||void 0===Ie?void 0:Ie.getPlatform)||(()=>null!==Ge?Ge.name:(_e=>{var Ie,ke;return(null==_e?void 0:_e.androidBridge)?"android":(null===(ke=null===(Ie=null==_e?void 0:_e.webkit)||void 0===Ie?void 0:Ie.messageHandlers)||void 0===ke?void 0:ke.bridge)?"ios":"web"})(_e)),je=(null===(ke=null==Fe?void 0:Fe.currentPlatform)||void 0===ke?void 0:ke.isNativePlatform)||(()=>"web"!==Re()),Lt=(null===(Ne=null==Fe?void 0:Fe.currentPlatform)||void 0===Ne?void 0:Ne.isPluginAvailable)||(mt=>{const Xe=Se.get(mt);return!(!(null==Xe?void 0:Xe.platforms.has(Re()))&&!ve(mt))}),ve=(null===(nt=null==Fe?void 0:Fe.currentPlatform)||void 0===nt?void 0:nt.getPluginHeader)||(mt=>{var Xe;return null===(Xe=ht.PluginHeaders)||void 0===Xe?void 0:Xe.find(Ft=>Ft.name===mt)}),Se=new Map,st=(null===(xt=null==Fe?void 0:Fe.currentPlatform)||void 0===xt?void 0:xt.registerPlugin)||((mt,Xe={})=>{const Ft=Se.get(mt);if(Ft)return console.warn(`Capacitor plugin "${mt}" already registered. Cannot register plugins twice.`),Ft.proxy;const an=Re(),tn=ve(mt);let Jt;const En=function(){var Vn=(0,a.Z)(function*(){return!Jt&&an in Xe?Jt=Jt="function"==typeof Xe[an]?yield Xe[an]():Xe[an]:null!==Ge&&!Jt&&"web"in Xe&&(Jt=Jt="function"==typeof Xe.web?yield Xe.web():Xe.web),Jt});return function(){return Vn.apply(this,arguments)}}(),lr=Vn=>{let Zt;const cr=(...ar)=>{const Mt=En().then(Ye=>{const $e=((Vn,Zt)=>{var cr,ar;if(!tn){if(Vn)return null===(ar=Vn[Zt])||void 0===ar?void 0:ar.bind(Vn);throw new ee(`"${mt}" plugin is not implemented on ${an}`,q.Unimplemented)}{const Mt=null==tn?void 0:tn.methods.find(Ye=>Zt===Ye.name);if(Mt)return"promise"===Mt.rtype?Ye=>ht.nativePromise(mt,Zt.toString(),Ye):(Ye,$e)=>ht.nativeCallback(mt,Zt.toString(),Ye,$e);if(Vn)return null===(cr=Vn[Zt])||void 0===cr?void 0:cr.bind(Vn)}})(Ye,Vn);if($e){const Pt=$e(...ar);return Zt=null==Pt?void 0:Pt.remove,Pt}throw new ee(`"${mt}.${Vn}()" is not implemented on ${an}`,q.Unimplemented)});return"addListener"===Vn&&(Mt.remove=(0,a.Z)(function*(){return Zt()})),Mt};return cr.toString=()=>`${Vn.toString()}() { [capacitor code] }`,Object.defineProperty(cr,"name",{value:Vn,writable:!1,configurable:!1}),cr},Jn=lr("addListener"),rr=lr("removeListener"),or=(Vn,Zt)=>{const cr=Jn({eventName:Vn},Zt),ar=function(){var Ye=(0,a.Z)(function*(){const $e=yield cr;rr({eventName:Vn,callbackId:$e},Zt)});return function(){return Ye.apply(this,arguments)}}(),Mt=new Promise(Ye=>cr.then(()=>Ye({remove:ar})));return Mt.remove=(0,a.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ar()}),Mt},Hn=new Proxy({},{get(Vn,Zt){switch(Zt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return tn?or:Jn;case"removeListener":return rr;default:return lr(Zt)}}});return Ue[mt]=Hn,Se.set(mt,{name:mt,proxy:Hn,platforms:new Set([...Object.keys(Xe),...tn?[an]:[]])}),Hn});return ht.convertFileSrc||(ht.convertFileSrc=mt=>mt),ht.getPlatform=Re,ht.handleError=mt=>_e.console.error(mt),ht.isNativePlatform=je,ht.isPluginAvailable=Lt,ht.pluginMethodNoop=(mt,Xe,Ft)=>Promise.reject(`${Ft} does not have an implementation of "${Xe}".`),ht.registerPlugin=st,ht.Exception=ee,ht.DEBUG=!!ht.DEBUG,ht.isLoggingEnabled=!!ht.isLoggingEnabled,ht.platform=ht.getPlatform(),ht.isNative=ht.isNativePlatform(),ht},oe=(_e=>_e.Capacitor=re(_e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Ae=oe.registerPlugin;class xe{constructor(Ie){this.listeners={},this.windowListeners={},Ie&&(console.warn(`Capacitor WebPlugin "${Ie.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ie)}addListener(Ie,ke){var Ne=this;this.listeners[Ie]||(this.listeners[Ie]=[]),this.listeners[Ie].push(ke);const xt=this.windowListeners[Ie];xt&&!xt.registered&&this.addWindowListener(xt);const Ge=function(){var Ue=(0,a.Z)(function*(){return Ne.removeListener(Ie,ke)});return function(){return Ue.apply(this,arguments)}}(),ht=Promise.resolve({remove:Ge});return Object.defineProperty(ht,"remove",{value:(Ue=(0,a.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ge()}),function(){return Ue.apply(this,arguments)})}),ht;var Ue}removeAllListeners(){var Ie=this;return(0,a.Z)(function*(){Ie.listeners={};for(const ke in Ie.windowListeners)Ie.removeWindowListener(Ie.windowListeners[ke]);Ie.windowListeners={}})()}notifyListeners(Ie,ke){const Ne=this.listeners[Ie];Ne&&Ne.forEach(nt=>nt(ke))}hasListeners(Ie){return!!this.listeners[Ie].length}registerWindowListener(Ie,ke){this.windowListeners[ke]={registered:!1,windowEventName:Ie,pluginEventName:ke,handler:Ne=>{this.notifyListeners(ke,Ne)}}}unimplemented(Ie="not implemented"){return new oe.Exception(Ie,q.Unimplemented)}unavailable(Ie="not available"){return new oe.Exception(Ie,q.Unavailable)}removeListener(Ie,ke){var Ne=this;return(0,a.Z)(function*(){const nt=Ne.listeners[Ie];if(!nt)return;const xt=nt.indexOf(ke);Ne.listeners[Ie].splice(xt,1),Ne.listeners[Ie].length||Ne.removeWindowListener(Ne.windowListeners[Ie])})()}addWindowListener(Ie){window.addEventListener(Ie.windowEventName,Ie.handler),Ie.registered=!0}removeWindowListener(Ie){!Ie||(window.removeEventListener(Ie.windowEventName,Ie.handler),Ie.registered=!1)}}},424:(un,ut,D)=>{"use strict";D.d(ut,{$:()=>B,A:()=>re,E:()=>At,G:()=>ct,I:()=>Fr,K:()=>Be,L:()=>ri,M:()=>ls,N:()=>oi,P:()=>hs,Q:()=>Ur,R:()=>rh,T:()=>Ai,U:()=>We,V:()=>at,W:()=>Ve,X:()=>z,Y:()=>nn,Z:()=>Un,_:()=>kr,a:()=>ds,a0:()=>R,a1:()=>Wt,a2:()=>ai,a3:()=>_s,a4:()=>Pr,a5:()=>ii,a6:()=>Do,a7:()=>cs,a8:()=>Ks,a9:()=>te,aA:()=>yu,aB:()=>na,aC:()=>mn,aG:()=>Ir,aJ:()=>Jr,aa:()=>It,ab:()=>tr,ae:()=>Ii,af:()=>Zs,ag:()=>Fs,aj:()=>kn,ak:()=>Da,am:()=>hu,an:()=>io,ao:()=>ir,ap:()=>Ue,aq:()=>zn,ar:()=>vn,as:()=>Ie,at:()=>ua,au:()=>Fo,av:()=>ke,aw:()=>Ge,ax:()=>Le,ay:()=>Qe,az:()=>_u,b:()=>Dn,c:()=>jc,d:()=>ea,e:()=>os,f:()=>Wl,g:()=>lh,h:()=>ah,i:()=>Vr,j:()=>ch,k:()=>Yl,l:()=>ih,m:()=>zs,n:()=>gp,o:()=>q,r:()=>Uc,s:()=>Zu,t:()=>Sa,u:()=>sh,z:()=>Ae});var a=D(5861),P=D(2090),L=D(9681),Y=D(655),he=D(1877),fe=D(4859);const q={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},le=function oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},J=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new he.Yd("@firebase/auth");function _e(b,...f){be.logLevel<=he.in.ERROR&&be.error(`Auth (${L.SDK_VERSION}): ${b}`,...f)}function Ie(b,...f){throw xt(b,...f)}function ke(b,...f){return xt(b,...f)}function Ne(b,f,m){const T=Object.assign(Object.assign({},le()),{[f]:m});return new P.LL("auth","Firebase",T).create(f,{appName:b.name})}function nt(b,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ie(b,"argument-error"),Ne(b,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(b,...f){if("string"!=typeof b){const m=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(m,...T)}return J.create(b,...f)}function Ge(b,f,...m){if(!b)throw xt(f,...m)}function ht(b){const f="INTERNAL ASSERTION FAILED: "+b;throw _e(f),new Error(f)}function Ue(b,f){b||ht(f)}const Fe=new Map;function Le(b){Ue(b instanceof Function,"Expected a class definition");let f=Fe.get(b);return f?(Ue(f instanceof b,"Instance stored in cache mismatched with class"),f):(f=new b,Fe.set(b,f),f)}function je(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ut(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Z{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ue(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function _t(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ue(b,f){Ue(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Se{static initialize(f,m,T){this.fetchImpl=f,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},st=new Z(3e4,6e4);function mt(b,f){return b.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:b.tenantId}):f}function Xe(b,f,m,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(b,f,m,T,Q={}){return an(b,Q,(0,a.Z)(function*(){let Pe={},kt={};T&&("GET"===f?kt=T:Pe={body:JSON.stringify(T)});const en=(0,P.xO)(Object.assign({key:b.config.apiKey},kt)).slice(1),Ln=yield b._getAdditionalHeaders();return Ln["Content-Type"]="application/json",b.languageCode&&(Ln["X-Firebase-Locale"]=b.languageCode),Se.fetch()(nr(b,b.config.apiHost,m,en),Object.assign({method:f,headers:Ln,referrerPolicy:"no-referrer"},Pe))}))})).apply(this,arguments)}function an(b,f,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(b,f,m){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},ce),f);try{const Q=new lr(b),Pe=yield Promise.race([m(),Q.promise]);Q.clearNetworkTimeout();const kt=yield Pe.json();if("needConfirmation"in kt)throw Jn(b,"account-exists-with-different-credential",kt);if(Pe.ok&&!("errorMessage"in kt))return kt;{const en=Pe.ok?kt.errorMessage:kt.error.message,[Ln,Er]=en.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ln)throw Jn(b,"credential-already-in-use",kt);if("EMAIL_EXISTS"===Ln)throw Jn(b,"email-already-in-use",kt);const Mr=T[Ln]||Ln.toLowerCase().replace(/[_\s]+/g,"-");if(Er)throw Ne(b,Mr,Er);Ie(b,Mr)}}catch(Q){if(Q instanceof P.ZR)throw Q;Ie(b,"network-request-failed")}})).apply(this,arguments)}function Jt(b,f,m,T){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(b,f,m,T,Q={}){const Pe=yield Xe(b,f,m,T,Q);return"mfaPendingCredential"in Pe&&Ie(b,"multi-factor-auth-required",{_serverResponse:Pe}),Pe})).apply(this,arguments)}function nr(b,f,m,T){const Q=`${f}${m}?${T}`;return b.config.emulator?ue(b.config,Q):`${b.config.apiScheme}://${Q}`}class lr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(ke(this.auth,"network-request-failed")),st.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(b,f,m){const T={appName:b.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const Q=ke(b,f,T);return Q.customData._tokenResponse=m,Q}function or(){return(or=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Hn(b,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zt(b,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ar(b){if(b)try{const f=new Date(Number(b));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function $e(){return($e=(0,a.Z)(function*(b,f=!1){const m=(0,P.m9)(b),T=yield m.getIdToken(f),Q=bt(T);Ge(Q&&Q.exp&&Q.auth_time&&Q.iat,m.auth,"internal-error");const Pe="object"==typeof Q.firebase?Q.firebase:void 0,kt=null==Pe?void 0:Pe.sign_in_provider;return{claims:Q,token:T,authTime:ar(Pt(Q.auth_time)),issuedAtTime:ar(Pt(Q.iat)),expirationTime:ar(Pt(Q.exp)),signInProvider:kt||null,signInSecondFactor:(null==Pe?void 0:Pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Pt(b){return 1e3*Number(b)}function bt(b){const[f,m,T]=b.split(".");if(void 0===f||void 0===m||void 0===T)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,P.tV)(m);return Q?JSON.parse(Q):(_e("Failed to decode base64 JWT payload"),null)}catch(Q){return _e("Caught error parsing JWT payload as JSON",Q),null}}function Kt(b,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(b,f,m=!1){if(m)return f;try{return yield f}catch(T){throw T instanceof P.ZR&&Wn(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}function Wn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Qn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),T)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(b){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(b){var f;const m=b.auth,T=yield b.getIdToken(),Q=yield Kt(b,Zt(m,{idToken:T}));Ge(null==Q?void 0:Q.users.length,m,"internal-error");const Pe=Q.users[0];b._notifyReloadListener(Pe);const kt=(null===(f=Pe.providerUserInfo)||void 0===f?void 0:f.length)?Nt(Pe.providerUserInfo):[],en=dn(b.providerData,kt),Mr=!!b.isAnonymous&&!(b.email&&Pe.passwordHash||(null==en?void 0:en.length)),yi={uid:Pe.localId,displayName:Pe.displayName||null,photoURL:Pe.photoUrl||null,email:Pe.email||null,emailVerified:Pe.emailVerified||!1,phoneNumber:Pe.phoneNumber||null,tenantId:Pe.tenantId||null,providerData:en,metadata:new mr(Pe.createdAt,Pe.lastLoginAt),isAnonymous:Mr};Object.assign(b,yi)})).apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(b){const f=(0,P.m9)(b);yield dr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function dn(b,f){return[...b.filter(T=>!f.some(Q=>Q.providerId===T.providerId)),...f]}function Nt(b){return b.map(f=>{var{providerId:m}=f,T=(0,Y._T)(f,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function fn(){return(fn=(0,a.Z)(function*(b,f){const m=yield an(b,{},(0,a.Z)(function*(){const T=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Q,apiKey:Pe}=b.config,kt=nr(b,Q,"/v1/token",`key=${Pe}`),en=yield b._getAdditionalHeaders();return en["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(kt,{method:"POST",headers:en,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ge(f.idToken,"internal-error"),Ge(void 0!==f.idToken,"internal-error"),Ge(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function zt(b){const f=bt(b);return Ge(f,"internal-error"),Ge(void 0!==f.exp,"internal-error"),Ge(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var T=this;return(0,a.Z)(function*(){return Ge(!T.accessToken||T.refreshToken,f,"user-token-expired"),m||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var T=this;return(0,a.Z)(function*(){const{accessToken:Q,refreshToken:Pe,expiresIn:kt}=yield function Dt(b,f){return fn.apply(this,arguments)}(f,m);T.updateTokensAndExpiration(Q,Pe,Number(kt))})()}updateTokensAndExpiration(f,m,T){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,m){const{refreshToken:T,accessToken:Q,expirationTime:Pe}=m,kt=new Tn;return T&&(Ge("string"==typeof T,"internal-error",{appName:f}),kt.refreshToken=T),Q&&(Ge("string"==typeof Q,"internal-error",{appName:f}),kt.accessToken=Q),Pe&&(Ge("number"==typeof Pe,"internal-error",{appName:f}),kt.expirationTime=Pe),kt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Tn,this.toJSON())}_performRefresh(){return ht("not implemented")}}function Kn(b,f){Ge("string"==typeof b||void 0===b,"internal-error",{appName:f})}class $n{constructor(f){var{uid:m,auth:T,stsTokenManager:Q}=f,Pe=(0,Y._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=Pe.displayName||null,this.email=Pe.email||null,this.emailVerified=Pe.emailVerified||!1,this.phoneNumber=Pe.phoneNumber||null,this.photoURL=Pe.photoURL||null,this.isAnonymous=Pe.isAnonymous||!1,this.tenantId=Pe.tenantId||null,this.providerData=Pe.providerData?[...Pe.providerData]:[],this.metadata=new mr(Pe.createdAt||void 0,Pe.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,a.Z)(function*(){const T=yield Kt(m,m.stsTokenManager.getToken(m.auth,f));return Ge(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(f){return function Ye(b){return $e.apply(this,arguments)}(this,f)}reload(){return function Nn(b){return ur.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ge(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new $n(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var T=this;return(0,a.Z)(function*(){let Q=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),Q=!0),m&&(yield dr(T)),yield T.auth._persistUserIfCurrent(T),Q&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,a.Z)(function*(){const m=yield f.getIdToken();return yield Kt(f,function rr(b,f){return or.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var T,Q,Pe,kt,en,Ln,Er,Mr;const yi=null!==(T=m.displayName)&&void 0!==T?T:void 0,Di=null!==(Q=m.email)&&void 0!==Q?Q:void 0,po=null!==(Pe=m.phoneNumber)&&void 0!==Pe?Pe:void 0,Iu=null!==(kt=m.photoURL)&&void 0!==kt?kt:void 0,Cu=null!==(en=m.tenantId)&&void 0!==en?en:void 0,ed=null!==(Ln=m._redirectEventId)&&void 0!==Ln?Ln:void 0,ul=null!==(Er=m.createdAt)&&void 0!==Er?Er:void 0,Kr=null!==(Mr=m.lastLoginAt)&&void 0!==Mr?Mr:void 0,{uid:Du,emailVerified:ll,isAnonymous:Tu,providerData:Bo,stsTokenManager:Su}=m;Ge(Du&&Su,f,"internal-error");const td=Tn.fromJSON(this.name,Su);Ge("string"==typeof Du,f,"internal-error"),Kn(yi,f.name),Kn(Di,f.name),Ge("boolean"==typeof ll,f,"internal-error"),Ge("boolean"==typeof Tu,f,"internal-error"),Kn(po,f.name),Kn(Iu,f.name),Kn(Cu,f.name),Kn(ed,f.name),Kn(ul,f.name),Kn(Kr,f.name);const cl=new $n({uid:Du,auth:f,email:Di,emailVerified:ll,displayName:yi,isAnonymous:Tu,photoURL:Iu,phoneNumber:po,tenantId:Cu,stsTokenManager:td,createdAt:ul,lastLoginAt:Kr});return Bo&&Array.isArray(Bo)&&(cl.providerData=Bo.map(nd=>Object.assign({},nd))),ed&&(cl._redirectEventId=ed),cl}static _fromIdTokenResponse(f,m,T=!1){return(0,a.Z)(function*(){const Q=new Tn;Q.updateFromServerResponse(m);const Pe=new $n({uid:m.localId,auth:f,stsTokenManager:Q,isAnonymous:T});return yield dr(Pe),Pe})()}}const Be=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,T){var Q=this;return(0,a.Z)(function*(){Q.storage[m]=T})()}_get(m){var T=this;return(0,a.Z)(function*(){const Q=T.storage[m];return void 0===Q?null:Q})()}_remove(m){var T=this;return(0,a.Z)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return b.type="NONE",b})();function Qe(b,f,m){return`firebase:${b}:${f}:${m}`}class vt{constructor(f,m,T){this.persistence=f,this.auth=m,this.userKey=T;const{config:Q,name:Pe}=this.auth;this.fullUserKey=Qe(this.userKey,Q.apiKey,Pe),this.fullPersistenceKey=Qe("persistence",Q.apiKey,Pe),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?$n._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,a.Z)(function*(){if(m.persistence===f)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,T="authUser"){return(0,a.Z)(function*(){if(!m.length)return new vt(Le(Be),f,T);const Q=(yield Promise.all(m.map(function(){var Er=(0,a.Z)(function*(Mr){if(yield Mr._isAvailable())return Mr});return function(Mr){return Er.apply(this,arguments)}}()))).filter(Er=>Er);let Pe=Q[0]||Le(Be);const kt=Qe(T,f.config.apiKey,f.name);let en=null;for(const Er of m)try{const Mr=yield Er._get(kt);if(Mr){const yi=$n._fromJSON(f,Mr);Er!==Pe&&(en=yi),Pe=Er;break}}catch(Mr){}const Ln=Q.filter(Er=>Er._shouldAllowMigration);return Pe._shouldAllowMigration&&Ln.length?(Pe=Ln[0],en&&(yield Pe._set(kt,en.toJSON())),yield Promise.all(m.map(function(){var Er=(0,a.Z)(function*(Mr){if(Mr!==Pe)try{yield Mr._remove(kt)}catch(yi){}});return function(Mr){return Er.apply(this,arguments)}}())),new vt(Pe,f,T)):new vt(Pe,f,T)})()}}function ye(b){const f=b.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Qt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Me(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Zn(f))return"Blackberry";if(gn(f))return"Webos";if(Te(f))return"Safari";if((f.includes("chrome/")||wt(f))&&!f.includes("edge/"))return"Chrome";if(vn(f))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Me(b=(0,P.z$)()){return/firefox\//i.test(b)}function Te(b=(0,P.z$)()){const f=b.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function wt(b=(0,P.z$)()){return/crios\//i.test(b)}function Qt(b=(0,P.z$)()){return/iemobile/i.test(b)}function vn(b=(0,P.z$)()){return/android/i.test(b)}function Zn(b=(0,P.z$)()){return/blackberry/i.test(b)}function gn(b=(0,P.z$)()){return/webos/i.test(b)}function zn(b=(0,P.z$)()){return/iphone|ipad|ipod/i.test(b)}function ir(b=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Oe(b=(0,P.z$)()){return zn(b)||vn(b)||gn(b)||Zn(b)||/windows phone/i.test(b)||Qt(b)}function qt(b,f=[]){let m;switch(b){case"Browser":m=ye((0,P.z$)());break;case"Worker":m=`${ye((0,P.z$)())}-${b}`;break;default:m=b}const T=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${L.SDK_VERSION}/${T}`}class on{constructor(f,m,T){this.app=f,this.heartbeatServiceProvider=m,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ze(this),this.idTokenSubscription=new ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,m){var T=this;return m&&(this._popupRedirectResolver=Le(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Q,Pe;if(!T._deleted&&(T.persistenceManager=yield vt.create(T,f),!T._deleted)){if(null===(Q=T._popupRedirectResolver)||void 0===Q?void 0:Q._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(kt){}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(Pe=T.currentUser)||void 0===Pe?void 0:Pe.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,a.Z)(function*(){var T;let Q=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Pe=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,kt=null==Q?void 0:Q._redirectEventId,en=yield m.tryRedirectSignIn(f);(!Pe||Pe===kt)&&(null==en?void 0:en.user)&&(Q=en.user)}return Q?Q._redirectEventId?(Ge(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Q._redirectEventId?m.directlySetCurrentUser(Q):m.reloadAndSetCurrentUserOrClear(Q)):m.reloadAndSetCurrentUserOrClear(Q):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,a.Z)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(Q){yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,a.Z)(function*(){try{yield dr(f)}catch(T){if("auth/network-request-failed"!==T.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ve(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,a.Z)(function*(){const T=f?(0,P.m9)(f):null;return T&&Ge(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,a.Z)(function*(){if(!m._deleted)return f&&Ge(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,a.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(Le(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,T){return this.registerStateListener(this.authStateSubscription,f,m,T)}onIdTokenChanged(f,m,T){return this.registerStateListener(this.idTokenSubscription,f,m,T)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var T=this;return(0,a.Z)(function*(){const Q=yield T.getOrInitRedirectPersistenceManager(m);return null===f?Q.removeCurrentUser():Q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const T=f&&Le(f)||m._popupRedirectResolver;Ge(T,m,"argument-error"),m.redirectPersistenceManager=yield vt.create(m,[Le(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,a.Z)(function*(){var T,Q;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===f?m._currentUser:(null===(Q=m.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,a.Z)(function*(){if(f===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,T,Q){if(this._deleted)return()=>{};const Pe="function"==typeof m?m:m.next.bind(m),kt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ge(kt,this,"internal-error"),kt.then(()=>Pe(this.currentUser)),"function"==typeof m?f.addObserver(m,T,Q):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var m;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const Q=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return Q&&(T["X-Firebase-Client"]=Q),T})()}}function mn(b){return(0,P.m9)(b)}class ze{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function At(b,f,m){const T=mn(b);Ge(T._canInitEmulator,T,"emulator-config-failed"),Ge(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const Q=!!(null==m?void 0:m.disableWarnings),Pe=Gt(f),{host:kt,port:en}=function Rt(b){const f=Gt(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(f.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(T);if(Q){const Pe=Q[1];return{host:Pe,port:yn(T.substr(Pe.length+1))}}{const[Pe,kt]=T.split(":");return{host:Pe,port:yn(kt)}}}(f);T.config.emulator={url:`${Pe}//${kt}${null===en?"":`:${en}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:kt,port:en,protocol:Pe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Rn(){function b(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Gt(b){const f=b.indexOf(":");return f<0?"":b.substr(0,f+1)}function yn(b){if(!b)return null;const f=Number(b);return isNaN(f)?null:f}class ct{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ht("not implemented")}_getIdTokenResponse(f){return ht("not implemented")}_linkToIdToken(f,m){return ht("not implemented")}_getReauthenticationResolver(f){return ht("not implemented")}}function K(b,f){return de.apply(this,arguments)}function de(){return(de=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:resetPassword",mt(b,f))})).apply(this,arguments)}function gt(b,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xn(b,f){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:update",mt(b,f))})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithPassword",mt(b,f))})).apply(this,arguments)}function Cr(b,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:sendOobCode",mt(b,f))})).apply(this,arguments)}function Rr(b,f){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(function*(b,f){return Cr(b,f)})).apply(this,arguments)}function U(b,f){return V.apply(this,arguments)}function V(){return(V=(0,a.Z)(function*(b,f){return Cr(b,f)})).apply(this,arguments)}function ne(b,f){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(b,f){return Cr(b,f)})).apply(this,arguments)}function Je(b,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(b,f){return Cr(b,f)})).apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithEmailLink",mt(b,f))})).apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithEmailLink",mt(b,f))})).apply(this,arguments)}class Pn extends ct{constructor(f,m,T,Q=null){super("password",T),this._email=f,this._password=m,this._tenantId=Q}static _fromEmailAndPassword(f,m){return new Pn(f,m,"password")}static _fromEmailAndCode(f,m,T=null){return new Pn(f,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Sn(b,f){return fr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function St(b,f){return yt.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,m){var T=this;return(0,a.Z)(function*(){switch(T.signInMethod){case"password":return gt(f,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function $t(b,f){return wn.apply(this,arguments)}(f,{idToken:m,email:T._email,oobCode:T._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qn(b,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithIdp",mt(b,f))})).apply(this,arguments)}class Fr extends ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Fr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:Q}=m,Pe=(0,Y._T)(m,["providerId","signInMethod"]);if(!T||!Q)return null;const kt=new Fr(T,Q);return kt.idToken=Pe.idToken||void 0,kt.accessToken=Pe.accessToken||void 0,kt.secret=Pe.secret,kt.nonce=Pe.nonce,kt.pendingToken=Pe.pendingToken||null,kt}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const T=this.buildRequest();return T.idToken=m,qn(f,T)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function zr(b,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:sendVerificationCode",mt(b,f))})).apply(this,arguments)}function Qr(){return(Qr=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithPhoneNumber",mt(b,f))})).apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(b,f){const m=yield Jt(b,"POST","/v1/accounts:signInWithPhoneNumber",mt(b,f));if(m.temporaryProof)throw Jn(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ui={USER_NOT_FOUND:"user-not-found"};function Ti(){return(Ti=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithPhoneNumber",mt(b,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ui)})).apply(this,arguments)}class mi extends ct{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new mi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new mi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function vi(b,f){return Qr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Gi(b,f){return Ni.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ui(b,f){return Ti.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:T,verificationCode:Q}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:T,code:Q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:T,phoneNumber:Q,temporaryProof:Pe}=f;return T||m||Q||Pe?new mi({verificationId:m,verificationCode:T,phoneNumber:Q,temporaryProof:Pe}):null}}class Si{constructor(f){var m,T,Q,Pe,kt,en;const Ln=(0,P.zd)((0,P.pd)(f)),Er=null!==(m=Ln.apiKey)&&void 0!==m?m:null,Mr=null!==(T=Ln.oobCode)&&void 0!==T?T:null,yi=function Xr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Ln.mode)&&void 0!==Q?Q:null);Ge(Er&&Mr&&yi,"argument-error"),this.apiKey=Er,this.operation=yi,this.code=Mr,this.continueUrl=null!==(Pe=Ln.continueUrl)&&void 0!==Pe?Pe:null,this.languageCode=null!==(kt=Ln.languageCode)&&void 0!==kt?kt:null,this.tenantId=null!==(en=Ln.tenantId)&&void 0!==en?en:null}static parseLink(f){const m=function ki(b){const f=(0,P.zd)((0,P.pd)(b)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,T=(0,P.zd)((0,P.pd)(b)).deep_link_id;return(T?(0,P.zd)((0,P.pd)(T)).link:null)||T||m||f||b}(f);try{return new Si(m)}catch(T){return null}}}let ri=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,T){return Pn._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const Q=Si.parseLink(T);return Ge(Q,"argument-error"),Pn._fromEmailAndCode(m,Q.code,Q.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class si{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wr extends si{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ai extends Wr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return Ge("providerId"in m&&"signInMethod"in m,"argument-error"),Fr._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ge(f.idToken||f.accessToken,"argument-error"),Fr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ai.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ai.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:Q,pendingToken:Pe,nonce:kt,providerId:en}=f;if(!T&&!Q&&!m&&!Pe||!en)return null;try{return new Ai(en)._credential({idToken:m,accessToken:T,nonce:kt,pendingToken:Pe})}catch(Ln){return null}}}let ls=(()=>{class b extends Wr{constructor(){super("facebook.com")}static credential(m){return Fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(T){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),oi=(()=>{class b extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return Fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:Q}=m;if(!T&&!Q)return null;try{return b.credential(T,Q)}catch(Pe){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ur=(()=>{class b extends Wr{constructor(){super("github.com")}static credential(m){return Fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(T){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Jr extends ct{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const T=this.buildRequest();return T.idToken=m,qn(f,T)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:Q,pendingToken:Pe}=m;return T&&Q&&Pe&&T===Q?new Jr(T,Pe):null}static _create(f,m){return new Jr(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class We extends si{constructor(f){Ge(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return We.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return We.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Jr.fromJSON(f);return Ge(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:T}=f;if(!m||!T)return null;try{return Jr._create(T,m)}catch(Q){return null}}}let at=(()=>{class b extends Wr{constructor(){super("twitter.com")}static credential(m,T){return Fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:Q}=m;if(!T||!Q)return null;try{return b.credential(T,Q)}catch(Pe){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Bt(b,f){return $.apply(this,arguments)}function $(){return($=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signUp",mt(b,f))})).apply(this,arguments)}class F{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,T,Q=!1){return(0,a.Z)(function*(){const Pe=yield $n._fromIdTokenResponse(f,T,Q),kt=Ce(T);return new F({user:Pe,providerId:kt,_tokenResponse:T,operationType:m})})()}static _forOperation(f,m,T){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(T,!0);const Q=Ce(T);return new F({user:f,providerId:Q,_tokenResponse:T,operationType:m})})()}}function Ce(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ve(b){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(b){var f;const m=mn(b);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new F({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Bt(m,{returnSecureToken:!0}),Q=yield F._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Ct extends P.ZR{constructor(f,m,T,Q){var Pe;super(m.code,m.message),this.operationType=T,this.user=Q,Object.setPrototypeOf(this,Ct.prototype),this.customData={appName:f.name,tenantId:null!==(Pe=f.tenantId)&&void 0!==Pe?Pe:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,m,T,Q){return new Ct(f,m,T,Q)}}function ln(b,f,m,T){return("reauthenticate"===f?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(Pe=>{throw"auth/multi-factor-auth-required"===Pe.code?Ct._fromErrorAndOperation(b,Pe,f,T):Pe})}function Fn(b){return new Set(b.map(({providerId:f})=>f).filter(f=>!!f))}function kn(b,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(b,f){const m=(0,P.m9)(b);yield k(!0,m,f);const{providerUserInfo:T}=yield Hn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),Q=Fn(T||[]);return m.providerData=m.providerData.filter(Pe=>Q.has(Pe.providerId)),Q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function br(b,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(b,f,m=!1){const T=yield Kt(b,f._linkToIdToken(b.auth,yield b.getIdToken()),m);return F._forOperation(b,"link",T)})).apply(this,arguments)}function k(b,f,m){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(b,f,m){yield dr(f);const Q=!1===b?"provider-already-linked":"no-such-provider";Ge(Fn(f.providerData).has(m)===b,f.auth,Q)})).apply(this,arguments)}function d(b,f){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(function*(b,f,m=!1){const{auth:T}=b,Q="reauthenticate";try{const Pe=yield Kt(b,ln(T,Q,f,b),m);Ge(Pe.idToken,T,"internal-error");const kt=bt(Pe.idToken);Ge(kt,T,"internal-error");const{sub:en}=kt;return Ge(b.uid===en,T,"user-mismatch"),F._forOperation(b,Q,Pe)}catch(Pe){throw"auth/user-not-found"===(null==Pe?void 0:Pe.code)&&Ie(T,"user-mismatch"),Pe}})).apply(this,arguments)}function g(b,f){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)(function*(b,f,m=!1){const T="signIn",Q=yield ln(b,T,f),Pe=yield F._fromIdTokenResponse(b,T,Q);return m||(yield b._updateCurrentUser(Pe.user)),Pe})).apply(this,arguments)}function z(b,f){return dt.apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(b,f){return g(mn(b),f)})).apply(this,arguments)}function nn(b,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(b,f){const m=(0,P.m9)(b);return yield k(!1,m,f.providerId),br(m,f)})).apply(this,arguments)}function Un(b,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(b,f){return d((0,P.m9)(b),f)})).apply(this,arguments)}function Dr(b,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(b,f){return Jt(b,"POST","/v1/accounts:signInWithCustomToken",mt(b,f))})).apply(this,arguments)}function kr(b,f){return li.apply(this,arguments)}function li(){return(li=(0,a.Z)(function*(b,f){const m=mn(b),T=yield Dr(m,{token:f,returnSecureToken:!0}),Q=yield F._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class _i{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?ei._fromServerResponse(f,m):Ie(f,"internal-error")}}class ei extends _i{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new ei(m)}}function wi(b,f,m){var T;Ge((null===(T=m.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),Ge(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ge(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(Ge(m.android.packageName.length>0,b,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function B(b,f,m){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b),Q={requestType:"PASSWORD_RESET",email:f};m&&wi(T,Q,m),yield U(T,Q)})).apply(this,arguments)}function R(b,f,m){return pe.apply(this,arguments)}function pe(){return(pe=(0,a.Z)(function*(b,f,m){yield K((0,P.m9)(b),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Wt(b,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(b,f){yield xn((0,P.m9)(b),{oobCode:f})})).apply(this,arguments)}function ai(b,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,a.Z)(function*(b,f){const m=(0,P.m9)(b),T=yield K(m,{oobCode:f}),Q=T.requestType;switch(Ge(Q,m,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ge(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ge(T.mfaInfo,m,"internal-error");default:Ge(T.email,m,"internal-error")}let Pe=null;return T.mfaInfo&&(Pe=_i._fromServerResponse(mn(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:Pe},operation:Q}})).apply(this,arguments)}function _s(b,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(b,f){const{data:m}=yield ai((0,P.m9)(b),f);return m.email})).apply(this,arguments)}function Pr(b,f,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(b,f,m){const T=mn(b),Q=yield Bt(T,{returnSecureToken:!0,email:f,password:m}),Pe=yield F._fromIdTokenResponse(T,"signIn",Q);return yield T._updateCurrentUser(Pe.user),Pe})).apply(this,arguments)}function ii(b,f,m){return z((0,P.m9)(b),ri.credential(f,m))}function Do(b,f,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b),Q={requestType:"EMAIL_SIGNIN",email:f};Ge(m.handleCodeInApp,T,"argument-error"),m&&wi(T,Q,m),yield ne(T,Q)})).apply(this,arguments)}function cs(b,f){const m=Si.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Ks(b,f,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b),Q=ri.credentialWithLink(f,m||je());return Ge(Q._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),z(T,Q)})).apply(this,arguments)}function Ee(b,f){return me.apply(this,arguments)}function me(){return(me=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:createAuthUri",mt(b,f))})).apply(this,arguments)}function te(b,f){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(b,f){const T={identifier:f,continueUri:Ut()?je():"http://localhost"},{signinMethods:Q}=yield Ee((0,P.m9)(b),T);return Q||[]})).apply(this,arguments)}function It(b,f){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(b,f){const m=(0,P.m9)(b),Q={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};f&&wi(m.auth,Q,f);const{email:Pe}=yield Rr(m.auth,Q);Pe!==b.email&&(yield b.reload())})).apply(this,arguments)}function tr(b,f,m){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b),Pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:f};m&&wi(T.auth,Pe,m);const{email:kt}=yield Je(T.auth,Pe);kt!==b.email&&(yield b.reload())})).apply(this,arguments)}function qr(b,f){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(b,f){return Xe(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ii(b,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(b,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const T=(0,P.m9)(b),Pe={idToken:yield T.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},kt=yield Kt(T,qr(T.auth,Pe));T.displayName=kt.displayName||null,T.photoURL=kt.photoUrl||null;const en=T.providerData.find(({providerId:Ln})=>"password"===Ln);en&&(en.displayName=T.displayName,en.photoURL=T.photoURL),yield T._updateTokensIfNecessary(kt)})).apply(this,arguments)}function Zs(b,f){return To((0,P.m9)(b),f,null)}function Fs(b,f){return To((0,P.m9)(b),null,f)}function To(b,f,m){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(b,f,m){const{auth:T}=b,Pe={idToken:yield b.getIdToken(),returnSecureToken:!0};f&&(Pe.email=f),m&&(Pe.password=m);const kt=yield Kt(b,gt(T,Pe));yield b._updateTokensIfNecessary(kt,!0)})).apply(this,arguments)}class Xs{constructor(f,m,T={}){this.isNewUser=f,this.providerId=m,this.profile=T}}class Ia extends Xs{constructor(f,m,T,Q){super(f,m,T),this.username=Q}}class ro extends Xs{constructor(f,m){super(f,"facebook.com",m)}}class Ca extends Ia{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class cu extends Xs{constructor(f,m){super(f,"google.com",m)}}class ws extends Ia{constructor(f,m,T){super(f,"twitter.com",m,T)}}function Da(b){const{user:f,_tokenResponse:m}=b;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ko(b){var f,m;if(!b)return null;const{providerId:T}=b,Q=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Pe=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&(null==b?void 0:b.idToken)){const kt=null===(m=null===(f=bt(b.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(kt)return new Xs(Pe,"anonymous"!==kt&&"custom"!==kt?kt:null)}if(!T)return null;switch(T){case"facebook.com":return new ro(Pe,Q);case"github.com":return new Ca(Pe,Q);case"google.com":return new cu(Pe,Q);case"twitter.com":return new ws(Pe,Q,b.screenName||null);case"custom":case"anonymous":return new Xs(Pe,null);default:return new Xs(Pe,T,Q)}}(m)}function Sa(b,f,m,T){return(0,P.m9)(b).onAuthStateChanged(f,m,T)}class Qs{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Qs("enroll",f)}static _fromMfaPendingCredential(f){return new Qs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,T;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Qs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(T=f.multiFactorSession)||void 0===T?void 0:T.idToken)return Qs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class du{constructor(f,m,T){this.session=f,this.hints=m,this.signInResolver=T}static _fromError(f,m){const T=mn(f),Q=m.customData._serverResponse,Pe=(Q.mfaInfo||[]).map(en=>_i._fromServerResponse(T,en));Ge(Q.mfaPendingCredential,T,"internal-error");const kt=Qs._fromMfaPendingCredential(Q.mfaPendingCredential);return new du(kt,Pe,function(){var en=(0,a.Z)(function*(Ln){const Er=yield Ln._process(T,kt);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Mr=Object.assign(Object.assign({},Q),{idToken:Er.idToken,refreshToken:Er.refreshToken});switch(m.operationType){case"signIn":const yi=yield F._fromIdTokenResponse(T,m.operationType,Mr);return yield T._updateCurrentUser(yi.user),yi;case"reauthenticate":return Ge(m.user,T,"internal-error"),F._forOperation(m.user,m.operationType,Mr);default:Ie(T,"internal-error")}});return function(Ln){return en.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,a.Z)(function*(){return m.signInResolver(f)})()}}function hu(b,f){var m;const T=(0,P.m9)(b),Q=f;return Ge(f.customData.operationType,T,"argument-error"),Ge(null===(m=Q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),du._fromError(T,Q)}function ss(b,f){return Xe(b,"POST","/v2/accounts/mfaEnrollment:start",mt(b,f))}class Ls{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>_i._fromServerResponse(f.auth,T)))})}static _fromUser(f){return new Ls(f)}getSession(){var f=this;return(0,a.Z)(function*(){return Qs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var T=this;return(0,a.Z)(function*(){const Q=f,Pe=yield T.getSession(),kt=yield Kt(T.user,Q._process(T.user.auth,Pe,m));return yield T.user._updateTokensIfNecessary(kt),T.user.reload()})()}unenroll(f){var m=this;return(0,a.Z)(function*(){const T="string"==typeof f?f:f.uid,Q=yield m.user.getIdToken(),Pe=yield Kt(m.user,function Ao(b,f){return Xe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(b,f))}(m.user.auth,{idToken:Q,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:kt})=>kt!==T),yield m.user._updateTokensIfNecessary(Pe);try{yield m.user.reload()}catch(kt){if("auth/user-token-expired"!==kt.code)throw kt}})()}}const Is=new WeakMap;function io(b){const f=(0,P.m9)(b);return Is.has(f)||Is.set(f,Ls._fromUser(f)),Is.get(f)}const Yo="__sak";class ci{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dn=(()=>{class b extends ci{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bs(){const b=(0,P.z$)();return Te(b)||zn(b)}()&&function ot(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Oe(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const Q=this.storage.getItem(T),Pe=this.localCache[T];Q!==Pe&&m(T,Pe,Q)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((en,Ln,Er)=>{this.notifyListeners(en,Er)});const Q=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const en=this.storage.getItem(Q);if(m.newValue!==en)null!==m.newValue?this.storage.setItem(Q,m.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===m.newValue&&!T)return}const Pe=()=>{const en=this.storage.getItem(Q);!T&&this.localCache[Q]===en||this.notifyListeners(Q,en)},kt=this.storage.getItem(Q);!function Ht(){return(0,P.w1)()&&10===document.documentMode}()||kt===m.newValue||m.newValue===m.oldValue?Pe():setTimeout(Pe,10)}notifyListeners(m,T){this.localCache[m]=T;const Q=this.listeners[m];if(Q)for(const Pe of Array.from(Q))Pe(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var Q=()=>super._set,Pe=this;return(0,a.Z)(function*(){yield Q().call(Pe,m,T),Pe.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,Q=this;return(0,a.Z)(function*(){const Pe=yield T().call(Q,m);return Q.localCache[m]=JSON.stringify(Pe),Pe})()}_remove(m){var T=()=>super._remove,Q=this;return(0,a.Z)(function*(){yield T().call(Q,m),delete Q.localCache[m]})()}}return b.type="LOCAL",b})(),ds=(()=>{class b extends ci{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return b.type="SESSION",b})();let pr=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(Pe=>Pe.isListeningto(m));if(T)return T;const Q=new b(m);return this.receivers.push(Q),Q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,a.Z)(function*(){const Q=m,{eventId:Pe,eventType:kt,data:en}=Q.data,Ln=T.handlersMap[kt];if(!(null==Ln?void 0:Ln.size))return;Q.ports[0].postMessage({status:"ack",eventId:Pe,eventType:kt});const Er=Array.from(Ln).map(function(){var yi=(0,a.Z)(function*(Di){return Di(Q.origin,en)});return function(Di){return yi.apply(this,arguments)}}()),Mr=yield function fu(b){return Promise.all(b.map(function(){var f=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return f.apply(this,arguments)}}()))}(Er);Q.ports[0].postMessage({status:"done",eventId:Pe,eventType:kt,response:Mr})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ir(b="",f=10){let m="";for(let T=0;T<f;T++)m+=Math.floor(10*Math.random());return b+m}class qu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,T=50){var Q=this;return(0,a.Z)(function*(){const Pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Pe)throw new Error("connection_unavailable");let kt,en;return new Promise((Ln,Er)=>{const Mr=Ir("",20);Pe.port1.start();const yi=setTimeout(()=>{Er(new Error("unsupported_event"))},T);en={messageChannel:Pe,onMessage(Di){const po=Di;if(po.data.eventId===Mr)switch(po.data.status){case"ack":clearTimeout(yi),kt=setTimeout(()=>{Er(new Error("timeout"))},3e3);break;case"done":clearTimeout(kt),Ln(po.data.response);break;default:clearTimeout(yi),clearTimeout(kt),Er(new Error("invalid_response"))}}},Q.handlers.add(en),Pe.port1.addEventListener("message",en.onMessage),Q.target.postMessage({eventType:f,eventId:Mr,data:m},[Pe.port2])}).finally(()=>{en&&Q.removeMessageHandler(en)})})()}}function Mn(){return window}function _n(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function $s(){return($s=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Mo="firebaseLocalStorageDb",pu="firebaseLocalStorage",Xo="fbase_key";class Ro{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ku(b,f){return b.transaction([pu],f?"readwrite":"readonly").objectStore(pu)}function w(){const b=indexedDB.open(Mo,1);return new Promise((f,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(pu,{keyPath:Xo})}catch(Q){m(Q)}}),b.addEventListener("success",(0,a.Z)(function*(){const T=b.result;T.objectStoreNames.contains(pu)?f(T):(T.close(),yield function S(){const b=indexedDB.deleteDatabase(Mo);return new Ro(b).toPromise()}(),f(yield w()))}))})}function E(b,f,m){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(b,f,m){const T=Ku(b,!0).put({[Xo]:f,value:m});return new Ro(T).toPromise()})).apply(this,arguments)}function ge(){return(ge=(0,a.Z)(function*(b,f){const m=Ku(b,!1).get(f),T=yield new Ro(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function qe(b,f){const m=Ku(b,!0).delete(f);return new Ro(m).toPromise()}const Vr=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield w()),m.db})()}_withRetries(m){var T=this;return(0,a.Z)(function*(){let Q=0;for(;;)try{const Pe=yield T._openDb();return yield m(Pe)}catch(Pe){if(Q++>3)throw Pe;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return _n()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=pr._getInstance(function xo(){return _n()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,a.Z)(function*(Q,Pe){return{keyProcessed:(yield m._poll()).includes(Pe.key)}});return function(Q,Pe){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,a.Z)(function*(Q,Pe){return["keyChanged"]});return function(Q,Pe){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var T,Q;if(m.activeServiceWorker=yield function Ci(){return $s.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new qu(m.activeServiceWorker);const Pe=yield m.sender._send("ping",{},800);!Pe||(null===(T=Pe[0])||void 0===T?void 0:T.fulfilled)&&(null===(Q=Pe[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,a.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Hl(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch(Q){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield w();return yield E(m,Yo,"1"),yield qe(m,Yo),!0}catch(m){}return!1})()}_withPendingWrite(m){var T=this;return(0,a.Z)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var Q=this;return(0,a.Z)(function*(){return Q._withPendingWrite((0,a.Z)(function*(){return yield Q._withRetries(Pe=>E(Pe,m,T)),Q.localCache[m]=T,Q.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,a.Z)(function*(){const Q=yield T._withRetries(Pe=>function j(b,f){return ge.apply(this,arguments)}(Pe,m));return T.localCache[m]=Q,Q})()}_remove(m){var T=this;return(0,a.Z)(function*(){return T._withPendingWrite((0,a.Z)(function*(){return yield T._withRetries(Q=>qe(Q,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const T=yield m._withRetries(kt=>{const en=Ku(kt,!1).getAll();return new Ro(en).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const Q=[],Pe=new Set;for(const{fbase_key:kt,value:en}of T)Pe.add(kt),JSON.stringify(m.localCache[kt])!==JSON.stringify(en)&&(m.notifyListeners(kt,en),Q.push(kt));for(const kt of Object.keys(m.localCache))m.localCache[kt]&&!Pe.has(kt)&&(m.notifyListeners(kt,null),Q.push(kt));return Q})()}notifyListeners(m,T){this.localCache[m]=T;const Q=this.listeners[m];if(Q)for(const Pe of Array.from(Q))Pe(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function yr(b,f){return Xe(b,"POST","/v2/accounts/mfaSignIn:start",mt(b,f))}function Gr(){return(Gr=(0,a.Z)(function*(b){return(yield Xe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jo(b){return new Promise((f,m)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=f,T.onerror=Q=>{const Pe=ke("internal-error");Pe.customData=Q,m(Pe)},T.type="text/javascript",T.charset="UTF-8",function gs(){var b,f;return null!==(f=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==f?f:document}().appendChild(T)})}function bi(b){return`__${b}${Math.floor(1e6*Math.random())}`}const di=1e12;class so{constructor(f){this.auth=f,this.counter=di,this._widgets=new Map}render(f,m){const T=this.counter;return this._widgets.set(T,new Oo(f,this.auth.name,m||{})),this.counter++,T}reset(f){var m;const T=f||di;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(f){var m;return(null===(m=this._widgets.get(f||di))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,a.Z)(function*(){var T;return null===(T=m._widgets.get(f||di))||void 0===T||T.execute(),""})()}}class Oo{constructor(f,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof f?document.getElementById(f):f;Ge(Q,"argument-error",{appName:m}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qo(b){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<b;T++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=bi("rcb"),Bc=new Z(3e4,6e4);class Ts{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(f,m=""){return Ge(function Yu(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Mn().grecaptcha):new Promise((T,Q)=>{const Pe=Mn().setTimeout(()=>{Q(ke(f,"network-request-failed"))},Bc.get());Mn()[Ds]=()=>{Mn().clearTimeout(Pe),delete Mn()[Ds];const en=Mn().grecaptcha;if(!en)return void Q(ke(f,"internal-error"));const Ln=en.render;en.render=(Er,Mr)=>{const yi=Ln(Er,Mr);return this.counter++,yi},this.hostLanguage=m,T(en)},Jo(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ds,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Pe),Q(ke(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Mn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $c{load(f){return(0,a.Z)(function*(){return new so(f)})()}clearedOneInstance(){}}const In="recaptcha",Vc={theme:"light",type:"image"};class rh{constructor(f,m=Object.assign({},Vc),T){this.parameters=m,this.type=In,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(T),this.isInvisible="invisible"===this.parameters.size,Ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof f?document.getElementById(f):f;Ge(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $c:new Ts,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),T=f.getAssertedRecaptcha();return T.getResponse(m)||new Promise(Pe=>{const kt=en=>{!en||(f.tokenChangeListeners.delete(kt),Pe(en))};f.tokenChangeListeners.add(kt),f.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ge(!this.parameters.sitekey,this.auth,"argument-error"),Ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof f)f(m);else if("string"==typeof f){const T=Mn()[f];"function"==typeof T&&T(m)}}}assertNotDestroyed(){Ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){Ge(Ut()&&!_n(),f.auth,"internal-error"),yield function Ra(){let b=null;return new Promise(f=>{"complete"!==document.readyState?(b=()=>f(),window.addEventListener("load",b)):f()}).catch(f=>{throw b&&window.removeEventListener("load",b),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Hr(b){return Gr.apply(this,arguments)}(f.auth);Ge(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class js{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=mi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Zu(b,f,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(b,f,m){const T=mn(b),Q=yield Po(T,f,(0,P.m9)(m));return new js(Q,Pe=>z(T,Pe))})).apply(this,arguments)}function ih(b,f,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b);yield k(!1,T,"phone");const Q=yield Po(T.auth,f,(0,P.m9)(m));return new js(Q,Pe=>nn(T,Pe))})).apply(this,arguments)}function Uc(b,f,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b),Q=yield Po(T.auth,f,(0,P.m9)(m));return new js(Q,Pe=>Un(T,Pe))})).apply(this,arguments)}function Po(b,f,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(b,f,m){var T;const Q=yield m.verify();try{let Pe;if(Ge("string"==typeof Q,b,"argument-error"),Ge(m.type===In,b,"argument-error"),Pe="string"==typeof f?{phoneNumber:f}:f,"session"in Pe){const kt=Pe.session;if("phoneNumber"in Pe)return Ge("enroll"===kt.type,b,"internal-error"),(yield ss(b,{idToken:kt.credential,phoneEnrollmentInfo:{phoneNumber:Pe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Ge("signin"===kt.type,b,"internal-error");const en=(null===(T=Pe.multiFactorHint)||void 0===T?void 0:T.uid)||Pe.multiFactorUid;return Ge(en,b,"missing-multi-factor-info"),(yield yr(b,{mfaPendingCredential:kt.credential,mfaEnrollmentId:en,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:kt}=yield zr(b,{phoneNumber:Pe.phoneNumber,recaptchaToken:Q});return kt}}finally{m._reset()}})).apply(this,arguments)}function sh(b,f){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,a.Z)(function*(b,f){yield br((0,P.m9)(b),f)})).apply(this,arguments)}let hs=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=mn(m)}verifyPhoneNumber(m,T){return Po(this.auth,m,(0,P.m9)(T))}static credential(m,T){return mi._fromVerification(m,T)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:Q}=m;return T&&Q?mi._fromTokenResponse(T,Q):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Bi(b,f){return f?Le(f):(Ge(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class gu extends ct{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return qn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return qn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function mu(b){return g(b.auth,new gu(b),b.bypassAuthState)}function Oa(b){const{auth:f,user:m}=b;return Ge(m,f,"internal-error"),d(m,new gu(b),b.bypassAuthState)}function Qi(b){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,a.Z)(function*(b){const{auth:f,user:m}=b;return Ge(m,f,"internal-error"),br(m,new gu(b),b.bypassAuthState)})).apply(this,arguments)}class pi{constructor(f,m,T,Q,Pe=!1){this.auth=f,this.resolver=T,this.user=Q,this.bypassAuthState=Pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,a.Z)(function*(T,Q){f.pendingPromise={resolve:T,reject:Q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Pe){f.reject(Pe)}});return function(T,Q){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,a.Z)(function*(){const{urlResponse:T,sessionId:Q,postBody:Pe,tenantId:kt,error:en,type:Ln}=f;if(en)return void m.reject(en);const Er={auth:m.auth,requestUri:T,sessionId:Q,tenantId:kt||void 0,postBody:Pe||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ln)(Er))}catch(Mr){m.reject(Mr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return mu;case"linkViaPopup":case"linkViaRedirect":return Qi;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:Ie(this.auth,"internal-error")}}resolve(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gl=new Z(2e3,1e4);function jc(b,f,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(b,f,m){const T=mn(b);nt(b,f,si);const Q=Bi(T,m);return new As(T,"signInViaPopup",f,Q).executeNotNull()})).apply(this,arguments)}function os(b,f,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b);nt(T.auth,f,si);const Q=Bi(T.auth,m);return new As(T.auth,"reauthViaPopup",f,Q,T).executeNotNull()})).apply(this,arguments)}function ea(b,f,m){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b);nt(T.auth,f,si);const Q=Bi(T.auth,m);return new As(T.auth,"linkViaPopup",f,Q,T).executeNotNull()})).apply(this,arguments)}let As=(()=>{class b extends pi{constructor(m,T,Q,Pe,kt){super(m,T,Pe,kt),this.provider=Q,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const T=yield m.execute();return Ge(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,a.Z)(function*(){Ue(1===m.filter.length,"Popup operations only handle one event");const T=Ir();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(Q=>{m.reject(Q)}),m.resolver._isIframeWebStorageSupported(m.auth,Q=>{Q||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,Q;this.pollId=(null===(Q=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===Q?void 0:Q.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Gl.get())};m()}}return b.currentPopupAction=null,b})();const Qu=new Map;class Gc extends pi{constructor(f,m,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,a.Z)(function*(){let T=Qu.get(m.auth._key());if(!T){try{const Pe=(yield function ta(b,f){return zl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;T=()=>Promise.resolve(Pe)}catch(Q){T=()=>Promise.reject(Q)}Qu.set(m.auth._key(),T)}return m.bypassAuthState||Qu.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,T=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(T,f);if("unknown"!==f.type){if(f.eventId){const Q=yield T.auth._redirectUserForId(f.eventId);if(Q)return T.user=Q,m().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function zl(){return(zl=(0,a.Z)(function*(b,f){const m=Pa(f),T=es(b);if(!(yield T._isAvailable()))return!1;const Q="true"===(yield T._get(m));return yield T._remove(m),Q})).apply(this,arguments)}function No(b,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(b,f){return es(b)._set(Pa(f),"true")})).apply(this,arguments)}function na(){Qu.clear()}function es(b){return Le(b._redirectPersistence)}function Pa(b){return Qe("pendingRedirect",b.config.apiKey,b.name)}function Wl(b,f,m){return function el(b,f,m){return tl.apply(this,arguments)}(b,f,m)}function tl(){return(tl=(0,a.Z)(function*(b,f,m){const T=mn(b);nt(b,f,si);const Q=Bi(T,m);return yield No(Q,T),Q._openRedirect(T,f,"signInViaRedirect")})).apply(this,arguments)}function ah(b,f,m){return function uh(b,f,m){return nl.apply(this,arguments)}(b,f,m)}function nl(){return(nl=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b);nt(T.auth,f,si);const Q=Bi(T.auth,m);yield No(Q,T.auth);const Pe=yield vu(T);return Q._openRedirect(T.auth,f,"reauthViaRedirect",Pe)})).apply(this,arguments)}function lh(b,f,m){return function xs(b,f,m){return lo.apply(this,arguments)}(b,f,m)}function lo(){return(lo=(0,a.Z)(function*(b,f,m){const T=(0,P.m9)(b);nt(T.auth,f,si);const Q=Bi(T.auth,m);yield k(!1,T,f.providerId),yield No(Q,T.auth);const Pe=yield vu(T);return Q._openRedirect(T.auth,f,"linkViaRedirect",Pe)})).apply(this,arguments)}function ch(b,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,a.Z)(function*(b,f){return yield mn(b)._initializationPromise,yu(b,f,!1)})).apply(this,arguments)}function yu(b,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(b,f,m=!1){const T=mn(b),Q=Bi(T,f),kt=yield new Gc(T,Q,m).execute();return kt&&!m&&(delete kt.user._redirectEventId,yield T._persistUserIfCurrent(kt.user),yield T._setRedirectUser(null,f)),kt})).apply(this,arguments)}function vu(b){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(b){const f=Ir(`${b.uid}:::`);return b._redirectEventId=f,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),f})).apply(this,arguments)}class _u{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(m=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ia(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(b);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var T;if(f.error&&!ra(f)){const Q=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,Q))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const T=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(f))}saveEventToCache(f){this.cachedEventUids.add(il(f)),this.lastProcessedEventTime=Date.now()}}function il(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(f=>f).join("-")}function ra({type:b,error:f}){return"unknown"===b&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Fo(b){return zi.apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(b,f={}){return Xe(b,"GET","/v1/projects",f)})).apply(this,arguments)}const zc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Na=/^https?/;function Lo(){return(Lo=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:f}=yield Fo(b);for(const m of f)try{if(ol(m))return}catch(T){}Ie(b,"unauthorized-domain")})).apply(this,arguments)}function ol(b){const f=je(),{protocol:m,hostname:T}=new URL(f);if(b.startsWith("chrome-extension://")){const kt=new URL(b);return""===kt.hostname&&""===T?"chrome-extension:"===m&&b.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&kt.hostname===T}if(!Na.test(m))return!1;if(zc.test(b))return T===b;const Q=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(T)}const Wc=new Z(3e4,6e4);function ql(){const b=Mn().___jsl;if(null==b?void 0:b.H)for(const f of Object.keys(b.H))if(b.H[f].r=b.H[f].r||[],b.H[f].L=b.H[f].L||[],b.H[f].r=[...b.H[f].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let co=null;function qc(b){return co=co||function ka(b){return new Promise((f,m)=>{var T,Q,Pe;function kt(){ql(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ql(),m(ke(b,"network-request-failed"))},timeout:Wc.get()})}if(null===(Q=null===(T=Mn().gapi)||void 0===T?void 0:T.iframes)||void 0===Q?void 0:Q.Iframe)f(gapi.iframes.getContext());else{if(!(null===(Pe=Mn().gapi)||void 0===Pe?void 0:Pe.load)){const en=bi("iframefcb");return Mn()[en]=()=>{gapi.load?kt():m(ke(b,"network-request-failed"))},Jo(`https://apis.google.com/js/api.js?onload=${en}`).catch(Ln=>m(Ln))}kt()}}).catch(f=>{throw co=null,f})}(b),co}const dh=new Z(5e3,15e3),pp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(b){const f=b.config;Ge(f.authDomain,b,"auth-domain-config-required");const m=f.emulator?ue(f,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,T={apiKey:f.apiKey,appName:b.name,v:L.SDK_VERSION},Q=Kc.get(b.config.apiHost);Q&&(T.eid=Q);const Pe=b._getFrameworks();return Pe.length&&(T.fw=Pe.join(",")),`${m}?${(0,P.xO)(T).slice(1)}`}function oa(){return oa=(0,a.Z)(function*(b){const f=yield qc(b),m=Mn().gapi;return Ge(m,b,"internal-error"),f.open({where:document.body,url:Fa(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pp,dontclear:!0},T=>new Promise(function(){var Q=(0,a.Z)(function*(Pe,kt){yield T.restyle({setHideOnLeave:!1});const en=ke(b,"network-request-failed"),Ln=Mn().setTimeout(()=>{kt(en)},dh.get());function Er(){Mn().clearTimeout(Ln),Pe(T)}T.ping(Er).then(Er,()=>{kt(en)})});return function(Pe,kt){return Q.apply(this,arguments)}}()))}),oa.apply(this,arguments)}const ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ua(b,f,m,T,Q,Pe){Ge(b.config.authDomain,b,"auth-domain-config-required"),Ge(b.config.apiKey,b,"invalid-api-key");const kt={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:T,v:L.SDK_VERSION,eventId:Q};if(f instanceof si){f.setDefaultLanguage(b.languageCode),kt.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(kt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ln,Er]of Object.entries(Pe||{}))kt[Ln]=Er}if(f instanceof Wr){const Ln=f.getScopes().filter(Er=>""!==Er);Ln.length>0&&(kt.scopes=Ln.join(","))}b.tenantId&&(kt.tid=b.tenantId);const en=kt;for(const Ln of Object.keys(en))void 0===en[Ln]&&delete en[Ln];return`${function ph({config:b}){return b.emulator?ue(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,P.xO)(en).slice(1)}`}const wu="webStorageSupport",Yl=class gh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=yu}_openPopup(f,m,T,Q){var Pe=this;return(0,a.Z)(function*(){var kt;Ue(null===(kt=Pe.eventManagers[f._key()])||void 0===kt?void 0:kt.manager,"_initialize() not called before _openPopup()");const en=ua(f,m,T,je(),Q);return function Kl(b,f,m,T=500,Q=600){const Pe=Math.max((window.screen.availHeight-Q)/2,0).toString(),kt=Math.max((window.screen.availWidth-T)/2,0).toString();let en="";const Ln=Object.assign(Object.assign({},ho),{width:T.toString(),height:Q.toString(),top:Pe,left:kt}),Er=(0,P.z$)().toLowerCase();m&&(en=wt(Er)?"_blank":m),Me(Er)&&(f=f||"http://localhost",Ln.scrollbars="yes");const Mr=Object.entries(Ln).reduce((Di,[po,Iu])=>`${Di}${po}=${Iu},`,"");if(function Tr(b=(0,P.z$)()){var f;return zn(b)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Er)&&"_self"!==en)return function Zc(b,f){const m=document.createElement("a");m.href=b,m.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(f||"",en),new fo(null);const yi=window.open(f||"",en,Mr);Ge(yi,b,"popup-blocked");try{yi.focus()}catch(Di){}return new fo(yi)}(f,en,Ir())})()}_openRedirect(f,m,T,Q){var Pe=this;return(0,a.Z)(function*(){return yield Pe._originValidation(f),function jt(b){Mn().location.href=b}(ua(f,m,T,je(),Q)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:Q,promise:Pe}=this.eventManagers[m];return Q?Promise.resolve(Q):(Ue(Pe,"If manager is not set, promise should be"),Pe)}const T=this.initAndGetManager(f);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(f){var m=this;return(0,a.Z)(function*(){const T=yield function sa(b){return oa.apply(this,arguments)}(f),Q=new _u(f);return T.register("authEvent",Pe=>(Ge(null==Pe?void 0:Pe.authEvent,f,"invalid-auth-event"),{status:Q.onEvent(Pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:Q},m.iframes[f._key()]=T,Q})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(wu,{type:wu},Q=>{var Pe;const kt=null===(Pe=null==Q?void 0:Q[0])||void 0===Pe?void 0:Pe[wu];void 0!==kt&&m(!!kt),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function sl(b){return Lo.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Oe()||Te()||zn()}};class ms extends class Xc{constructor(f){this.factorId=f}_process(f,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,T);case"signin":return this._finalizeSignIn(f,m.credential);default:return ht("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ms(f)}_finalizeEnroll(f,m,T){return function Aa(b,f){return Xe(b,"POST","/v2/accounts/mfaEnrollment:finalize",mt(b,f))}(f,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function gr(b,f){return Xe(b,"POST","/v2/accounts/mfaSignIn:finalize",mt(b,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zs=(()=>{class b{constructor(){}static assertion(m){return ms._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var Zl="@firebase/auth",Jc="0.19.11";class mh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(T=>{var Q;f((null===(Q=T)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gp(b=(0,L.getApp)()){const f=(0,L._getProvider)(b,"auth");return f.isInitialized()?f.getImmediate():function Re(b,f){const m=(0,L._getProvider)(b,"auth");if(m.isInitialized()){const Q=m.getImmediate(),Pe=m.getOptions();if((0,P.vZ)(Pe,null!=f?f:{}))return Q;Ie(Q,"already-initialized")}return m.initialize({options:f})}(b,{popupRedirectResolver:Yl,persistence:[Vr,Dn,ds]})}!function Qc(b){(0,L._registerComponent)(new fe.wA("auth",(f,{options:m})=>{const T=f.getProvider("app").getImmediate(),Q=f.getProvider("heartbeat"),{apiKey:Pe,authDomain:kt}=T.options;return((en,Ln)=>{Ge(Pe&&!Pe.includes(":"),"invalid-api-key",{appName:en.name}),Ge(!(null==kt?void 0:kt.includes(":")),"argument-error",{appName:en.name});const Er={apiKey:Pe,authDomain:kt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qt(b)},Mr=new on(en,Ln,Er);return function it(b,f){const m=(null==f?void 0:f.persistence)||[],T=(Array.isArray(m)?m:[m]).map(Le);(null==f?void 0:f.errorMap)&&b._updateErrorMap(f.errorMap),b._initializeWithPersistence(T,null==f?void 0:f.popupRedirectResolver)}(Mr,m),Mr})(T,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,T)=>{f.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new fe.wA("auth-internal",f=>{const m=mn(f.getProvider("auth").getImmediate());return new mh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Zl,Jc,function al(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,L.registerVersion)(Zl,Jc,"esm2017")}("Browser")},5525:(un,ut,D)=>{"use strict";D.d(ut,{u7:()=>tp,Jj:()=>ma,IX:()=>kg,my:()=>$i,xU:()=>ou,Lz:()=>ru,WA:()=>_n,F8:()=>Wf,$q:()=>ju,W:()=>au,EK:()=>qe,PU:()=>np,l7:()=>Us,Ky:()=>In,Xb:()=>Gr,Cf:()=>Yr,K9:()=>qu,Me:()=>Jo,yq:()=>ds,Wi:()=>Vf,ET:()=>Ny,Ab:()=>tm,vr:()=>em,Fc:()=>yy,hJ:()=>hy,B$:()=>Hf,at:()=>Pg,oe:()=>Jg,AK:()=>Qg,TF:()=>_y,JU:()=>zd,ST:()=>my,fH:()=>Fg,Ix:()=>vy,Wu:()=>Ry,Lx:()=>qg,qY:()=>Yi,GL:()=>Vl,QT:()=>Yg,kl:()=>bo,Xk:()=>Py,PL:()=>Zg,UQ:()=>Wo,zN:()=>wo,ad:()=>kl,nP:()=>Zd,b9:()=>Gg,vh:()=>xy,Pb:()=>Ey,L$:()=>by,cf:()=>ky,sc:()=>Fy,Xo:()=>Ay,IO:()=>Vg,iE:()=>py,Eo:()=>fy,i3:()=>Ly,Bt:()=>By,pl:()=>Io,Ub:()=>Zo,qK:()=>$g,TQ:()=>My,e0:()=>zg,r7:()=>Xg,Mx:()=>Lg,ar:()=>jg});var q,a=D(5861),P=D(9681),L=D(4859),Y=D(1877),he=D(2090),fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},se={},ee=ee||{},W=fe||self;function re(){}function we(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function oe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var le="closure_uid_"+(1e9*Math.random()>>>0),J=0;function xe(i,e,n){return i.call.apply(i.bind,arguments)}function be(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function _e(i,e,n){return(_e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xe:be).apply(null,arguments)}function Ie(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ke(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,l,p){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[l].apply(o,v)}}function Ne(){this.s=this.s,this.o=this.o}var xt={};Ne.prototype.s=!1,Ne.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ae(i){return Object.prototype.hasOwnProperty.call(i,le)&&i[le]||(i[le]=++J)}(this);delete xt[i]}},Ne.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ge=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},ht=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,l="string"==typeof i?i.split(""):i;for(let p=0;p<o;p++)p in l&&e.call(n,l[p],p,i)};function Fe(i){return Array.prototype.concat.apply([],arguments)}function Le(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Re(i){return/^[\s\xa0]*$/.test(i)}var Lt,it=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function je(i,e){return-1!=i.indexOf(e)}function Ut(i,e){return i<e?-1:i>e?1:0}e:{var _t=W.navigator;if(_t){var ve=_t.userAgent;if(ve){Lt=ve;break e}}Lt=""}function Z(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function ue(i){const e={};for(const n in i)e[n]=i[n];return e}var Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let p=0;p<Se.length;p++)n=Se[p],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function st(i){return st[" "](i),i}st[" "]=re;var lr,i,Xe=je(Lt,"Opera"),Ft=je(Lt,"Trident")||je(Lt,"MSIE"),an=je(Lt,"Edge"),tn=an||Ft,Jt=je(Lt,"Gecko")&&!(je(Lt.toLowerCase(),"webkit")&&!je(Lt,"Edge"))&&!(je(Lt,"Trident")||je(Lt,"MSIE"))&&!je(Lt,"Edge"),En=je(Lt.toLowerCase(),"webkit")&&!je(Lt,"Edge");function nr(){var i=W.document;return i?i.documentMode:void 0}e:{var Jn="",rr=(i=Lt,Jt?/rv:([^\);]+)(\)|;)/.exec(i):an?/Edge\/([\d\.]+)/.exec(i):Ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):En?/WebKit\/(\S+)/.exec(i):Xe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(rr&&(Jn=rr?rr[1]:""),Ft){var or=nr();if(null!=or&&or>parseFloat(Jn)){lr=String(or);break e}}lr=Jn}var Hn={};var ar=W.document&&Ft&&(nr()||parseInt(lr,10))||void 0,Mt=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{W.addEventListener("test",re,e),W.removeEventListener("test",re,e)}catch(n){}return i}();function Ye(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function $e(i,e){if(Ye.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Jt){e:{try{st(e.nodeName);var l=!0;break e}catch(p){}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$e.Z.h.call(this)}}Ye.prototype.h=function(){this.defaultPrevented=!0},ke($e,Ye);var Pt={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Kt(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=l,this.key=++zt,this.ca=this.fa=!1}function Gn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Wn(i){this.src=i,this.g={},this.h=0}function Qn(i,e){var n=e.type;if(n in i.g){var p,o=i.g[n],l=Ge(o,e);(p=0<=l)&&Array.prototype.splice.call(o,l,1),p&&(Gn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function mr(i,e,n,o){for(var l=0;l<i.length;++l){var p=i[l];if(!p.ca&&p.listener==e&&p.capture==!!n&&p.ia==o)return l}return-1}Wn.prototype.add=function(i,e,n,o,l){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var v=mr(i,e,o,l);return-1<v?(e=i[v],n||(e.fa=!1)):((e=new Kt(e,this.src,p,!!o,l)).fa=n,i.push(e)),e};var dr="closure_lm_"+(1e6*Math.random()|0),bn={};function Nn(i,e,n,o,l){if(o&&o.once)return Nt(i,e,n,o,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Nn(i,e[p],n,o,l);return null}return n=Be(n),i&&i[bt]?i.N(e,n,oe(o)?!!o.capture:!!o,l):ur(i,e,n,!1,o,l)}function ur(i,e,n,o,l,p){if(!e)throw Error("Invalid event type");var v=oe(l)?!!l.capture:!!l,A=$n(i);if(A||(i[dr]=A=new Wn(i)),(n=A.add(e,n,o,v,p)).proxy)return n;if(o=function dn(){var e=Kn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Mt||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Tn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Nt(i,e,n,o,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Nt(i,e[p],n,o,l);return null}return n=Be(n),i&&i[bt]?i.O(e,n,oe(o)?!!o.capture:!!o,l):ur(i,e,n,!0,o,l)}function Dt(i,e,n,o,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)Dt(i,e[p],n,o,l);else o=oe(o)?!!o.capture:!!o,n=Be(n),i&&i[bt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=mr(p=i.g[e],n,o,l))&&(Gn(p[n]),Array.prototype.splice.call(p,n,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=$n(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mr(e,n,o,l)),(n=-1<i?e[i]:null)&&fn(n))}function fn(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[bt])Qn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Tn(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=$n(e))?(Qn(n,i),0==n.h&&(n.src=null,e[dr]=null)):Gn(i)}}}function Tn(i){return i in bn?bn[i]:bn[i]="on"+i}function Kn(i,e){if(i.ca)i=!0;else{e=new $e(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&fn(i),i=n.call(o,e)}return i}function $n(i){return(i=i[dr])instanceof Wn?i:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(i){return"function"==typeof i?i:(i[Ke]||(i[Ke]=function(e){return i.handleEvent(e)}),i[Ke])}function Qe(){Ne.call(this),this.i=new Wn(this),this.P=this,this.I=null}function vt(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ye(e,i);else if(e instanceof Ye)e.target=e.target||i;else{var l=e;ce(e=new Ye(o,i),l)}if(l=!0,n)for(var p=n.length-1;0<=p;p--){var v=e.g=n[p];l=ye(v,o,!0,e)&&l}if(l=ye(v=e.g=i,o,!0,e)&&l,l=ye(v,o,!1,e)&&l,n)for(p=0;p<n.length;p++)l=ye(v=e.g=n[p],o,!1,e)&&l}function ye(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.ca&&v.capture==n){var A=v.listener,G=v.ia||v.src;v.fa&&Qn(i.i,v),l=!1!==A.call(G,o)&&l}}return l&&!o.defaultPrevented}ke(Qe,Ne),Qe.prototype[bt]=!0,Qe.prototype.removeEventListener=function(i,e,n,o){Dt(this,i,e,n,o)},Qe.prototype.M=function(){if(Qe.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Gn(n[o]);delete i.g[e],i.h--}}this.I=null},Qe.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Qe.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Me=W.JSON.stringify;function Te(){var i=Ht;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var zn,Qt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new vn,i=>i.reset());class vn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zn(i){W.setTimeout(()=>{throw i},0)}function gn(i,e){zn||function ir(){var i=W.Promise.resolve(void 0);zn=function(){i.then(Oe)}}(),Tr||(zn(),Tr=!0),Ht.add(i,e)}var Tr=!1,Ht=new class wt{constructor(){this.h=this.g=null}add(e,n){const o=Qt.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function Oe(){for(var i;i=Te();){try{i.h.call(i.g)}catch(n){Zn(n)}var e=Qt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Tr=!1}function ot(i,e){Qe.call(this),this.h=i||1,this.g=e||W,this.j=_e(this.kb,this),this.l=Date.now()}function qt(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function on(i,e,n){if("function"==typeof i)n&&(i=_e(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=_e(i.handleEvent,i)}return 2147483647<Number(e)?-1:W.setTimeout(i,e||0)}function mn(i){i.g=on(()=>{i.g=null,i.i&&(i.i=!1,mn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ke(ot,Qe),(q=ot.prototype).da=!1,q.S=null,q.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vt(this,"tick"),this.da&&(qt(this),this.start()))}},q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},q.M=function(){ot.Z.M.call(this),qt(this),delete this.g};class ze extends Ne{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mn(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(i){Ne.call(this),this.h=i,this.g={}}ke(At,Ne);var Gt=[];function Rt(i,e,n,o){Array.isArray(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var l=0;l<n.length;l++){var p=Nn(e,n[l],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function yn(i){Z(i.g,function(e,n){this.g.hasOwnProperty(n)&&fn(e)},i),i.g={}}function Rn(){this.g=!0}function de(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Tt(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<l.length;v++)l[v]=""}}}return Me(n)}catch(A){return e}}(i,n)+(o?" "+o:"")})}At.prototype.M=function(){At.Z.M.call(this),yn(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rn.prototype.Aa=function(){this.g=!1},Rn.prototype.info=function(){};var xn={},On=null;function Sn(){return On=On||new Qe}function fr(i){Ye.call(this,xn.Ma,i)}function Cr(i){const e=Sn();vt(e,new fr(e,i))}function Br(i,e){Ye.call(this,xn.STAT_EVENT,i),this.stat=e}function Rr(i){const e=Sn();vt(e,new Br(e,i))}function N(i,e){Ye.call(this,xn.Na,i),this.size=e}function U(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){i()},e)}xn.Ma="serverreachability",ke(fr,Ye),xn.STAT_EVENT="statevent",ke(Br,Ye),xn.Na="timingevent",ke(N,Ye);var V={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ne={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function De(){}function Et(){}De.prototype.h=null;var wn,St={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yt(){Ye.call(this,"d")}function $t(){Ye.call(this,"c")}function Pn(){}function qn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new At(this),this.P=ti,this.W=new ot(i=tn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}ke(yt,Ye),ke($t,Ye),ke(Pn,De),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},wn=new Pn;var ti=45e3,Fr={},zr={};function ni(i,e,n){i.K=1,i.v=Bt(Ur(e)),i.s=n,i.U=!0,vi(i,null)}function vi(i,e){i.F=Date.now(),ui(i),i.A=Ur(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),d(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Sr,i.g=Ul(i.l,n?e:null,!i.s),0<i.O&&(i.L=new ze(_e(i.Ia,i,i.g),i.O)),Rt(i.V,i.g,"readystatechange",i.gb),e=i.H?ue(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Cr(1),function ct(i,e,n,o,l,p){i.info(function(){if(i.g)if(p)for(var v="",A=p.split("&"),G=0;G<A.length;G++){var ae=A[G].split("=");if(1<ae.length){var et=ae[0];ae=ae[1];var pt=et.split("_");v=2<=pt.length&&"type"==pt[1]?v+(et+"=")+ae+"&":v+(et+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Qr(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Gi(i,e,n){let l,o=!0;for(;!i.I&&i.C<n.length;){if(l=Ni(i,n),l==zr){4==e&&(i.o=4,Rr(14),o=!1),de(i.j,i.m,null,"[Incomplete Response]");break}if(l==Fr){i.o=4,Rr(15),de(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}de(i.j,i.m,l,null),ki(i,l)}Qr(i)&&l!=zr&&l!=Fr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Rr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xs(e),e.L=!0,Rr(11))):(de(i.j,i.m,n,"[Invalid Chunked Response]"),Xr(i),mi(i))}function Ni(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?zr:(n=Number(e.substring(n,o)),isNaN(n)?Fr:(o+=1)+n>e.length?zr:(e=e.substr(o,n),i.C=o+n,e))}function ui(i){i.Y=Date.now()+i.P,Ui(i,i.P)}function Ui(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=U(_e(i.eb,i),e)}function Ti(i){i.B&&(W.clearTimeout(i.B),i.B=null)}function mi(i){0==i.l.G||i.I||Ca(i.l,i)}function Xr(i){Ti(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,qt(i.W),yn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ki(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Un(n.i,i)))if(n.I=i.N,!i.J&&Un(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(ae){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(n.u)n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=U(_e(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;ro(n),xr(n)}Ko(n),Rr(18)}if(1>=hn(n.i)&&n.ka){try{n.ka()}catch(ae){}n.ka=void 0}}else ws(n,11)}else if((i.J||n.g==i)&&ro(n),!Re(e))for(l=n.Ca.g.parse(e),e=0;e<l.length;e++){let ae=l[e];if(n.U=ae[0],ae=ae[1],2==n.G)if("c"==ae[0]){n.J=ae[1],n.la=ae[2];const et=ae[3];null!=et&&(n.ma=et,n.h.info("VER="+n.ma));const pt=ae[4];null!=pt&&(n.za=pt,n.h.info("SVER="+n.za));const Vt=ae[5];null!=Vt&&"number"==typeof Vt&&0<Vt&&(n.K=o=1.5*Vt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const cn=i.g;if(cn){const Cn=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cn){var p=o.i;!p.g&&(je(Cn,"spdy")||je(Cn,"quic")||je(Cn,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(jn(p,p.h),p.h=null))}if(o.D){const vr=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;vr&&(o.sa=vr,at(o.F,o.D,vr))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var v=i;if((o=n).oa=Ta(o,o.H?o.la:null,o.W),v.J){Dr(o.i,v);var A=v,G=o.K;G&&A.setTimeout(G),A.B&&(Ti(A),ui(A)),o.g=v}else So(o);0<n.l.length&&Ii(n)}else"stop"!=ae[0]&&"close"!=ae[0]||ws(n,7);else 3==n.G&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?ws(n,7):tr(n):"noop"!=ae[0]&&n.j&&n.j.wa(ae),n.A=0)}Cr(4)}catch(ae){}}function ps(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(we(i)||"string"==typeof i)ht(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(we(i)||"string"==typeof i){n=[];for(var o=i.length,l=0;l<o;l++)n.push(l)}else for(l in n=[],o=0,i)n[o++]=l;o=function Si(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(we(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length;for(var p=0;p<l;p++)e.call(void 0,o[p],n&&n[p],i)}}function ri(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ri)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function si(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Wr(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=e=0;e<i.g.length;)Wr(l,o=i.g[e])||(i.g[n++]=o,l[o]=1),e++;i.g.length=n}}function Wr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(q=qn.prototype).setTimeout=function(i){this.P=i},q.gb=function(i){i=i.target;const e=this.L;e&&3==Ee(i)?e.l():this.Ia(i)},q.Ia=function(i){try{if(i==this.g)e:{const et=Ee(this.g);var e=this.g.Da();const pt=this.g.ba();if(!(3>et)&&(3!=et||tn||this.g&&(this.h.h||this.g.ga()||me(this.g)))){this.I||4!=et||7==e||Cr(8==e||0>=pt?3:2),Ti(this);var n=this.g.ba();this.N=n;t:if(Qr(this)){var o=me(this.g);i="";var l=o.length,p=4==Ee(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xr(this),mi(this);var v="";break t}this.h.i=new W.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==n,function K(i,e,n,o,l,p,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.X,et,n),this.i){if(this.$&&!this.J){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(A)){var ae=A;break t}}ae=null}if(!(n=ae)){this.i=!1,this.o=3,Rr(12),Xr(this),mi(this);break e}de(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ki(this,n)}this.U?(Gi(this,et,v),tn&&this.i&&3==et&&(Rt(this.V,this.W,"tick",this.fb),this.W.start())):(de(this.j,this.m,v,null),ki(this,v)),4==et&&Xr(this),this.i&&!this.I&&(4==et?Ca(this.l,this):(this.i=!1,ui(this)))}else 400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),Xr(this),mi(this)}}}catch(et){}},q.fb=function(){if(this.g){var i=Ee(this.g),e=this.g.ga();this.C<e.length&&(Ti(this),Gi(this,i,e),this.i&&4!=i&&ui(this))}},q.cancel=function(){this.I=!0,Xr(this)},q.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function gt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cr(3),Rr(17)),Xr(this),this.o=2,mi(this)):Ui(this,this.Y-i)},(q=ri.prototype).R=function(){si(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},q.T=function(){return si(this),this.g.concat()},q.get=function(i,e){return Wr(this.h,i)?this.h[i]:e},q.set=function(i,e){Wr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},q.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var l=n[o],p=this.get(l);i.call(e,p,l,this)}};var Ai=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof oi){this.g=void 0!==e?e:i.g,ji(this,i.j),this.s=i.s,Jr(this,i.i),tt(this,i.m),this.l=i.l,e=i.h;var n=new br;n.i=e.i,e.g&&(n.g=new ri(e.g),n.h=e.h),We(this,n),this.o=i.o}else i&&(n=String(i).match(Ai))?(this.g=!!e,ji(this,n[1]||"",!0),this.s=Ce(n[2]||""),Jr(this,n[3]||"",!0),tt(this,n[4]),this.l=Ce(n[5]||"",!0),We(this,n[6]||"",!0),this.o=Ce(n[7]||"")):(this.g=!!e,this.h=new br(null,this.g))}function Ur(i){return new oi(i)}function ji(i,e,n){i.j=n?Ce(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Jr(i,e,n){i.i=n?Ce(e,!0):e}function tt(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function We(i,e,n){e instanceof br?(i.h=e,function g(i,e){e&&!i.j&&(wr(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(k(this,o),d(this,l,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ve(e,kn)),i.h=new br(e,i.g))}function at(i,e,n){i.h.set(e,n)}function Bt(i){return at(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ce(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ve(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,lt),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function lt(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}oi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ve(e,Ct,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ve(e,Ct,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ve(n,"/"==n.charAt(0)?Fn:ln,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ve(n,hr)),i.join("")};var Ct=/[#\/\?@]/g,ln=/[#\?:]/g,Fn=/[#\?]/g,kn=/[#\?@]/g,hr=/#/g;function br(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function wr(i){i.g||(i.g=new ri,i.h=0,i.i&&function ls(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var p=i[n].substring(0,o);l=i[n].substring(o+1)}else p=i[n];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function k(i,e){wr(i),e=_(i,e),Wr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Wr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&si(i)))}function X(i,e){return wr(i),e=_(i,e),Wr(i.g.h,e)}function d(i,e,n){k(i,e),0<n.length&&(i.i=null,i.g.set(_(i,e),Le(n)),i.h+=n.length)}function _(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function z(i){this.l=i||dt,i=W.PerformanceNavigationTiming?0<(i=W.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(W.g&&W.g.Ea&&W.g.Ea()&&W.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(q=br.prototype).add=function(i,e){wr(this),this.i=null,i=_(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},q.forEach=function(i,e){wr(this),this.g.forEach(function(n,o){ht(n,function(l){i.call(e,l,o,this)},this)},this)},q.T=function(){wr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var l=i[o],p=0;p<l.length;p++)n.push(e[o]);return n},q.R=function(i){wr(this);var e=[];if("string"==typeof i)X(this,i)&&(e=Fe(e,this.g.get(_(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=Fe(e,i[n])}return e},q.set=function(i,e){return wr(this),this.i=null,X(this,i=_(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},q.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],l=encodeURIComponent(String(o));o=this.R(o);for(var p=0;p<o.length;p++){var v=l;""!==o[p]&&(v+="="+encodeURIComponent(String(o[p]))),i.push(v)}}return this.i=i.join("&")};var dt=10;function nn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function hn(i){return i.h?1:i.g?i.g.size:0}function Un(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function jn(i,e){i.g?i.g.add(e):i.h=e}function Dr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function sr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Le(i.i)}function kr(){}function li(){this.g=new kr}function _i(i,e,n){const o=n||"";try{ps(i,function(l,p){let v=l;oe(l)&&(v=Me(l)),e.push(o+p+"="+encodeURIComponent(v))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function wi(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(p){}}function B(i){this.l=i.$b||null,this.j=i.ib||!1}function x(i,e){Qe.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=R,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}z.prototype.cancel=function(){if(this.i=sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},kr.prototype.stringify=function(i){return W.JSON.stringify(i,void 0)},kr.prototype.parse=function(i){return W.JSON.parse(i,void 0)},ke(B,De),B.prototype.g=function(){return new x(this.l,this.j)},B.prototype.i=function(i){return function(){return i}}({}),ke(x,Qe);var R=0;function pe(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Wt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Xn(i)}function Xn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(q=x.prototype).open=function(i,e){if(this.readyState!=R)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Xn(this)},q.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||W).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=R},q.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==W.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pe(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},q.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wt(this):Xn(this),3==this.readyState&&pe(this)}},q.Ua=function(i){this.g&&(this.response=this.responseText=i,Wt(this))},q.Ta=function(i){this.g&&(this.response=i,Wt(this))},q.ha=function(){this.g&&Wt(this)},q.setRequestHeader=function(i,e){this.v.append(i,e)},q.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},q.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(x.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ai=W.JSON.parse;function Nr(i){Qe.call(this),this.headers=new ri,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_s,this.K=this.L=!1}ke(Nr,Qe);var _s="",sn=/^https?$/i,Pr=["POST","PUT"];function ii(i){return"content-type"==i.toLowerCase()}function Do(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Es(i),Ks(i)}function Es(i){i.D||(i.D=!0,vt(i,"complete"),vt(i,"error"))}function cs(i){if(i.h&&void 0!==ee&&(!i.C[1]||4!=Ee(i)||2!=i.ba()))if(i.v&&4==Ee(i))on(i.Fa,0,i);else if(vt(i,"readystatechange"),4==Ee(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===A){var l=String(i.H).match(Ai)[1]||null;if(!l&&W.self&&W.self.location){var p=W.self.location.protocol;l=p.substr(0,p.length-1)}o=!sn.test(l?l.toLowerCase():"")}n=o}if(n)vt(i,"complete"),vt(i,"success");else{i.m=6;try{var v=2<Ee(i)?i.g.statusText:""}catch(G){v=""}i.j=v+" ["+i.ba()+"]",Es(i)}}finally{Ks(i)}}}function Ks(i,e){if(i.g){Ys(i);const n=i.g,o=i.C[0]?re:null;i.g=null,i.C=null,e||vt(i,"ready");try{n.onreadystatechange=o}catch(l){}}}function Ys(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(W.clearTimeout(i.A),i.A=null)}function Ee(i){return i.g?i.g.readyState:0}function me(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case _s:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rt(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function te(i){let e="";return Z(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):at(i,e,n))}function It(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function An(i){this.za=0,this.l=[],this.h=new Rn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=It("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=It("baseRetryDelayMs",5e3,i),this.$a=It("retryDelaySeedMs",1e4,i),this.Ya=It("forwardChannelMaxRetries",2,i),this.ra=It("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new z(i&&i.concurrentRequestLimit),this.Ca=new li,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function tr(i){if(qr(i),3==i.G){var e=i.V++,n=Ur(i.F);at(n,"SID",i.J),at(n,"RID",e),at(n,"TYPE","terminate"),Fs(i,n),(e=new qn(i,i.h,e,void 0)).K=2,e.v=Bt(Ur(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(e.v.toString(),"")),!n&&W.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ul(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ui(e)}Da(i)}function xr(i){i.g&&(Xs(i),i.g.cancel(),i.g=null)}function qr(i){xr(i),i.u&&(W.clearTimeout(i.u),i.u=null),ro(i),i.i.cancel(),i.m&&("number"==typeof i.m&&W.clearTimeout(i.m),i.m=null)}function is(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ii(i)}function Ii(i){nn(i.i)||i.m||(i.m=!0,gn(i.Ha,i),i.C=0)}function Zs(i,e){var n;n=e?e.m:i.V++;const o=Ur(i.F);at(o,"SID",i.J),at(o,"RID",n),at(o,"AID",i.U),Fs(i,o),i.o&&i.s&&rt(o,i.o,i.s),n=new qn(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=To(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),jn(i.i,n),ni(n,o,e)}function Fs(i,e){i.j&&ps({},function(n,o){at(e,o,n)})}function To(i,e,n){n=Math.min(i.l.length,n);var o=i.j?_e(i.j.Oa,i.j,i):null;e:{var l=i.l;let p=-1;for(;;){const v=["count="+n];-1==p?0<n?(p=l[0].h,v.push("ofs="+p)):p=0:v.push("ofs="+p);let A=!0;for(let G=0;G<n;G++){let ae=l[G].h;const et=l[G].g;if(ae-=p,0>ae)p=Math.max(0,l[G].h-100),A=!1;else try{_i(et,v,"req"+ae+"_")}catch(pt){o&&o(et)}}if(A){o=v.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function So(i){i.g||i.u||(i.Y=1,gn(i.Ga,i),i.A=0)}function Ko(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=U(_e(i.Ga,i),cu(i,i.A)),i.A++,0))}function Xs(i){null!=i.B&&(W.clearTimeout(i.B),i.B=null)}function Ia(i){i.g=new qn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Ur(i.oa);at(e,"RID","rpc"),at(e,"SID",i.J),at(e,"CI",i.N?"0":"1"),at(e,"AID",i.U),Fs(i,e),at(e,"TYPE","xmlhttp"),i.o&&i.s&&rt(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Bt(Ur(e)),n.s=null,n.U=!0,vi(n,i)}function ro(i){null!=i.v&&(W.clearTimeout(i.v),i.v=null)}function Ca(i,e){var n=null;if(i.g==e){ro(i),Xs(i),i.g=null;var o=2}else{if(!Un(i.i,e))return;n=e.D,Dr(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;vt(o=Sn(),new N(o,n,e,l)),Ii(i)}else So(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function qo(i,e){return!(hn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=U(_e(i.Ha,i,e),cu(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ko(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:ws(i,5);break;case 4:ws(i,10);break;case 3:ws(i,6);break;default:ws(i,2)}}function cu(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function ws(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=_e(i.jb,i);n||(n=new oi("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||ji(n,"https"),Bt(n)),function ei(i,e){const n=new Rn;if(W.Image){const o=new Image;o.onload=Ie(wi,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ie(wi,n,o,"TestLoadImage: error",!1,e),o.onabort=Ie(wi,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ie(wi,n,o,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Rr(2);i.G=0,i.j&&i.j.va(e),Da(i),qr(i)}function Da(i){i.G=0,i.I=-1,i.j&&((0!=sr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Le(i.l),i.l.length=0),i.j.ua())}function Ta(i,e,n){let o=function $(i){return i instanceof oi?Ur(i):new oi(i,void 0)}(n);if(""!=o.i)e&&Jr(o,e+"."+o.i),tt(o,o.m);else{const l=W.location;o=function F(i,e,n,o){var l=new oi(null,void 0);return i&&ji(l,i),e&&Jr(l,e),n&&tt(l,n),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&Z(i.aa,function(l,p){at(o,p,l)}),n=i.sa,(e=i.D)&&n&&at(o,e,n),at(o,"VER",i.ma),Fs(i,o),o}function Ul(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(n&&i.Ba&&!i.qa?new B({ib:!0}):i.qa)).L=i.H,e}function Sa(){}function Fi(){if(Ft&&!(10<=Number(ar)))throw Error("Environmental error: no available transport.")}function xi(i,e){Qe.call(this),this.g=new An(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Re(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Re(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Js(this)}function Ei(i){yt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function jl(){$t.call(this),this.status=1}function Js(i){this.g=i}(q=Nr.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wn.g(),this.C=function Je(i){return i.h||(i.h=i.i())}(this.u?this.u:wn),this.g.onreadystatechange=_e(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void Do(this,p)}i=n||"";const l=new ri(this.headers);o&&ps(o,function(p,v){l.set(v,p)}),o=function Ue(i){e:{var e=ii;const n=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<n;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),n=W.FormData&&i instanceof W.FormData,!(0<=Ge(Pr,e))||o||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(p,v){this.g.setRequestHeader(v,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ys(this),0<this.B&&((this.K=function ks(i){return Ft&&function Vn(){return function mt(i){var e=Hn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=it(String(lr)).split("."),n=it("9").split("."),o=Math.max(e.length,n.length);for(let v=0;0==i&&v<o;v++){var l=e[v]||"",p=n[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==l[0].length&&0==p[0].length)break;i=Ut(0==l[1].length?0:parseInt(l[1],10),0==p[1].length?0:parseInt(p[1],10))||Ut(0==l[2].length,0==p[2].length)||Ut(l[2],p[2]),l=l[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_e(this.pa,this)):this.A=on(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){Do(this,p)}},q.pa=function(){void 0!==ee&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))},q.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,vt(this,"complete"),vt(this,"abort"),Ks(this))},q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ks(this,!0)),Nr.Z.M.call(this)},q.Fa=function(){this.s||(this.F||this.v||this.l?cs(this):this.cb())},q.cb=function(){cs(this)},q.ba=function(){try{return 2<Ee(this)?this.g.status:-1}catch(i){return-1}},q.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},q.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ai(e)}},q.Da=function(){return this.m},q.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(q=An.prototype).ma=8,q.G=1,q.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},q.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new qn(this,this.h,i,void 0);let p=this.s;if(this.P&&(p?(p=ue(p),ce(p,this.P)):p=this.P),null===this.o&&(l.H=p),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=To(this,l,e),at(n=Ur(this.F),"RID",i),at(n,"CVER",22),this.D&&at(n,"X-HTTP-Session-Id",this.D),Fs(this,n),this.o&&p&&rt(n,this.o,p),jn(this.i,l),this.Ra&&at(n,"TYPE","init"),this.ja?(at(n,"$req",e),at(n,"SID","null"),l.$=!0,ni(l,n,null)):ni(l,n,e),this.G=2}}else 3==this.G&&(i?Zs(this,i):0==this.l.length||nn(this.i)||Zs(this))},q.Ga=function(){if(this.u=null,Ia(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=U(_e(this.bb,this),i)}},q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rr(10),xr(this),Ia(this))},q.ab=function(){null!=this.v&&(this.v=null,xr(this),Ko(this),Rr(19))},q.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Rr(2)):(this.h.info("Failed to ping google.com"),Rr(1))},(q=Sa.prototype).xa=function(){},q.wa=function(){},q.va=function(){},q.ua=function(){},q.Oa=function(){},Fi.prototype.g=function(i,e){return new xi(i,e)},ke(xi,Qe),xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),gn(_e(i.hb,i,e))),Rr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Ta(i,null,i.W),Ii(i)},xi.prototype.close=function(){tr(this.g)},xi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,is(this.g,e)}else this.v?((e={}).__data__=Me(i),is(this.g,e)):is(this.g,i)},xi.prototype.M=function(){this.g.j=null,delete this.j,tr(this.g),delete this.g,xi.Z.M.call(this)},ke(Ei,yt),ke(jl,$t),ke(Js,Sa),Js.prototype.xa=function(){vt(this.g,"a")},Js.prototype.wa=function(i){vt(this.g,new Ei(i))},Js.prototype.va=function(i){vt(this.g,new jl(i))},Js.prototype.ua=function(){vt(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,V.NO_ERROR=0,V.TIMEOUT=8,V.HTTP_ERROR=6,ne.COMPLETE="complete",Et.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Qe.prototype.listen=Qe.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var Qs=se.createWebChannelTransport=function(){return new Fi},du=se.getStatEventTarget=function(){return Sn()},hu=se.ErrorCode=V,ss=se.EventType=ne,Aa=se.Event=xn,Ao=se.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ls=se.FetchXmlHttpFactory=B,Is=se.WebChannel=Et,io=se.XhrIo=Nr;const Yo="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let bs="9.6.10";const Bs=new Y.Yd("@firebase/firestore");function xa(){return Bs.logLevel}function Zo(i){Bs.setLogLevel(i)}function Dn(i,...e){if(Bs.logLevel<=Y.in.DEBUG){const n=e.map(fu);Bs.debug(`Firestore (${bs}): ${i}`,...n)}}function Li(i,...e){if(Bs.logLevel<=Y.in.ERROR){const n=e.map(fu);Bs.error(`Firestore (${bs}): ${i}`,...n)}}function ds(i,...e){if(Bs.logLevel<=Y.in.WARN){const n=e.map(fu);Bs.warn(`Firestore (${bs}): ${i}`,...n)}}function fu(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function pr(i="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+i;throw Li(e),new Error(e)}function Ir(i,e){i||pr()}function qu(i,e){i||pr()}function Mn(i,e){return i}const jt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends he.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class $s{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ci.UNAUTHENTICATED))}shutdown(){}}class xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mo{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const p=ae=>this.i!==l?(l=this.i,n(ae)):Promise.resolve();let v=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Ci,e.enqueueRetryable(()=>p(this.currentUser))};const A=()=>{const ae=v;e.enqueueRetryable((0,a.Z)(function*(){yield ae.promise,yield p(o.currentUser)}))},G=ae=>{Dn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(ae=>G(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?G(ae):(Dn("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Ci)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Dn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ir("string"==typeof o.accessToken),new $s(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ir(null===e||"string"==typeof e),new ci(e)}}class Ma{constructor(e,n,o){this.type="FirstParty",this.user=ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class pu{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Ma(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ro{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=p=>{null!=p.error&&Dn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.p;return this.p=p.token,Dn("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const l=p=>{Dn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?l(p):Dn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ir("string"==typeof n.token),this.p=n.token,new Xo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class S{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function w(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}S.A=-1;class E{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=w(40);for(let p=0;p<l.length;++p)o.length<20&&l[p]<n&&(o+=e.charAt(l[p]%e.length))}return o}}function O(i,e){return i<e?-1:i>e?1:0}function j(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function ge(i){return i+"\0"}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _n(jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _n(jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _n(jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new qe(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?O(this.nanoseconds,e.nanoseconds):O(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new qe(0,0))}static max(){return new Ze(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xt(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function er(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Vr(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yr{constructor(e,n,o){void 0===n?n=0:n>e.length&&pr(),void 0===o?o=e.length-n:o>e.length-n&&pr(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===yr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const p=e.get(l),v=n.get(l);if(p<v)return-1;if(p>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gr extends yr{construct(e,n,o){return new gr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new _n(jt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new gr(n)}static emptyPath(){return new gr([])}}const Hr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends yr{construct(e,n,o){return new Gr(e,n,o)}static isValidIdentifier(e){return Hr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const p=()=>{if(0===o.length)throw new _n(jt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new _n(jt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[l+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new _n(jt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,l+=2}else"`"===A?(v=!v,l++):"."!==A||v?(o+=A,l++):(p(),l++)}if(p(),v)throw new _n(jt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(n)}static emptyPath(){return new Gr([])}}class gs{constructor(e){this.fields=e,e.sort(Gr.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return j(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Jo(){return"undefined"!=typeof atob}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new bi(n)}static fromUint8Array(e){const n=function(o){let l="";for(let p=0;p<o.length;++p)l+=String.fromCharCode(o[p]);return l}(e);return new bi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return O(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const Cs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(i){if(Ir(!!i),"string"==typeof i){let e=0;const n=Cs.exec(i);if(Ir(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:di(i.seconds),nanos:di(i.nanos)}}function di(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function so(i){return"string"==typeof i?bi.fromBase64String(i):bi.fromUint8Array(i)}function Oo(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qo(i){const e=i.mapValue.fields.__previous_value__;return Oo(e)?Qo(e):e}function Ds(i){const e=Vs(i.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class Bc{constructor(e,n,o,l,p,v,A,G){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=G}}class Us{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}function Ts(i){return null==i}function Yu(i){return 0===i&&1/i==-1/0}function $c(i){return"number"==typeof i&&Number.isInteger(i)&&!Yu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class In{constructor(e){this.path=e}static fromPath(e){return new In(gr.fromString(e))}static fromName(e){return new In(gr.fromString(e).popFirst(5))}static empty(){return new In(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new In(new gr(e.slice()))}}const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rh={nullValue:"NULL_VALUE"};function Ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Oo(i)?4:gu(i)?9:10:pr()}function js(i,e){if(i===e)return!0;const n=Ra(i);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ds(i).isEqual(Ds(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const p=Vs(o.timestampValue),v=Vs(l.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,so(i.bytesValue).isEqual(so(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return di(o.geoPointValue.latitude)===di(l.geoPointValue.latitude)&&di(o.geoPointValue.longitude)===di(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return di(o.integerValue)===di(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const p=di(o.doubleValue),v=di(l.doubleValue);return p===v?Yu(p)===Yu(v):isNaN(p)&&isNaN(v)}return!1}(i,e);case 9:return j(i.arrayValue.values||[],e.arrayValue.values||[],js);case 10:return function(o,l){const p=o.mapValue.fields||{},v=l.mapValue.fields||{};if(Xt(p)!==Xt(v))return!1;for(const A in p)if(p.hasOwnProperty(A)&&(void 0===v[A]||!js(p[A],v[A])))return!1;return!0}(i,e);default:return pr()}var l}function Zu(i,e){return void 0!==(i.values||[]).find(n=>js(n,e))}function oo(i,e){if(i===e)return 0;const n=Ra(i),o=Ra(e);if(n!==o)return O(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return O(i.booleanValue,e.booleanValue);case 2:return function(l,p){const v=di(l.integerValue||l.doubleValue),A=di(p.integerValue||p.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return ih(i.timestampValue,e.timestampValue);case 4:return ih(Ds(i),Ds(e));case 5:return O(i.stringValue,e.stringValue);case 6:return function(l,p){const v=so(l),A=so(p);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,p){const v=l.split("/"),A=p.split("/");for(let G=0;G<v.length&&G<A.length;G++){const ae=O(v[G],A[G]);if(0!==ae)return ae}return O(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,p){const v=O(di(l.latitude),di(p.latitude));return 0!==v?v:O(di(l.longitude),di(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,p){const v=l.values||[],A=p.values||[];for(let G=0;G<v.length&&G<A.length;++G){const ae=oo(v[G],A[G]);if(ae)return ae}return O(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,p){const v=l.fields||{},A=Object.keys(v),G=p.fields||{},ae=Object.keys(G);A.sort(),ae.sort();for(let et=0;et<A.length&&et<ae.length;++et){const pt=O(A[et],ae[et]);if(0!==pt)return pt;const Vt=oo(v[A[et]],G[ae[et]]);if(0!==Vt)return Vt}return O(A.length,ae.length)}(i.mapValue,e.mapValue);default:throw pr()}}function ih(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return O(i,e);const n=Vs(i),o=Vs(e),l=O(n.seconds,o.seconds);return 0!==l?l:O(n.nanos,o.nanos)}function Ss(i){return Uc(i)}function Uc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Vs(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?so(i.bytesValue).toBase64():"referenceValue"in i?In.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",p=!0;for(const v of o.values||[])p?p=!1:l+=",",l+=Uc(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let p="{",v=!0;for(const A of l)v?v=!1:p+=",",p+=`${A}:${Uc(o.fields[A])}`;return p+"}"}(i.mapValue):pr();var e}function fi(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Po(i){return!!i&&"integerValue"in i}function Hs(i){return!!i&&"arrayValue"in i}function sh(i){return!!i&&"nullValue"in i}function Xu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hs(i){return!!i&&"mapValue"in i}function Bi(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return er(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Bi(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bi(i.arrayValue.values[n]);return e}return Object.assign({},i)}function gu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function mu(i,e){return void 0===i?e:void 0===e||oo(i,e)>0?i:e}function Oa(i,e){return void 0===i?e:void 0===e||oo(i,e)<0?i:e}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!hs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bi(n)}setAll(e){let n=Gr.emptyPath(),o={},l=[];e.forEach((v,A)=>{if(!n.isImmediateParentOf(A)){const G=this.getFieldsMap(n);this.applyChanges(G,o,l),o={},l=[],n=A.popLast()}v?o[A.lastSegment()]=Bi(v):l.push(A.lastSegment())});const p=this.getFieldsMap(n);this.applyChanges(p,o,l)}delete(e){const n=this.field(e.popLast());hs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];hs(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){er(n,(l,p)=>e[l]=p);for(const l of o)delete e[l]}clone(){return new Qi(Bi(this.value))}}function Ju(i){const e=[];return er(i.fields,(n,o)=>{const l=new Gr([n]);if(hs(o)){const p=Ju(o.mapValue).fields;if(0===p.length)e.push(l);else for(const v of p)e.push(l.child(v))}else e.push(l)}),new gs(e)}class pi{constructor(e,n,o,l,p,v){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.data=p,this.documentState=v}static newInvalidDocument(e){return new pi(e,0,Ze.min(),Ze.min(),Qi.empty(),0)}static newFoundDocument(e,n,o){return new pi(e,1,n,Ze.min(),o,0)}static newNoDocument(e,n){return new pi(e,2,n,Ze.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new pi(e,3,n,Ze.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gl{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function jc(i){return i.fields.find(e=>2===e.kind)}function ao(i){return i.fields.filter(e=>2!==e.kind)}Gl.UNKNOWN_ID=-1;class os{constructor(e,n){this.fieldPath=e,this.kind=n}}class uo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new uo(0,As.min())}}function ea(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Ze.fromTimestamp(1e9===o?new qe(n+1,0):new qe(n,o));return new As(l,In.empty(),e)}function Hc(i){return new As(i.readTime,i.key,-1)}class As{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new As(Ze.min(),In.empty(),-1)}static max(){return new As(Ze.max(),In.empty(),-1)}}function oh(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=In.comparator(i.documentKey,e.documentKey),0!==n?n:O(i.largestBatchId,e.largestBatchId))}class Qu{constructor(e,n=null,o=[],l=[],p=null,v=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=p,this.startAt=v,this.endAt=A,this.P=null}}function Gc(i,e=null,n=[],o=[],l=null,p=null,v=null){return new Qu(i,e,n,o,l,p,v)}function ta(i){const e=Mn(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+Ss(l.value);var l}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Ts(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ss(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ss(o)).join(",")),e.P=n}return e.P}function No(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!ch(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(o=e.filters[l]).op||!n.field.isEqual(o.field)||!js(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yu(i.startAt,e.startAt)&&yu(i.endAt,e.endAt)}function ko(i){return In.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function na(i,e){return i.filters.filter(n=>n instanceof es&&n.field.isEqual(e))}class es extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new Pa(e,n,o):"array-contains"===n?new ah(e,o):"in"===n?new uh(e,o):"not-in"===n?new nl(e,o):"array-contains-any"===n?new lh(e,o):new es(e,n,o)}static V(e,n,o){return"in"===n?new Wl(e,o):new el(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(oo(n,this.value)):null!==n&&Ra(this.value)===Ra(n)&&this.v(oo(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pr()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Pa extends es{constructor(e,n,o){super(e,n,o),this.key=In.fromName(o.referenceValue)}matches(e){const n=In.comparator(e.key,this.key);return this.v(n)}}class Wl extends es{constructor(e,n){super(e,"in",n),this.keys=tl(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class el extends es{constructor(e,n){super(e,"not-in",n),this.keys=tl(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tl(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>In.fromName(o.referenceValue))}class ah extends es{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hs(n)&&Zu(n.arrayValue,this.value)}}class uh extends es{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Zu(this.value.arrayValue,n)}}class nl extends es{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Zu(this.value.arrayValue,n)}}class lh extends es{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Zu(this.value.arrayValue,o))}}class xs{constructor(e,n){this.position=e,this.inclusive=n}}class lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function ch(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Mi(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const p=e[l],v=i.position[l];if(o=p.field.isKeyField()?In.comparator(In.fromName(v.referenceValue),n.key):oo(v,n.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function yu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!js(i.position[n],e.position[n]))return!1;return!0}class Gs{constructor(e,n=null,o=[],l=[],p=null,v="F",A=null,G=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=p,this.limitType=v,this.startAt=A,this.endAt=G,this.D=null,this.C=null}}function vu(i,e,n,o,l,p,v,A){return new Gs(i,e,n,o,l,p,v,A)}function Ms(i){return new Gs(i)}function rl(i){return!Ts(i.limit)&&"F"===i.limitType}function _u(i){return!Ts(i.limit)&&"L"===i.limitType}function il(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ra(i){for(const e of i.filters)if(e.S())return e.field;return null}function ia(i){return null!==i.collectionGroup}function Fo(i){const e=Mn(i);if(null===e.D){e.D=[];const n=ra(e),o=il(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new lo(n)),e.D.push(new lo(Gr.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.D.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new lo(Gr.keyField(),p))}}}return e.D}function zi(i){const e=Mn(i);if(!e.C)if("F"===e.limitType)e.C=Gc(e.path,e.collectionGroup,Fo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const p of Fo(e))n.push(new lo(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new xs(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new xs(e.startAt.position,!e.startAt.inclusive):null;e.C=Gc(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.C}function zc(i,e,n){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Na(i,e){return No(zi(i),zi(e))&&i.limitType===e.limitType}function sl(i){return`${ta(zi(i))}|lt:${i.limitType}`}function Lo(i){return`Query(target=${function zl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Ss(o.value)}`;var o}).join(", ")}]`),Ts(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>Ss(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>Ss(n)).join(",")),`Target(${e})`}(zi(i))}; limitType=${i.limitType})`}function ol(i,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):In.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,o){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(l,p,v){const A=Mi(l,p,v);return l.inclusive?A<=0:A<0}(n.startAt,Fo(n),o)||n.endAt&&!function(l,p,v){const A=Mi(l,p,v);return l.inclusive?A>=0:A>0}(n.endAt,Fo(n),o)));var n,o}function Wc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ql(i){return(e,n)=>{let o=!1;for(const l of Fo(i)){const p=ka(l,e,n);if(0!==p)return p;o=o||l.field.isKeyField()}return 0}}function ka(i,e,n){const o=i.field.isKeyField()?In.comparator(e.key,n.key):function(l,p,v){const A=p.data.field(l),G=v.data.field(l);return null!==A&&null!==G?oo(A,G):pr()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return pr()}}function co(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function qc(i){return{integerValue:""+i}}function dh(i,e){return $c(e)?qc(e):co(i,e)}class Eu{constructor(){this._=void 0}}function hh(i,e,n){return i instanceof Fa?function(o,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(p.fields.__previous_value__=l),{mapValue:p}}(n,e):i instanceof sa?oa(i,e):i instanceof ho?aa(i,e):function(o,l){const p=Kc(o,l),v=Yc(p)+Yc(o.k);return Po(p)&&Po(o.k)?qc(v):co(o.M,v)}(i,e)}function pp(i,e,n){return i instanceof sa?oa(i,e):i instanceof ho?aa(i,e):n}function Kc(i,e){return i instanceof La?Po(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Fa extends Eu{}class sa extends Eu{constructor(e){super(),this.elements=e}}function oa(i,e){const n=fh(e);for(const o of i.elements)n.some(l=>js(l,o))||n.push(o);return{arrayValue:{values:n}}}class ho extends Eu{constructor(e){super(),this.elements=e}}function aa(i,e){let n=fh(e);for(const o of i.elements)n=n.filter(l=>!js(l,o));return{arrayValue:{values:n}}}class La extends Eu{constructor(e,n){super(),this.M=e,this.k=n}}function Yc(i){return di(i.integerValue||i.doubleValue)}function fh(i){return Hs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class fo{constructor(e,n){this.field=e,this.transform=n}}class Zc{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ua{}function ph(i,e,n){i instanceof ms?function(o,l,p){const v=o.value.clone(),A=Jc(o.fieldTransforms,l,p.transformResults);v.setAll(A),l.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(i,e,n):i instanceof zs?function(o,l,p){if(!bu(o.precondition,l))return void l.convertToUnknownDocument(p.version);const v=Jc(o.fieldTransforms,l,p.transformResults),A=l.data;A.setAll(Zl(o)),A.setAll(v),l.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wu(i,e,n){var l;i instanceof ms?function(o,l,p){if(!bu(o.precondition,l))return;const v=o.value.clone(),A=mh(o.fieldTransforms,p,l);v.setAll(A),l.convertToFoundDocument(Xc(l),v).setHasLocalMutations()}(i,e,n):i instanceof zs?function(o,l,p){if(!bu(o.precondition,l))return;const v=mh(o.fieldTransforms,p,l),A=l.data;A.setAll(Zl(o)),A.setAll(v),l.convertToFoundDocument(Xc(l),A).setHasLocalMutations()}(i,e,n):bu(i.precondition,l=e)&&l.convertToNoDocument(Ze.min())}function gh(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),p=Kc(o.transform,l||null);null!=p&&(null==n&&(n=Qi.empty()),n.set(o.field,p))}return n||null}function Yl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&j(n,o,(l,p)=>function Kl(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof sa&&o instanceof sa||n instanceof ho&&o instanceof ho?j(n.elements,o.elements,js):n instanceof La&&o instanceof La?js(n.k,o.k):n instanceof Fa&&o instanceof Fa);var n,o}(l,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function Xc(i){return i.isFoundDocument()?i.version:Ze.min()}class ms extends ua{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}}class zs extends ua{constructor(e,n,o,l,p=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=p,this.type=1}}function Zl(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Jc(i,e,n){const o=new Map;Ir(i.length===n.length);for(let l=0;l<n.length;l++){const p=i[l],v=p.transform,A=e.data.field(p.field);o.set(p.field,pp(v,A,n[l]))}return o}function mh(i,e,n){const o=new Map;for(const l of i){const p=l.transform,v=n.data.field(l.field);o.set(l.field,hh(p,v,e))}return o}class al extends ua{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Qc extends ua{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class gp{constructor(e){this.count=e}}var b,f;function m(i){switch(i){default:return pr();case jt.CANCELLED:case jt.UNKNOWN:case jt.DEADLINE_EXCEEDED:case jt.RESOURCE_EXHAUSTED:case jt.INTERNAL:case jt.UNAVAILABLE:case jt.UNAUTHENTICATED:return!1;case jt.INVALID_ARGUMENT:case jt.NOT_FOUND:case jt.ALREADY_EXISTS:case jt.PERMISSION_DENIED:case jt.FAILED_PRECONDITION:case jt.ABORTED:case jt.OUT_OF_RANGE:case jt.UNIMPLEMENTED:case jt.DATA_LOSS:return!0}}function T(i){if(void 0===i)return Li("GRPC error has no .code"),jt.UNKNOWN;switch(i){case b.OK:return jt.OK;case b.CANCELLED:return jt.CANCELLED;case b.UNKNOWN:return jt.UNKNOWN;case b.DEADLINE_EXCEEDED:return jt.DEADLINE_EXCEEDED;case b.RESOURCE_EXHAUSTED:return jt.RESOURCE_EXHAUSTED;case b.INTERNAL:return jt.INTERNAL;case b.UNAVAILABLE:return jt.UNAVAILABLE;case b.UNAUTHENTICATED:return jt.UNAUTHENTICATED;case b.INVALID_ARGUMENT:return jt.INVALID_ARGUMENT;case b.NOT_FOUND:return jt.NOT_FOUND;case b.ALREADY_EXISTS:return jt.ALREADY_EXISTS;case b.PERMISSION_DENIED:return jt.PERMISSION_DENIED;case b.FAILED_PRECONDITION:return jt.FAILED_PRECONDITION;case b.ABORTED:return jt.ABORTED;case b.OUT_OF_RANGE:return jt.OUT_OF_RANGE;case b.UNIMPLEMENTED:return jt.UNIMPLEMENTED;case b.DATA_LOSS:return jt.DATA_LOSS;default:return pr()}}(f=b||(b={}))[f.OK=0]="OK",f[f.CANCELLED=1]="CANCELLED",f[f.UNKNOWN=2]="UNKNOWN",f[f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",f[f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",f[f.NOT_FOUND=5]="NOT_FOUND",f[f.ALREADY_EXISTS=6]="ALREADY_EXISTS",f[f.PERMISSION_DENIED=7]="PERMISSION_DENIED",f[f.UNAUTHENTICATED=16]="UNAUTHENTICATED",f[f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",f[f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",f[f.ABORTED=10]="ABORTED",f[f.OUT_OF_RANGE=11]="OUT_OF_RANGE",f[f.UNIMPLEMENTED=12]="UNIMPLEMENTED",f[f.INTERNAL=13]="INTERNAL",f[f.UNAVAILABLE=14]="UNAVAILABLE",f[f.DATA_LOSS=15]="DATA_LOSS";class Q{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,p]of o)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){er(this.inner,(n,o)=>{for(const[l,p]of o)e(l,p)})}isEmpty(){return Vr(this.inner)}size(){return this.innerSize}}class Pe{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kt(this.root,e,this.comparator,!1)}getReverseIterator(){return new kt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kt(this.root,e,this.comparator,!0)}}class kt{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=n?o(e.key,n):1,n&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,o,l,p){this.key=e,this.value=n,this.color=null!=o?o:en.RED,this.left=null!=l?l:en.EMPTY,this.right=null!=p?p:en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,p){return new en(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const p=o(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===p?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return en.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pr();const e=this.left.check();if(e!==this.right.check())throw pr();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1,en.EMPTY=new class{constructor(){this.size=0}get key(){throw pr()}get value(){throw pr()}get color(){throw pr()}get left(){throw pr()}get right(){throw pr()}copy(i,e,n,o,l){return this}insert(i,e,n){return new en(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Er(this.data.getIterator())}getIteratorFrom(e){return new Er(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,p=o.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class Er{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mr(i){return i.hasNext()?i.getNext():void 0}const yi=new Pe(In.comparator);function Di(){return yi}const po=new Pe(In.comparator);function Iu(){return po}function Cu(){return new Q(i=>i.toString(),(i,e)=>i.isEqual(e))}const ed=new Pe(In.comparator),ul=new Ln(In.comparator);function Kr(...i){let e=ul;for(const n of i)e=e.add(n);return e}const Du=new Ln(O);function ll(){return Du}class Tu{constructor(e,n,o,l,p){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,n)),new Tu(Ze.min(),o,ll(),Di(),Kr())}}class Bo{constructor(e,n,o,l,p){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Bo(bi.EMPTY_BYTE_STRING,n,Kr(),Kr(),Kr())}}class Su{constructor(e,n,o,l){this.O=e,this.removedTargetIds=n,this.key=o,this.F=l}}class td{constructor(e,n){this.targetId=e,this.$=n}}class cl{constructor(e,n,o=bi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class nd{constructor(){this.B=0,this.L=yp(),this.U=bi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Kr(),n=Kr(),o=Kr();return this.L.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:pr()}}),new Bo(this.U,this.q,e,n,o)}J(){this.G=!1,this.L=yp()}Y(e,n){this.G=!0,this.L=this.L.insert(e,n)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class mp{constructor(e){this.nt=e,this.st=new Map,this.it=Di(),this.rt=Xl(),this.ot=new Ln(O)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:pr()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,l)=>{this.ft(l)&&n(l)})}_t(e){const n=e.targetId,o=e.$.count,l=this.wt(n);if(l){const p=l.target;if(ko(p))if(0===o){const v=new In(p.path);this.ct(n,v,pi.newNoDocument(v,Ze.min()))}else Ir(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((p,v)=>{const A=this.wt(v);if(A){if(p.current&&ko(A.target)){const G=new In(A.target.path);null!==this.it.get(G)||this.It(v,G)||this.ct(v,G,pi.newNoDocument(G,e))}p.j&&(n.set(v,p.H()),p.J())}});let o=Kr();this.rt.forEach((p,v)=>{let A=!0;v.forEachWhile(G=>{const ae=this.wt(G);return!ae||2===ae.purpose||(A=!1,!1)}),A&&(o=o.add(p))}),this.it.forEach((p,v)=>v.setReadTime(e));const l=new Tu(e,n,this.ot,this.it,o);return this.it=Di(),this.rt=Xl(),this.ot=new Ln(O),l}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,n)?l.Y(n,1):l.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new nd,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ln(O),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||Dn("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new nd),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Xl(){return new Pe(In.comparator)}function yp(){return new Pe(In.comparator)}const yh={asc:"ASCENDING",desc:"DESCENDING"},mm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Wi{constructor(e,n){this.databaseId=e,this.N=n}}function Jl(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vp(i,e){return i.N?e.toBase64():e.toUint8Array()}function vh(i,e){return Jl(i,e.toTimestamp())}function ts(i){return Ir(!!i),Ze.fromTimestamp(function(e){const n=Vs(e);return new qe(n.seconds,n.nanos)}(i))}function _h(i,e){return(n=i,new gr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function _p(i){const e=gr.fromString(i);return Ir(sd(e)),e}function Ql(i,e){return _h(i.databaseId,e.path)}function $o(i,e){const n=_p(e);if(n.get(1)!==i.databaseId.projectId)throw new _n(jt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _n(jt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new In(dl(n))}function Eh(i,e){return _h(i.databaseId,e)}function ym(i){const e=_p(i);return 4===e.length?gr.emptyPath():dl(e)}function rd(i){return new gr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function dl(i){return Ir(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ys(i,e,n){return{name:Ql(i,e),fields:n.value.mapValue.fields}}function id(i,e,n){const o=$o(i,e.name),l=ts(e.updateTime),p=new Qi({mapValue:{fields:e.fields}}),v=pi.newFoundDocument(o,l,p);return n&&v.setHasCommittedMutations(),n?v.setHasCommittedMutations():v}function qi(i,e){let n;if(e instanceof ms)n={update:ys(i,e.key,e.value)};else if(e instanceof al)n={delete:Ql(i,e.key)};else if(e instanceof zs)n={update:ys(i,e.key,e.data),updateMask:bm(e.fieldMask)};else{if(!(e instanceof Qc))return pr();n={verify:Ql(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,p){const v=p.transform;if(v instanceof Fa)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof sa)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ho)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof La)return{fieldPath:p.field.canonicalString(),increment:v.k};throw pr()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:vh(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:pr()),n;var l}function Au(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Ri.updateTime(ts(l.updateTime)):void 0!==l.exists?Ri.exists(l.exists):Ri.none():Ri.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(p,v){let A=null;"setToServerValue"in v?(Ir("REQUEST_TIME"===v.setToServerValue),A=new Fa):"appendMissingElements"in v?A=new sa(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new ho(v.removeAllFromArray.values||[]):"increment"in v?A=new La(p,v.increment):pr();const G=Gr.fromServerFormat(v.fieldPath);return new fo(G,A)}(i,l)):[];var l;if(e.update){const l=$o(i,e.update.name),p=new Qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new gs((e.updateMask.fieldPaths||[]).map(ae=>Gr.fromServerFormat(ae)));return new zs(l,p,v,n,o)}return new ms(l,p,n,o)}if(e.delete){const l=$o(i,e.delete);return new al(l,n)}if(e.verify){const l=$o(i,e.verify);return new Qc(l,n)}return pr()}function wp(i,e){return{documents:[Eh(i,e.path)]}}function Ip(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Eh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Eh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(G){if(0===G.length)return;const ae=G.map(et=>function(pt){if("=="===pt.op){if(Xu(pt.value))return{unaryFilter:{field:hl(pt.field),op:"IS_NAN"}};if(sh(pt.value))return{unaryFilter:{field:hl(pt.field),op:"IS_NULL"}}}else if("!="===pt.op){if(Xu(pt.value))return{unaryFilter:{field:hl(pt.field),op:"IS_NOT_NAN"}};if(sh(pt.value))return{unaryFilter:{field:hl(pt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(pt.field),op:Cp(pt.op),value:pt.value}}}(et));return 1===ae.length?ae[0]:{compositeFilter:{op:"AND",filters:ae}}}(e.filters);l&&(n.structuredQuery.where=l);const p=function(G){if(0!==G.length)return G.map(ae=>{return{field:hl((et=ae).field),direction:_m(et.dir)};var et})}(e.orderBy);p&&(n.structuredQuery.orderBy=p);const v=(ae=e.limit,i.N||Ts(ae)?ae:{value:ae});var ae,A,G;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(n.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),n}function wh(i){let e=ym(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Ir(1===o);const et=n.from[0];et.allDescendants?l=et.collectionId:e=e.child(et.collectionId)}let p=[];n.where&&(p=Ih(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(et=>{return new lo(fl((pt=et).field),function(Vt){switch(Vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pt.direction));var pt}));let A=null;n.limit&&(A=function(et){let pt;return pt="object"==typeof et?et.value:et,Ts(pt)?null:pt}(n.limit));let G=null;var et;n.startAt&&(G=new xs((et=n.startAt).values||[],!!et.before));let ae=null;return n.endAt&&(ae=function(et){return new xs(et.values||[],!et.before)}(n.endAt)),vu(e,l,v,p,A,"F",G,ae)}function Ih(i){return i?void 0!==i.unaryFilter?[Em(i)]:void 0!==i.fieldFilter?[Ch(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Ih(e)).reduce((e,n)=>e.concat(n)):pr():[]}function _m(i){return yh[i]}function Cp(i){return mm[i]}function hl(i){return{fieldPath:i.canonicalString()}}function fl(i){return Gr.fromServerFormat(i.fieldPath)}function Ch(i){return es.create(fl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pr()}}(i.fieldFilter.op),i.fieldFilter.value)}function Em(i){switch(i.unaryFilter.op){case"IS_NAN":const e=fl(i.unaryFilter.field);return es.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=fl(i.unaryFilter.field);return es.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fl(i.unaryFilter.field);return es.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fl(i.unaryFilter.field);return es.create(l,"!=",{nullValue:"NULL_VALUE"});default:return pr()}}function bm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function as(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=ec(e)),e=wm(i.get(n),e);return ec(e)}function wm(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const p=i.charAt(l);switch(p){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=p}}return n}function ec(i){return i+"\x01\x01"}function go(i){const e=i.length;if(Ir(e>=2),2===e)return Ir("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),gr.emptyPath();const n=e-2,o=[];let l="";for(let p=0;p<e;){const v=i.indexOf("\x01",p);switch((v<0||v>n)&&pr(),i.charAt(v+1)){case"\x01":const A=i.substring(p,v);let G;0===l.length?G=A:(l+=A,G=l,l=""),o.push(G);break;case"\x10":l+=i.substring(p,v),l+="\0";break;case"\x11":l+=i.substring(p,v+1);break;default:pr()}p=v+2}return new gr(o)}const Dp=["userId","batchId"];function od(i,e){return[i,as(e)]}function Tp(i,e,n){return[i,as(e),n]}const Im={},Sp=["prefixPath","collectionGroup","readTime","documentId"],Cm=["prefixPath","collectionGroup","documentId"],Dm=["collectionGroup","readTime","prefixPath","documentId"],Tm=["canonicalId","targetId"],Sm=["targetId","path"],Am=["path","targetId"],xm=["collectionId","parent"],Mm=["indexId","uid"],Rm=["uid","sequenceNumber"],pl=["indexId","uid","arrayValue","directionalValue","documentKey"],Vo=["indexId","uid","documentKey"],Pv=["userId","collectionPath","documentId"],Nv=["userId","collectionPath","largestBatchId"],Ap=["userId","collectionGroup","largestBatchId"],Om=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uo=[...Om,"documentOverlays"],ad=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dh=[...ad,"indexConfiguration","indexState","indexEntries"],xp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Th{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Yt((o,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,l)},this.catchCallback=p=>{this.wrapFailure(n,p).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Yt?n:Yt.resolve(n)}catch(n){return Yt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Yt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Yt.reject(n)}static resolve(e){return new Yt((n,o)=>{n(e)})}static reject(e){return new Yt((n,o)=>{o(e)})}static waitFor(e){return new Yt((n,o)=>{let l=0,p=0,v=!1;e.forEach(A=>{++l,A.next(()=>{++p,v&&p===l&&n()},G=>o(G))}),v=!0,p===l&&n()})}static or(e){let n=Yt.resolve(!1);for(const o of e)n=n.next(l=>l?Yt.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,p)=>{o.push(n.call(this,l,p))}),this.waitFor(o)}}class tc{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new Ci,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new xu(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=ld(o.target.error);this.At.reject(new xu(e,l))}}static open(e,n,o,l){try{return new tc(n,e.transaction(l,o))}catch(p){throw new xu(n,p)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Dn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new kv(n)}}class eo{constructor(e,n,o){this.name=e,this.version=n,this.Pt=o,12.2===eo.Vt((0,he.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dn("SimpleDb","Removing database:",e),to(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,he.hl)())return!1;if(eo.St())return!0;const e=(0,he.z$)(),n=eo.Vt(e),o=0<n&&n<10,l=eo.Dt(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,a.Z)(function*(){return n.db||(Dn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const p=indexedDB.open(n.name,n.version);p.onsuccess=v=>{o(v.target.result)},p.onblocked=()=>{l(new xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const A=v.target.error;l("VersionError"===A.name?new _n(jt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new _n(jt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new xu(e,A))},p.onupgradeneeded=v=>{Dn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.Pt.kt(v.target.result,p.transaction,v.oldVersion,n.version).next(()=>{Dn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var p=this;return(0,a.Z)(function*(){const v="readonly"===n;let A=0;for(;;){++A;try{p.db=yield p.Nt(e);const G=tc.open(p.db,e,v?"readonly":"readwrite",o),ae=l(G).next(et=>(G.bt(),et)).catch(et=>(G.abort(et),Yt.reject(et))).toPromise();return ae.catch(()=>{}),yield G.Rt,ae}catch(G){const ae="FirebaseError"!==G.name&&A<3;if(Dn("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ae),p.close(),!ae)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sh{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return to(this.Ft.delete())}}class xu extends _n{constructor(e,n){super(jt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ba(i){return"IndexedDbTransactionError"===i.name}class kv{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Dn("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Dn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),to(o)}add(e){return Dn("SimpleDb","ADD",this.store.name,e,e),to(this.store.add(e))}get(e){return to(this.store.get(e)).next(n=>(void 0===n&&(n=null),Dn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Dn("SimpleDb","DELETE",this.store.name,e),to(this.store.delete(e))}count(){return Dn("SimpleDb","COUNT",this.store.name),to(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),p=[];return this.Gt(l,(v,A)=>{p.push(A)}).next(()=>p)}{const l=this.store.getAll(o.range);return new Yt((p,v)=>{l.onerror=A=>{v(A.target.error)},l.onsuccess=A=>{p(A.target.result)}})}}Kt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new Yt((l,p)=>{o.onerror=v=>{p(v.target.error)},o.onsuccess=v=>{l(v.target.result)}})}Qt(e,n){Dn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const l=this.cursor(o);return this.Gt(l,(p,v,A)=>A.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.Gt(l,n)}zt(e){const n=this.cursor({});return new Yt((o,l)=>{n.onerror=p=>{const v=ld(p.target.error);l(v)},n.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():o()}):o()}})}Gt(e,n){const o=[];return new Yt((l,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void l();const G=new Sh(A),ae=n(A.primaryKey,A.value,G);if(ae instanceof Yt){const et=ae.catch(pt=>(G.done(),Yt.reject(pt)));o.push(et)}G.isDone?l():null===G.Lt?A.continue():A.continue(G.Lt)}}).next(()=>Yt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function to(i){return new Yt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=ld(o.target.error);n(l)}})}let ud=!1;function ld(i){const e=eo.Vt((0,he.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new _n("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ud||(ud=!0,setTimeout(()=>{throw o},0)),o}}return i}class Mp extends Th{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Ki(i,e){const n=Mn(i);return eo.xt(n.Ht,e)}class Ah{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&ph(p,e,o[l])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&wu(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&wu(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(Ze.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kr())}isEqual(e){return this.batchId===e.batchId&&j(this.mutations,e.mutations,(n,o)=>Yl(n,o))&&j(this.baseMutations,e.baseMutations,(n,o)=>Yl(n,o))}}class xh{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Ir(e.mutations.length===o.length);let l=ed;const p=e.mutations;for(let v=0;v<p.length;v++)l=l.insert(p[v].key,o[v].version);return new xh(e,n,o,l)}}class Mh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $a{constructor(e,n,o,l,p=Ze.min(),v=Ze.min(),A=bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Rp{constructor(e){this.Jt=e}}function Rh(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ql(l=i.Jt,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Jl(l,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Va(e.version)};else{if(!e.isUnknownDocument())return pr();o.unknownDocument={path:n.path.toArray(),version:Va(e.version)}}var l,p;return o}function gl(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Va(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function la(i){const e=new qe(i.seconds,i.nanoseconds);return Ze.fromTimestamp(e)}function ml(i,e){const n=(e.baseMutations||[]).map(p=>Au(i.Jt,p));for(let p=0;p<e.mutations.length-1;++p){const v=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(v.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>Au(i.Jt,p)),l=qe.fromMillis(e.localWriteTimeMs);return new Ah(e.batchId,l,n,o)}function nc(i){const e=la(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?la(i.lastLimboFreeSnapshotVersion):Ze.min();let o;var l;return void 0!==i.query.documents?(Ir(1===(l=i.query).documents.length),o=zi(Ms(ym(l.documents[0])))):o=zi(wh(i.query)),new $a(o,i.targetId,0,i.lastListenSequenceNumber,e,n,bi.fromBase64String(i.resumeToken))}function Oh(i,e){const n=Va(e.snapshotVersion),o=Va(e.lastLimboFreeSnapshotVersion);let l;l=ko(e.target)?wp(i.Jt,e.target):Ip(i.Jt,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ta(e.target),readTime:n,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function cd(i){const e=wh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?zc(e,e.limit,"L"):e}function ca(i,e){return new Mh(e.largestBatchId,Au(i.Jt,e.overlayMutation))}function Ph(i,e){const n=e.path.lastSegment();return[i,as(e.path.popLast()),n]}class Op{getBundleMetadata(e,n){return Pp(e).get(n).next(o=>{if(o)return{id:(l=o).bundleId,createTime:la(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return Pp(e).put({bundleId:(o=n).id,createTime:Va(ts(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return rc(e).get(n).next(o=>{if(o)return{name:(l=o).name,query:cd(l.bundledQuery),readTime:la(l.readTime)};var l})}saveNamedQuery(e,n){return rc(e).put({name:(o=n).name,readTime:Va(ts(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Pp(i){return Ki(i,"bundles")}function rc(i){return Ki(i,"namedQueries")}class Nh{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new Nh(e,n.uid||"")}getOverlay(e,n){return yl(e).get(Ph(this.userId,n)).next(o=>o?ca(this.M,o):null)}saveOverlays(e,n,o){const l=[];return o.forEach((p,v)=>{const A=new Mh(n,v);l.push(this.Xt(e,A))}),Yt.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(v=>l.add(as(v.getCollectionPath())));const p=[];return l.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);p.push(yl(e).Qt("collectionPathOverlayIndex",A))}),Yt.waitFor(p)}getOverlaysForCollection(e,n,o){const l=Cu(),p=as(n),v=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return yl(e).qt("collectionPathOverlayIndex",v).next(A=>{for(const G of A){const ae=ca(this.M,G);l.set(ae.getKey(),ae)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const p=Cu();let v;const A=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return yl(e).Wt({index:"collectionGroupOverlayIndex",range:A},(G,ae,et)=>{const pt=ca(this.M,ae);p.size()<l||pt.largestBatchId===v?(p.set(pt.getKey(),pt),v=pt.largestBatchId):et.done()}).next(()=>p)}Xt(e,n){return yl(e).put(function(o,l,p){const[v,A,G]=Ph(l,p.mutation.key);return{userId:l,collectionPath:A,documentId:G,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:qi(o.Jt,p.mutation)}}(this.M,this.userId,n))}}function yl(i){return Ki(i,"documentOverlays")}class Mu{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(di(e.integerValue));else if("doubleValue"in e){const o=di(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),Yu(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(so(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?gu(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):pr()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const l of Object.keys(o))this.re(l,n),this.te(o[l],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const l of o)this.te(l,n)}ae(e,n){this.ne(n,37),In.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Np(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function dd(i){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const p=Np(255&n[l]);if(o+=p,8!==p)break}return o}(i);return Math.ceil(e/8)}Mu.fe=new Mu;class kp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=n.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=n.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const n=this.Ee(e),o=dd(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Re(e){const n=this.Ee(e),o=dd(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(l){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,l,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.Pe(0),this.Pe(255)):255===n?(this.Pe(255),this.Pe(0)):this.Pe(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class hd{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class fd{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ic{constructor(){this.De=new kp,this.Ce=new hd(this.De),this.xe=new fd(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class jo{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new jo(this.indexId,this.documentKey,this.arrayValue,o)}}function Ua(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=pd(i.arrayValue,e.arrayValue),0!==n?n:(n=pd(i.directionalValue,e.directionalValue),0!==n?n:In.comparator(i.documentKey,e.documentKey)))}function pd(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class sc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=jc(e);if(void 0!==n&&!this.Be(n))return!1;const o=ao(e);let l=0,p=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const v=o[l];if(!this.Le(this.Fe,v)||!this.Ue(this.Me[p++],v))return!1;++l}for(;l<o.length;++l){const v=o[l];if(p>=this.Me.length||!this.Ue(this.Me[p++],v))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Nm{constructor(){this.qe=new gd}addToCollectionParentIndex(e,n){return this.qe.add(n),Yt.resolve()}getCollectionParents(e,n){return Yt.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return Yt.resolve()}deleteFieldIndex(e,n){return Yt.resolve()}getDocumentsMatchingTarget(e,n){return Yt.resolve(null)}getFieldIndex(e,n){return Yt.resolve(null)}getFieldIndexes(e,n){return Yt.resolve([])}getNextCollectionGroupToUpdate(e){return Yt.resolve(null)}updateCollectionGroup(e,n,o){return Yt.resolve()}updateIndexEntries(e,n){return Yt.resolve()}}class gd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new Ln(gr.comparator),p=!l.has(o);return this.index[n]=l.add(o),p}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Ln(gr.comparator)).toArray()}}const md=new Uint8Array(0);class km{constructor(e){this.user=e,this.Ge=new gd,this.Ke=new Q(n=>ta(n),(n,o)=>No(n,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ge.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.Ge.add(n)});const p={collectionId:o,parent:as(l)};return kh(e).put(p)}return Yt.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[ge(n),""],!1,!0);return kh(e).qt(l).next(p=>{for(const v of p){if(v.collectionId!==n)break;o.push(go(v.parent))}return o})}addFieldIndex(e,n){const o=oc(e),l={indexId:(p=n).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var p;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,n){const o=oc(e),l=Fh(e),p=Ru(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Ru(e);let l=!0;const p=new Map;return Yt.forEach(this.Qe(n),v=>this.getFieldIndex(e,v).next(A=>{l&&(l=!!A),p.set(v,A)})).next(()=>{if(l){let v=Kr();return Yt.forEach(p,(A,G)=>{var ae;Dn("IndexedDbIndexManager",`Using index ${ae=A,`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${ta(n)}`);const et=function(jr,Ns){const Hi=jc(Ns);if(void 0===Hi)return null;for(const Xi of na(jr,Hi.fieldPath))switch(Xi.op){case"array-contains-any":return Xi.value.arrayValue.values||[];case"array-contains":return[Xi.value]}return null}(G,A),pt=function(jr,Ns){const Hi=new Map;for(const Xi of ao(Ns))for(const hi of na(jr,Xi.fieldPath))switch(hi.op){case"==":case"in":Hi.set(Xi.fieldPath.canonicalString(),hi.value);break;case"not-in":case"!=":return Hi.set(Xi.fieldPath.canonicalString(),hi.value),Array.from(Hi.values())}return null}(G,A),Vt=function(jr,Ns){const Hi=[];let Xi=!0;for(const uu of ao(Ns)){let Ws,zu=!0;for(const rs of na(jr,uu.fieldPath)){let Pi,Wu=!0;switch(rs.op){case"<":case"<=":Pi="nullValue"in(hi=rs.value)?rh:"booleanValue"in hi?{booleanValue:!1}:"integerValue"in hi||"doubleValue"in hi?{doubleValue:NaN}:"timestampValue"in hi?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in hi?{stringValue:""}:"bytesValue"in hi?{bytesValue:""}:"referenceValue"in hi?fi(Us.empty(),In.empty()):"geoPointValue"in hi?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in hi?{arrayValue:{}}:"mapValue"in hi?{mapValue:{}}:pr();break;case"==":case"in":case">=":Pi=rs.value;break;case">":Pi=rs.value,Wu=!1;break;case"!=":case"not-in":Pi=rh}mu(Ws,Pi)===Pi&&(Ws=Pi,zu=Wu)}if(null!==jr.startAt)for(let rs=0;rs<jr.orderBy.length;++rs)if(jr.orderBy[rs].field.isEqual(uu.fieldPath)){const Pi=jr.startAt.position[rs];mu(Ws,Pi)===Pi&&(Ws=Pi,zu=jr.startAt.inclusive);break}if(void 0===Ws)return null;Hi.push(Ws),Xi&&(Xi=zu)}var hi;return new xs(Hi,Xi)}(G,A),cn=function(jr,Ns){const Hi=[];let Xi=!0;for(const uu of ao(Ns)){let Ws,zu=!0;for(const rs of na(jr,uu.fieldPath)){let Pi,Wu=!0;switch(rs.op){case">=":case">":Pi="nullValue"in(hi=rs.value)?{booleanValue:!1}:"booleanValue"in hi?{doubleValue:NaN}:"integerValue"in hi||"doubleValue"in hi?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in hi?{stringValue:""}:"stringValue"in hi?{bytesValue:""}:"bytesValue"in hi?fi(Us.empty(),In.empty()):"referenceValue"in hi?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in hi?{arrayValue:{}}:"arrayValue"in hi?{mapValue:{}}:"mapValue"in hi?Vc:pr(),Wu=!1;break;case"==":case"in":case"<=":Pi=rs.value;break;case"<":Pi=rs.value,Wu=!1;break;case"!=":case"not-in":Pi=Vc}Oa(Ws,Pi)===Pi&&(Ws=Pi,zu=Wu)}if(null!==jr.endAt)for(let rs=0;rs<jr.orderBy.length;++rs)if(jr.orderBy[rs].field.isEqual(uu.fieldPath)){const Pi=jr.endAt.position[rs];Oa(Ws,Pi)===Pi&&(Ws=Pi,zu=jr.endAt.inclusive);break}if(void 0===Ws)return null;Hi.push(Ws),Xi&&(Xi=zu)}var hi;return new xs(Hi,Xi)}(G,A),Cn=this.je(A,G,Vt),vr=this.je(A,G,cn),$r=this.We(A,G,pt),Vi=this.ze(A.indexId,et,Cn,!!Vt&&Vt.inclusive,vr,!!cn&&cn.inclusive,$r);return Yt.forEach(Vi,jr=>o.Kt(jr,n.limit).next(Ns=>{Ns.forEach(Hi=>{v=v.add(new In(go(Hi.documentKey)))})}))}).next(()=>v)}return Yt.resolve(null)})}Qe(e){let n=this.Ke.get(e);return n||(n=[e],this.Ke.set(e,n),n)}ze(e,n,o,l,p,v,A){const G=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=p?p.length:1),ae=G/(null!=n?n.length:1),et=[];for(let pt=0;pt<G;++pt){const Vt=n?this.He(n[pt/ae]):md,cn=o?this.Je(e,Vt,o[pt%ae],l):this.Ye(e),Cn=p?this.Xe(e,Vt,p[pt%ae],v):this.Ye(e+1);et.push(...this.createRange(cn,Cn,A.map(vr=>this.Je(e,Vt,vr,!0))))}return et}Je(e,n,o,l){const p=new jo(e,In.empty(),n,o);return l?p:p.ke()}Xe(e,n,o,l){const p=new jo(e,In.empty(),n,o);return l?p.ke():p}Ye(e){return new jo(e,In.empty(),md,md)}getFieldIndex(e,n){const o=new sc(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(p=>{const v=p.filter(A=>o.$e(A));return v.sort((A,G)=>G.fields.length-A.fields.length),v.length>0?v[0]:null})}Ze(e,n){const o=new ic;for(const l of ao(e)){const p=n.data.field(l.fieldPath);if(null==p)return null;const v=o.Ne(l.kind);Mu.fe.Zt(p,v)}return o.Se()}He(e){const n=new ic;return Mu.fe.Zt(e,n.Ne(0)),n.Se()}We(e,n,o){if(null===o)return[];let l=[];l.push(new ic);let p=0;for(const v of ao(e)){const A=o[p++];for(const G of l)if(this.tn(n,v.fieldPath)&&Hs(A))l=this.en(l,v,A);else{const ae=G.Ne(v.kind);Mu.fe.Zt(A,ae)}}return this.nn(l)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}nn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}en(e,n,o){const l=[...e],p=[];for(const v of o.arrayValue.values||[])for(const A of l){const G=new ic;G.seed(A.Se()),Mu.fe.Zt(v,G.Ne(n.kind)),p.push(G)}return p}tn(e,n){return!!e.filters.find(o=>o instanceof es&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=oc(e),l=Fh(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(p=>{const v=[];return Yt.forEach(p,A=>l.get([A.indexId,this.uid]).next(G=>{v.push(function(ae,et){const pt=et?new uo(et.sequenceNumber,new As(la(et.readTime),new In(go(et.documentKey)),et.largestBatchId)):uo.empty(),Vt=ae.fields.map(([cn,Cn])=>new os(Gr.fromServerFormat(cn),Cn));return new Gl(ae.indexId,ae.collectionGroup,Vt,pt)}(A,G))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const p=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==p?p:O(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=oc(e),p=Fh(e);return this.sn(e).next(v=>l.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(A=>Yt.forEach(A,G=>{return p.put({indexId:G.indexId,uid:this.user.uid||"",sequenceNumber:v,readTime:Va((Vt=o).readTime),documentKey:as(Vt.documentKey.path),largestBatchId:Vt.largestBatchId});var Vt})))}updateIndexEntries(e,n){const o=new Map;return Yt.forEach(n,(l,p)=>{const v=o.get(l.collectionGroup);return(v?Yt.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(A=>(o.set(l.collectionGroup,A),Yt.forEach(A,G=>this.rn(e,l,G).next(ae=>{const et=this.on(p,G);return ae.isEqual(et)?Yt.resolve():this.un(e,p,ae,et)}))))})}an(e,n,o){return Ru(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,documentKey:as(n.key.path)})}cn(e,n,o){return Ru(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,as(n.key.path)])}rn(e,n,o){const l=Ru(e);let p=new Ln(Ua);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,as(n.path)])},(v,A)=>{p=p.add(new jo(o.indexId,n,A.arrayValue,A.directionalValue))}).next(()=>p)}on(e,n){let o=new Ln(Ua);const l=this.Ze(n,e);if(null==l)return o;const p=jc(n);if(null!=p){const v=e.data.field(p.fieldPath);if(Hs(v))for(const A of v.arrayValue.values||[])o=o.add(new jo(n.indexId,e.key,this.He(A),l))}else o=o.add(new jo(n.indexId,e.key,md,l));return o}un(e,n,o,l){Dn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const p=[];return function(v,A,G,ae,et){const pt=v.getIterator(),Vt=A.getIterator();let cn=Mr(pt),Cn=Mr(Vt);for(;cn||Cn;){let vr=!1,$r=!1;if(cn&&Cn){const Vi=G(cn,Cn);Vi<0?$r=!0:Vi>0&&(vr=!0)}else null!=cn?$r=!0:vr=!0;vr?(ae(Cn),Cn=Mr(Vt)):$r?(et(cn),cn=Mr(pt)):(cn=Mr(pt),Cn=Mr(Vt))}}(o,l,Ua,v=>{p.push(this.an(e,n,v))},v=>{p.push(this.cn(e,n,v))}),Yt.waitFor(p)}sn(e){let n=1;return Fh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,p)=>{p.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((v,A)=>Ua(v,A)).filter((v,A,G)=>!A||0!==Ua(v,G[A-1]));const l=[];l.push(e);for(const v of o){const A=Ua(v,e),G=Ua(v,n);if(0===A)l[0]=e.ke();else if(A>0&&G<0)l.push(v),l.push(v.ke());else if(G>0)break}l.push(n);const p=[];for(let v=0;v<l.length;v+=2)p.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,""],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,""]));return p}}function kh(i){return Ki(i,"collectionParents")}function Ru(i){return Ki(i,"indexEntries")}function oc(i){return Ki(i,"indexConfiguration")}function Fh(i){return Ki(i,"indexState")}const Lh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rs{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Bh(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),p=[],v=IDBKeyRange.only(n.batchId);let A=0;const G=o.Wt({range:v},(et,pt,Vt)=>(A++,Vt.delete()));p.push(G.next(()=>{Ir(1===A)}));const ae=[];for(const et of n.mutations){const pt=Tp(e,et.key.path,n.batchId);p.push(l.delete(pt)),ae.push(et.key)}return Yt.waitFor(p).next(()=>ae)}function yd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw pr();e=i.noDocument}return JSON.stringify(e).length}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(41943040,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class $h{constructor(e,n,o,l){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=l,this.hn={}}static Yt(e,n,o,l){Ir(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new $h(p,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).Wt({index:"userMutationsIndex",range:o},(l,p,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const p=Ou(e),v=ja(e);return v.add({}).next(A=>{Ir("number"==typeof A);const G=new Ah(A,n,o,l),ae=function(Vt,cn,Cn){const vr=Cn.baseMutations.map(Vi=>qi(Vt.Jt,Vi)),$r=Cn.mutations.map(Vi=>qi(Vt.Jt,Vi));return{userId:cn,batchId:Cn.batchId,localWriteTimeMs:Cn.localWriteTime.toMillis(),baseMutations:vr,mutations:$r}}(this.M,this.userId,G),et=[];let pt=new Ln((Vt,cn)=>O(Vt.canonicalString(),cn.canonicalString()));for(const Vt of l){const cn=Tp(this.userId,Vt.key.path,A);pt=pt.add(Vt.key.path.popLast()),et.push(v.put(ae)),et.push(p.put(cn,Im))}return pt.forEach(Vt=>{et.push(this.indexManager.addToCollectionParentIndex(e,Vt))}),e.addOnCommittedListener(()=>{this.hn[A]=G.keys()}),Yt.waitFor(et).next(()=>G)})}lookupMutationBatch(e,n){return ja(e).get(n).next(o=>o?(Ir(o.userId===this.userId),ml(this.M,o)):null)}ln(e,n){return this.hn[n]?Yt.resolve(this.hn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.hn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return ja(e).Wt({index:"userMutationsIndex",range:l},(v,A,G)=>{A.userId===this.userId&&(Ir(A.batchId>=o),p=ml(this.M,A)),G.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ja(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(l,p,v)=>{o=p.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).qt("userMutationsIndex",n).next(o=>o.map(l=>ml(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=od(this.userId,n.path),l=IDBKeyRange.lowerBound(o),p=[];return Ou(e).Wt({range:l},(v,A,G)=>{const[ae,et,pt]=v,Vt=go(et);if(ae===this.userId&&n.path.isEqual(Vt))return ja(e).get(pt).next(cn=>{if(!cn)throw pr();Ir(cn.userId===this.userId),p.push(ml(this.M,cn))});G.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Ln(O);const l=[];return n.forEach(p=>{const v=od(this.userId,p.path),A=IDBKeyRange.lowerBound(v),G=Ou(e).Wt({range:A},(ae,et,pt)=>{const[Vt,cn,Cn]=ae,vr=go(cn);Vt===this.userId&&p.path.isEqual(vr)?o=o.add(Cn):pt.done()});l.push(G)}),Yt.waitFor(l).next(()=>this.fn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,p=od(this.userId,o),v=IDBKeyRange.lowerBound(p);let A=new Ln(O);return Ou(e).Wt({range:v},(G,ae,et)=>{const[pt,Vt,cn]=G,Cn=go(Vt);pt===this.userId&&o.isPrefixOf(Cn)?Cn.length===l&&(A=A.add(cn)):et.done()}).next(()=>this.fn(e,A))}fn(e,n){const o=[],l=[];return n.forEach(p=>{l.push(ja(e).get(p).next(v=>{if(null===v)throw pr();Ir(v.userId===this.userId),o.push(ml(this.M,v))}))}),Yt.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Bh(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.dn(n.batchId)}),Yt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Yt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Ou(e).Wt({range:o},(p,v,A)=>{if(p[0]===this.userId){const G=go(p[1]);l.push(G)}else A.done()}).next(()=>{Ir(0===l.length)})})}containsKey(e,n){return no(e,this.userId,n)}_n(e){return Fp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function no(i,e,n){const o=od(e,n.path),l=o[1],p=IDBKeyRange.lowerBound(o);let v=!1;return Ou(i).Wt({range:p,jt:!0},(A,G,ae)=>{const[et,pt,Vt]=A;et===e&&pt===l&&(v=!0),ae.done()}).next(()=>v)}function ja(i){return Ki(i,"mutations")}function Ou(i){return Ki(i,"documentMutations")}function Fp(i){return Ki(i,"mutationQueues")}class Pu{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Pu(0)}static gn(){return new Pu(-1)}}class Fm{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.yn(e).next(n=>{const o=new Pu(n.highestTargetId);return n.highestTargetId=o.next(),this.pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(n=>Ze.fromTimestamp(new qe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.yn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.pn(e,l)))}addTargetData(e,n){return this.In(e,n).next(()=>this.yn(e).next(o=>(o.targetCount+=1,this.Tn(n,o),this.pn(e,o))))}updateTargetData(e,n){return this.In(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>vl(e).delete(n.targetId)).next(()=>this.yn(e)).next(o=>(Ir(o.targetCount>0),o.targetCount-=1,this.pn(e,o)))}removeTargets(e,n,o){let l=0;const p=[];return vl(e).Wt((v,A)=>{const G=nc(A);G.sequenceNumber<=n&&null===o.get(G.targetId)&&(l++,p.push(this.removeTargetData(e,G)))}).next(()=>Yt.waitFor(p)).next(()=>l)}forEachTarget(e,n){return vl(e).Wt((o,l)=>{const p=nc(l);n(p)})}yn(e){return Vh(e).get("targetGlobalKey").next(n=>(Ir(null!==n),n))}pn(e,n){return Vh(e).put("targetGlobalKey",n)}In(e,n){return vl(e).put(Oh(this.M,n))}Tn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.yn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=ta(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return vl(e).Wt({range:l,index:"queryTargetsIndex"},(v,A,G)=>{const ae=nc(A);No(n,ae.target)&&(p=ae,G.done())}).next(()=>p)}addMatchingKeys(e,n,o){const l=[],p=Ha(e);return n.forEach(v=>{const A=as(v.path);l.push(p.put({targetId:o,path:A})),l.push(this.referenceDelegate.addReference(e,o,v))}),Yt.waitFor(l)}removeMatchingKeys(e,n,o){const l=Ha(e);return Yt.forEach(n,p=>{const v=as(p.path);return Yt.waitFor([l.delete([o,v]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,n){const o=Ha(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=Ha(e);let p=Kr();return l.Wt({range:o,jt:!0},(v,A,G)=>{const ae=go(v[1]),et=new In(ae);p=p.add(et)}).next(()=>p)}containsKey(e,n){const o=as(n.path),l=IDBKeyRange.bound([o],[ge(o)],!1,!0);let p=0;return Ha(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([v,A],G,ae)=>{0!==v&&(p++,ae.done())}).next(()=>p>0)}Et(e,n){return vl(e).get(n).next(o=>o?nc(o):null)}}function vl(i){return Ki(i,"targets")}function Vh(i){return Ki(i,"targetGlobal")}function Ha(i){return Ki(i,"targetDocuments")}function Nu(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,a.Z)(function*(i){if(i.code!==jt.FAILED_PRECONDITION||i.message!==xp)throw i;Dn("LocalStore","Unexpectedly lost primary lease")}),Uh.apply(this,arguments)}function Lr([i,e],[n,o]){const l=O(i,n);return 0===l?O(e,o):l}class Lp{constructor(e){this.En=e,this.buffer=new Ln(Lr),this.An=0}Rn(){return++this.An}bn(e){const n=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Lr(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bp{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var n=this;const o=this.Pn?3e5:6e4;Dn("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,a.Z)(function*(){n.Vn=null,n.Pn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(l){Ba(l)?Dn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Nu(l)}yield n.vn(e)}))}}class $p{constructor(e,n){this.Sn=e,this.params=n}calculateTargetCount(e,n){return this.Sn.Dn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Yt.resolve(S.A);const o=new Lp(n);return this.Sn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Sn.Cn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Sn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Sn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Dn("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(Lh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Dn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lh):this.xn(e,n))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,n){let o,l,p,v,A,G,ae;const et=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pt=>(pt>this.params.maximumSequenceNumbersToCollect?(Dn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pt}`),l=this.params.maximumSequenceNumbersToCollect):l=pt,v=Date.now(),this.nthSequenceNumber(e,l))).next(pt=>(o=pt,A=Date.now(),this.removeTargets(e,o,n))).next(pt=>(p=pt,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(pt=>(ae=Date.now(),xa()<=Y.in.DEBUG&&Dn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-et}ms\n\tDetermined least recently used ${l} in `+(A-v)+`ms\n\tRemoved ${p} targets in `+(G-A)+`ms\n\tRemoved ${pt} documents in `+(ae-G)+`ms\nTotal Duration: ${ae-et}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:pt})))}}class vd{constructor(e,n){this.db=e,this.garbageCollector=new $p(this,n)}Dn(e){const n=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Nn(e){let n=0;return this.Cn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Cn(e,n){return this.kn(e,(o,l)=>n(l))}addReference(e,n,o){return Os(e,o)}removeReference(e,n,o){return Os(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Os(e,n)}Mn(e,n){return function(o,l){let p=!1;return Fp(o).zt(v=>no(o,v,l).next(A=>(A&&(p=!0),Yt.resolve(!A)))).next(()=>p)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.kn(e,(v,A)=>{if(A<=n){const G=this.Mn(e,v).next(ae=>{if(!ae)return p++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Ze.min()),Ha(e).delete([0,as(v.path)])))});l.push(G)}}).next(()=>Yt.waitFor(l)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Os(e,n)}kn(e,n){const o=Ha(e);let l,p=S.A;return o.Wt({index:"documentTargetsIndex"},([v,A],{path:G,sequenceNumber:ae})=>{0===v?(p!==S.A&&n(new In(go(l)),p),p=ae,l=G):p=S.A}).next(()=>{p!==S.A&&n(new In(go(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Os(i,e){return Ha(i).put((o=i.currentSequenceNumber,{targetId:0,path:as(e.path),sequenceNumber:o}));var o}class jh{constructor(){this.changes=new Q(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Yt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lm{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return da(e).put(o)}removeEntry(e,n,o){return da(e).delete(function(l,p){const v=l.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],gl(p),v[v.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.On(e,o)))}getEntry(e,n){let o=pi.newInvalidDocument(n);return da(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_l(n))},(l,p)=>{o=this.Fn(n,p)}).next(()=>o)}$n(e,n){let o={size:0,document:pi.newInvalidDocument(n)};return da(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_l(n))},(l,p)=>{o={document:this.Fn(n,p),size:yd(p)}}).next(()=>o)}getEntries(e,n){let o=Di();return this.Bn(e,n,(l,p)=>{const v=this.Fn(l,p);o=o.insert(l,v)}).next(()=>o)}Ln(e,n){let o=Di(),l=new Pe(In.comparator);return this.Bn(e,n,(p,v)=>{const A=this.Fn(p,v);o=o.insert(p,A),l=l.insert(p,yd(v))}).next(()=>({documents:o,Un:l}))}Bn(e,n,o){if(n.isEmpty())return Yt.resolve();let l=new Ln(Bm);n.forEach(G=>l=l.add(G));const p=IDBKeyRange.bound(_l(l.first()),_l(l.last())),v=l.getIterator();let A=v.getNext();return da(e).Wt({index:"documentKeyIndex",range:p},(G,ae,et)=>{const pt=In.fromSegments([...ae.prefixPath,ae.collectionGroup,ae.documentId]);for(;A&&Bm(A,pt)<0;)o(A,null),A=v.getNext();A&&A.isEqual(pt)&&(o(A,ae),A=v.hasNext()?v.getNext():null),A?et.Ut(_l(A)):et.done()}).next(()=>{for(;A;)o(A,null),A=v.hasNext()?v.getNext():null})}getAllFromCollection(e,n,o){const l=[n.popLast().toArray(),n.lastSegment(),gl(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return da(e).qt(IDBKeyRange.bound(l,p,!0)).next(v=>{let A=Di();for(const G of v){const ae=this.Fn(In.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);A=A.insert(ae.key,ae)}return A})}getAllFromCollectionGroup(e,n,o,l){let p=Di();const v=_d(n,o),A=_d(n,As.max());return da(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(G,ae,et)=>{const pt=this.Fn(In.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);p=p.insert(pt.key,pt),p.size===l&&et.done()}).next(()=>p)}newChangeBuffer(e){return new Hh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Ho(e).get("remoteDocumentGlobalKey").next(n=>(Ir(!!n),n))}On(e,n){return Ho(e).put("remoteDocumentGlobalKey",n)}Fn(e,n){if(n){const o=function Pm(i,e){let n;if(e.document)n=id(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=In.fromSegments(e.noDocument.path),l=la(e.noDocument.readTime);n=pi.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return pr();{const o=In.fromSegments(e.unknownDocument.path),l=la(e.unknownDocument.version);n=pi.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(o){const l=new qe(o[0],o[1]);return Ze.fromTimestamp(l)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(Ze.min()))return o}return pi.newInvalidDocument(e)}}class Hh extends jh{constructor(e,n){super(),this.qn=e,this.trackRemovals=n,this.Gn=new Q(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new Ln((p,v)=>O(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const A=this.Gn.get(p);if(n.push(this.qn.removeEntry(e,p,A.readTime)),v.isValidDocument()){const G=Rh(this.qn.M,v);l=l.add(p.path.popLast()),o+=yd(G)-A.size,n.push(this.qn.addEntry(e,p,G))}else if(o-=A.size,this.trackRemovals){const G=Rh(this.qn.M,v.convertToNoDocument(Ze.min()));n.push(this.qn.addEntry(e,p,G))}}),l.forEach(p=>{n.push(this.qn.indexManager.addToCollectionParentIndex(e,p))}),n.push(this.qn.updateMetadata(e,o)),Yt.waitFor(n)}getFromCache(e,n){return this.qn.$n(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.qn.Ln(e,n).next(({documents:o,Un:l})=>(l.forEach((p,v)=>{this.Gn.set(p,{size:v,readTime:o.get(p).readTime})}),o))}}function Ho(i){return Ki(i,"remoteDocumentGlobal")}function da(i){return Ki(i,"remoteDocumentsV14")}function _l(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _d(i,e){const n=e.documentKey.path.toArray();return[i,gl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Bm(i,e){const n=i.path.length-e.path.length;return 0!==n?n:In.comparator(i,e)}class Vp{constructor(e){this.M=e}kt(e,n,o,l){const p=new tc("createOrUpgrade",n);var A;o<1&&l>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dp,{unique:!0}),A.createObjectStore("documentMutations"),$m(e),function(A){A.createObjectStore("remoteDocuments")}(e));let v=Yt.resolve();return o<3&&l>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),$m(e)),v=v.next(()=>function(A){const G=A.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ze.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ae)}(p))),o<4&&l>=4&&(0!==o&&(v=v.next(()=>function(A,G){return G.store("mutations").qt().next(ae=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dp,{unique:!0});const et=G.store("mutations"),pt=ae.map(Vt=>et.put(Vt));return Yt.waitFor(pt)})}(e,p))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(v=v.next(()=>this.Kn(p))),o<6&&l>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(p)))),o<7&&l>=7&&(v=v.next(()=>this.jn(p))),o<8&&l>=8&&(v=v.next(()=>this.Wn(e,p))),o<9&&l>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(v=v.next(()=>this.zn(p))),o<11&&l>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(v=v.next(()=>{!function(A){const G=A.createObjectStore("documentOverlays",{keyPath:Pv});G.createIndex("collectionPathOverlayIndex",Nv,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Ap,{unique:!1})}(e)})),o<13&&l>=13&&(v=v.next(()=>function(A){const G=A.createObjectStore("remoteDocumentsV14",{keyPath:Sp});G.createIndex("documentKeyIndex",Cm),G.createIndex("collectionGroupIndex",Dm)}(e)).next(()=>this.Hn(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(v=v.next(()=>{!function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Mm}).createIndex("sequenceNumberIndex",Rm,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:pl}).createIndex("documentKeyIndex",Vo,{unique:!1})}(e)})),v}Qn(e){let n=0;return e.store("remoteDocuments").Wt((o,l)=>{n+=yd(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Kn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(l=>Yt.forEach(l,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",v).next(A=>Yt.forEach(A,G=>{Ir(G.userId===p.userId);const ae=ml(this.M,G);return Bh(e,p.userId,ae).next(()=>{})}))}))}jn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const p=[];return o.Wt((v,A)=>{const G=new gr(v),ae=[0,as(G)];p.push(n.get(ae).next(et=>et?Yt.resolve():n.put({targetId:0,path:as(G),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Yt.waitFor(p))})}Wn(e,n){e.createObjectStore("collectionParents",{keyPath:xm});const o=n.store("collectionParents"),l=new gd,p=v=>{if(l.add(v)){const A=v.lastSegment(),G=v.popLast();return o.put({collectionId:A,parent:as(G)})}};return n.store("remoteDocuments").Wt({jt:!0},(v,A)=>{const G=new gr(v);return p(G.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([v,A,G],ae)=>{const et=go(A);return p(et.popLast())}))}zn(e){const n=e.store("targets");return n.Wt((o,l)=>{const p=nc(l),v=Oh(this.M,p);return n.put(v)})}Hn(e,n){const o=n.store("remoteDocuments"),l=[];return o.Wt((p,v)=>{const A=n.store("remoteDocumentsV14"),G=(ae=v,ae.document?new In(gr.fromString(ae.document.name).popFirst(5)):ae.noDocument?In.fromSegments(ae.noDocument.path):ae.unknownDocument?In.fromSegments(ae.unknownDocument.path):pr()).path.toArray();var ae;const et={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};l.push(A.put(et))}).next(()=>Yt.waitFor(l))}}function $m(i){i.createObjectStore("targetDocuments",{keyPath:Sm}).createIndex("documentTargetsIndex",Am,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tm,{unique:!0}),i.createObjectStore("targetGlobal")}const El="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bl{constructor(e,n,o,l,p,v,A,G,ae,et,pt=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Jn=p,this.window=v,this.document=A,this.Yn=ae,this.Xn=et,this.Zn=pt,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Vt=>Promise.resolve(),!bl.vt())throw new _n(jt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vd(this,l),this.cs=n+"main",this.M=new Rp(G),this.hs=new eo(this.cs,this.Zn,new Vp(this.M)),this.ls=new Fm(this.referenceDelegate,this.M),this.fs=new Lm(this.M),this.ds=new Op,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===et&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _n(jt.FAILED_PRECONDITION,El);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new S(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var n=this;return this.us=function(){var o=(0,a.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var n=(0,a.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,a.Z)(function*(){n.started&&(yield n.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(n=>{n||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(n=>this.isPrimary&&!n?this.As(e).next(()=>!1):!!n&&this.Rs(e).next(()=>!0))).catch(e=>{if(Ba(e))return Dn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return ku(e).get("owner").next(n=>Yt.resolve(this.bs(n)))}Ps(e){return wl(e).delete(this.clientId)}Vs(){var e=this;return(0,a.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ki(o,"clientMetadata");return l.qt().next(p=>{const v=e.Ss(p,18e5),A=p.filter(G=>-1===v.indexOf(G));return Yt.forEach(A,G=>l.delete(G.clientId)).next(()=>A)})}).catch(()=>[]);if(e._s)for(const o of n)e._s.removeItem(e.Ds(o.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?Yt.resolve(!0):ku(e).get("owner").next(n=>{if(null!==n&&this.vs(n.leaseTimestampMs,5e3)&&!this.Cs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new _n(jt.FAILED_PRECONDITION,El);return!1}}return!(!this.networkEnabled||!this.inForeground)||wl(e).qt().next(o=>void 0===this.Ss(o,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,A=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&A)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Dn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,a.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Mp(n,S.A);return e.As(o).next(()=>e.Ps(o))}),e.hs.close(),e.Ms()})()}Ss(e,n){return e.filter(o=>this.vs(o.updateTimeMs,n)&&!this.Cs(o.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>wl(e).qt().next(n=>this.Ss(n,18e5).map(o=>o.clientId)))}get started(){return this.es}getMutationQueue(e,n){return $h.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new km(e)}getDocumentOverlayCache(e){return Nh.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,n,o){Dn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",p=14===(v=this.Zn)?Dh:13===v?ad:12===v?Uo:11===v?Om:void pr();var v;let A;return this.hs.runTransaction(e,l,p,G=>(A=new Mp(G,this.ts?this.ts.next():S.A),"readwrite-primary"===n?this.Ts(A).next(ae=>!!ae||this.Es(A)).next(ae=>{if(!ae)throw Li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new _n(jt.FAILED_PRECONDITION,xp);return o(A)}).next(ae=>this.Rs(A).next(()=>ae)):this.Fs(A).next(()=>o(A)))).then(G=>(A.raiseOnCommittedEvent(),G))}Fs(e){return ku(e).get("owner").next(n=>{if(null!==n&&this.vs(n.leaseTimestampMs,5e3)&&!this.Cs(n.ownerId)&&!this.bs(n)&&!(this.Xn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _n(jt.FAILED_PRECONDITION,El)})}Rs(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ku(e).put("owner",n)}static vt(){return eo.vt()}As(e){const n=ku(e);return n.get("owner").next(o=>this.bs(o)?(Dn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Yt.resolve())}vs(e,n){const o=Date.now();return!(e<o-n||e>o&&(Li(`Detected an update time that is in the future: ${e} > ${o}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,he.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var n;try{const o=null!==(null===(n=this._s)||void 0===n?void 0:n.getItem(this.Ds(e)));return Dn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Li("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Li("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ku(i){return Ki(i,"owner")}function wl(i){return Ki(i,"clientMetadata")}function ac(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Fv{constructor(e,n,o){this.fs=e,this.$s=n,this.indexManager=o}Bs(e,n){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Ls(e,n,o))}Ls(e,n,o){return this.fs.getEntry(e,n).next(l=>{for(const p of o)p.applyToLocalView(l);return l})}Us(e,n){e.forEach((o,l)=>{for(const p of n)p.applyToLocalView(l)})}qs(e,n){return this.fs.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.Us(n,o))}Ks(e,n,o){return In.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.Qs(e,n.path):ia(n)?this.js(e,n,o):this.Ws(e,n,o);var l}Qs(e,n){return this.Bs(e,new In(n)).next(o=>{let l=Iu();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}js(e,n,o){const l=n.collectionGroup;let p=Iu();return this.indexManager.getCollectionParents(e,l).next(v=>Yt.forEach(v,A=>{const G=(ae=n,et=A.child(l),new Gs(et,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,et;return this.Ws(e,G,o).next(ae=>{ae.forEach((et,pt)=>{p=p.insert(et,pt)})})}).next(()=>p))}Ws(e,n,o){let l;return this.fs.getAllFromCollection(e,n.path,o).next(p=>(l=p,this.$s.getAllMutationBatchesAffectingQuery(e,n))).next(p=>{for(const v of p)for(const A of v.mutations){const G=A.key;let ae=l.get(G);null==ae&&(ae=pi.newInvalidDocument(G),l=l.insert(G,ae)),wu(A,ae,v.localWriteTime),ae.isFoundDocument()||(l=l.remove(G))}}).next(()=>(l.forEach((p,v)=>{ol(n,v)||(l=l.remove(p))}),l))}}class Gh{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.zs=o,this.Hs=l}static Js(e,n){let o=Kr(),l=Kr();for(const p of n.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new Gh(e,n.fromCache,o,l)}}class Up{Ys(e){this.Xs=e}Ks(e,n,o,l){return 0===(p=n).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||o.isEqual(Ze.min())?this.Zs(e,n):this.Xs.qs(e,l).next(p=>{const v=this.ti(n,p);return(rl(n)||_u(n))&&this.ei(n.limitType,v,l,o)?this.Zs(e,n):(xa()<=Y.in.DEBUG&&Dn("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(n)),this.Xs.Ks(e,n,ea(o,-1)).next(A=>(v.forEach(G=>{A=A.insert(G.key,G)}),A)))});var p}ti(e,n){let o=new Ln(ql(e));return n.forEach((l,p)=>{ol(e,p)&&(o=o.add(p))}),o}ei(e,n,o,l){if(o.size!==n.size)return!0;const p="F"===e?n.last():n.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Zs(e,n){return xa()<=Y.in.DEBUG&&Dn("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.Xs.Ks(e,n,As.min())}}class Vm{constructor(e,n,o,l){this.persistence=e,this.ni=n,this.M=l,this.si=new Pe(O),this.ii=new Q(p=>ta(p),No),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Fv(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.si))}}function jp(i,e,n,o){return new Vm(i,e,n,o)}function zh(i,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,a.Z)(function*(i,e){const n=Mn(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.$s.getAllMutationBatches(o).next(p=>(l=p,n.ui(e),n.$s.getAllMutationBatches(o))).next(p=>{const v=[],A=[];let G=Kr();for(const ae of l){v.push(ae.batchId);for(const et of ae.mutations)G=G.add(et.key)}for(const ae of p){A.push(ae.batchId);for(const et of ae.mutations)G=G.add(et.key)}return n.ai.qs(o,G).next(ae=>({ci:ae,removedBatchIds:v,addedBatchIds:A}))})})}),Hp.apply(this,arguments)}function Um(i,e){const n=Mn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),p=n.oi.newChangeBuffer({trackRemovals:!0});return function(v,A,G,ae){const et=G.batch,pt=et.keys();let Vt=Yt.resolve();return pt.forEach(cn=>{Vt=Vt.next(()=>ae.getEntry(A,cn)).next(Cn=>{const vr=G.docVersions.get(cn);Ir(null!==vr),Cn.version.compareTo(vr)<0&&(et.applyToRemoteDocument(Cn,G),Cn.isValidDocument()&&(Cn.setReadTime(G.commitVersion),ae.addEntry(Cn)))})}),Vt.next(()=>v.$s.removeMutationBatch(A,et))}(n,o,e,p).next(()=>p.apply(o)).next(()=>n.$s.performConsistencyCheck(o)).next(()=>n.ai.qs(o,l))})}function jm(i){const e=Mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ls.getLastRemoteSnapshotVersion(n))}function Gp(i,e){const n=Mn(i),o=e.snapshotVersion;let l=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=n.oi.newChangeBuffer({trackRemovals:!0});l=n.si;const A=[];e.targetChanges.forEach((ae,et)=>{const pt=l.get(et);if(!pt)return;A.push(n.ls.removeMatchingKeys(p,ae.removedDocuments,et).next(()=>n.ls.addMatchingKeys(p,ae.addedDocuments,et)));let Vt=pt.withSequenceNumber(p.currentSequenceNumber);var cn,Cn,vr;e.targetMismatches.has(et)?Vt=Vt.withResumeToken(bi.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):ae.resumeToken.approximateByteSize()>0&&(Vt=Vt.withResumeToken(ae.resumeToken,o)),l=l.insert(et,Vt),Cn=Vt,vr=ae,(0===(cn=pt).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&A.push(n.ls.updateTargetData(p,Vt))});let G=Di();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(p,ae))}),A.push(Wh(p,v,e.documentUpdates).next(ae=>{G=ae})),!o.isEqual(Ze.min())){const ae=n.ls.getLastRemoteSnapshotVersion(p).next(et=>n.ls.setTargetsMetadata(p,p.currentSequenceNumber,o));A.push(ae)}return Yt.waitFor(A).next(()=>v.apply(p)).next(()=>n.ai.Gs(p,G)).next(()=>G)}).then(p=>(n.si=l,p))}function Wh(i,e,n){let o=Kr();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let p=Di();return n.forEach((v,A)=>{const G=l.get(v);A.isNoDocument()&&A.version.isEqual(Ze.min())?(e.removeEntry(v,A.readTime),p=p.insert(v,A)):!G.isValidDocument()||A.version.compareTo(G.version)>0||0===A.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(A),p=p.insert(v,A)):Dn("LocalStore","Ignoring outdated watch update for ",v,". Current version:",G.version," Watch version:",A.version)}),p})}function Hm(i,e){const n=Mn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.$s.getNextMutationBatchAfterBatchId(o,e)))}function Ga(i,e){const n=Mn(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.ls.getTargetData(o,e).next(p=>p?(l=p,Yt.resolve(l)):n.ls.allocateTargetId(o).next(v=>(l=new $a(e,v,0,o.currentSequenceNumber),n.ls.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.si.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.si=n.si.insert(o.targetId,o),n.ii.set(e,o.targetId)),o})}function uc(i,e,n){return zp.apply(this,arguments)}function zp(){return zp=(0,a.Z)(function*(i,e,n){const o=Mn(i),l=o.si.get(e),p=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",p,v=>o.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!Ba(v))throw v;Dn("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.si=o.si.remove(e),o.ii.delete(l.target)}),zp.apply(this,arguments)}function qh(i,e,n){const o=Mn(i);let l=Ze.min(),p=Kr();return o.persistence.runTransaction("Execute query","readonly",v=>function(A,G,ae){const et=Mn(A),pt=et.ii.get(ae);return void 0!==pt?Yt.resolve(et.si.get(pt)):et.ls.getTargetData(G,ae)}(o,v,zi(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(v,A.targetId).next(G=>{p=G})}).next(()=>o.ni.Ks(v,e,n?l:Ze.min(),n?p:Kr())).next(A=>(Wm(o,Wc(e),A),{documents:A,hi:p})))}function Gm(i,e){const n=Mn(i),o=Mn(n.ls),l=n.si.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",p=>o.Et(p,e).next(v=>v?v.target:null))}function zm(i,e){const n=Mn(i),o=n.ri.get(e)||Ze.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.oi.getAllFromCollectionGroup(l,e,ea(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Wm(n,e,l),l))}function Wm(i,e,n){let o=Ze.min();n.forEach((l,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.ri.set(e,o)}function Wp(){return Wp=(0,a.Z)(function*(i,e,n,o){const l=Mn(i);let p=Kr(),v=Di();for(const ae of n){const et=e.li(ae.metadata.name);ae.document&&(p=p.add(et));const pt=e.fi(ae);pt.setReadTime(e.di(ae.metadata.readTime)),v=v.insert(et,pt)}const A=l.oi.newChangeBuffer({trackRemovals:!0}),G=yield Ga(l,(ae=o,zi(Ms(gr.fromString(`__bundle__/docs/${ae}`)))));var ae;return l.persistence.runTransaction("Apply bundle documents","readwrite",ae=>Wh(ae,A,v).next(et=>(A.apply(ae),et)).next(et=>l.ls.removeMatchingKeysForTargetId(ae,G.targetId).next(()=>l.ls.addMatchingKeys(ae,p,G.targetId)).next(()=>l.ai.Gs(ae,et)).next(()=>et)))}),Wp.apply(this,arguments)}function Bv(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,a.Z)(function*(i,e,n=Kr()){const o=yield Ga(i,zi(cd(e.bundledQuery))),l=Mn(i);return l.persistence.runTransaction("Save named query","readwrite",p=>{const v=ts(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return l.ds.saveNamedQuery(p,e);const A=o.withResumeToken(bi.EMPTY_BYTE_STRING,v);return l.si=l.si.insert(A.targetId,A),l.ls.updateTargetData(p,A).next(()=>l.ls.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>l.ls.addMatchingKeys(p,n,o.targetId)).next(()=>l.ds.saveNamedQuery(p,e))})}),qp.apply(this,arguments)}class za{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,n){return Yt.resolve(this._i.get(n))}saveBundleMetadata(e,n){var o;return this._i.set(n.id,{id:(o=n).id,version:o.version,createTime:ts(o.createTime)}),Yt.resolve()}getNamedQuery(e,n){return Yt.resolve(this.wi.get(n))}saveNamedQuery(e,n){return this.wi.set(n.name,{name:(o=n).name,query:cd(o.bundledQuery),readTime:ts(o.readTime)}),Yt.resolve();var o}}class Kh{constructor(){this.overlays=new Pe(In.comparator),this.mi=new Map}getOverlay(e,n){return Yt.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((l,p)=>{this.Xt(e,n,p)}),Yt.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.mi.get(o);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.mi.delete(o)),Yt.resolve()}getOverlaysForCollection(e,n,o){const l=Cu(),p=n.length+1,v=new In(n.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const G=A.getNext().value,ae=G.getKey();if(!n.isPrefixOf(ae.path))break;ae.path.length===p&&G.largestBatchId>o&&l.set(G.getKey(),G)}return Yt.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let p=new Pe((ae,et)=>ae-et);const v=this.overlays.getIterator();for(;v.hasNext();){const ae=v.getNext().value;if(ae.getKey().getCollectionGroup()===n&&ae.largestBatchId>o){let et=p.get(ae.largestBatchId);null===et&&(et=Cu(),p=p.insert(ae.largestBatchId,et)),et.set(ae.getKey(),ae)}}const A=Cu(),G=p.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((ae,et)=>A.set(ae,et)),!(A.size()>=l)););return Yt.resolve(A)}Xt(e,n,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const v=this.mi.get(l.largestBatchId).delete(o.key);this.mi.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Mh(n,o));let p=this.mi.get(n);void 0===p&&(p=Kr(),this.mi.set(n,p)),this.mi.set(n,p.add(o.key))}}class Yh{constructor(){this.gi=new Ln(ns.yi),this.pi=new Ln(ns.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,n){const o=new ns(e,n);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ei(new ns(e,n))}Ai(e,n){e.forEach(o=>this.removeReference(o,n))}Ri(e){const n=new In(new gr([])),o=new ns(n,e),l=new ns(n,e+1),p=[];return this.pi.forEachInRange([o,l],v=>{this.Ei(v),p.push(v.key)}),p}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const n=new In(new gr([])),o=new ns(n,e),l=new ns(n,e+1);let p=Kr();return this.pi.forEachInRange([o,l],v=>{p=p.add(v.key)}),p}containsKey(e){const n=new ns(e,0),o=this.gi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ns{constructor(e,n){this.key=e,this.Vi=n}static yi(e,n){return In.comparator(e.key,n.key)||O(e.Vi,n.Vi)}static Ii(e,n){return O(e.Vi,n.Vi)||In.comparator(e.key,n.key)}}class Zh{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Ln(ns.yi)}checkEmpty(e){return Yt.resolve(0===this.$s.length)}addMutationBatch(e,n,o,l){const p=this.vi;this.vi++;const v=new Ah(p,n,o,l);this.$s.push(v);for(const A of l)this.Si=this.Si.add(new ns(A.key,p)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Yt.resolve(v)}lookupMutationBatch(e,n){return Yt.resolve(this.Di(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Ci(n+1),p=l<0?0:l;return Yt.resolve(this.$s.length>p?this.$s[p]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return Yt.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ns(n,0),l=new ns(n,Number.POSITIVE_INFINITY),p=[];return this.Si.forEachInRange([o,l],v=>{const A=this.Di(v.Vi);p.push(A)}),Yt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Ln(O);return n.forEach(l=>{const p=new ns(l,0),v=new ns(l,Number.POSITIVE_INFINITY);this.Si.forEachInRange([p,v],A=>{o=o.add(A.Vi)})}),Yt.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let p=o;In.isDocumentKey(p)||(p=p.child(""));const v=new ns(new In(p),0);let A=new Ln(O);return this.Si.forEachWhile(G=>{const ae=G.key.path;return!!o.isPrefixOf(ae)&&(ae.length===l&&(A=A.add(G.Vi)),!0)},v),Yt.resolve(this.xi(A))}xi(e){const n=[];return e.forEach(o=>{const l=this.Di(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Ir(0===this.Ni(n.batchId,"removed")),this.$s.shift();let o=this.Si;return Yt.forEach(n.mutations,l=>{const p=new ns(l.key,n.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,n){const o=new ns(n,0),l=this.Si.firstAfterOrEqual(o);return Yt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Yt.resolve()}Ni(e,n){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const n=this.Ci(e);return n<0||n>=this.$s.length?null:this.$s[n]}}class Kp{constructor(e){this.ki=e,this.docs=new Pe(In.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),p=l?l.size:0,v=this.ki(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Yt.resolve(o?o.document.mutableCopy():pi.newInvalidDocument(n))}getEntries(e,n){let o=Di();return n.forEach(l=>{const p=this.docs.get(l);o=o.insert(l,p?p.document.mutableCopy():pi.newInvalidDocument(l))}),Yt.resolve(o)}getAllFromCollection(e,n,o){let l=Di();const p=new In(n.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:A,value:{document:G}}=v.getNext();if(!n.isPrefixOf(A.path))break;A.path.length>n.length+1||oh(Hc(G),o)<=0||(l=l.insert(G.key,G.mutableCopy()))}return Yt.resolve(l)}getAllFromCollectionGroup(e,n,o,l){pr()}Mi(e,n){return Yt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Xh(this)}getSize(e){return Yt.resolve(this.size)}}class Xh extends jh{constructor(e){super(),this.qn=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.qn.addEntry(e,l)):this.qn.removeEntry(o)}),Yt.waitFor(n)}getFromCache(e,n){return this.qn.getEntry(e,n)}getAllFromCache(e,n){return this.qn.getEntries(e,n)}}class qm{constructor(e){this.persistence=e,this.Oi=new Q(n=>ta(n),No),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Yh,this.targetCount=0,this.Bi=Pu.mn()}forEachTarget(e,n){return this.Oi.forEach((o,l)=>n(l)),Yt.resolve()}getLastRemoteSnapshotVersion(e){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yt.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Fi&&(this.Fi=n),Yt.resolve()}In(e){this.Oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Bi=new Pu(n),this.highestTargetId=n),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,n){return this.In(n),this.targetCount+=1,Yt.resolve()}updateTargetData(e,n){return this.In(n),Yt.resolve()}removeTargetData(e,n){return this.Oi.delete(n.target),this.$i.Ri(n.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(e,n,o){let l=0;const p=[];return this.Oi.forEach((v,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Oi.delete(v),p.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),Yt.waitFor(p).next(()=>l)}getTargetCount(e){return Yt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Oi.get(n)||null;return Yt.resolve(o)}addMatchingKeys(e,n,o){return this.$i.Ti(n,o),Yt.resolve()}removeMatchingKeys(e,n,o){this.$i.Ai(n,o);const l=this.persistence.referenceDelegate,p=[];return l&&n.forEach(v=>{p.push(l.markPotentiallyOrphaned(e,v))}),Yt.waitFor(p)}removeMatchingKeysForTargetId(e,n){return this.$i.Ri(n),Yt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.$i.Pi(n);return Yt.resolve(o)}containsKey(e,n){return Yt.resolve(this.$i.containsKey(n))}}class Wa{constructor(e,n){this.Li={},this.overlays={},this.ts=new S(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new qm(this),this.indexManager=new Nm,this.fs=new Kp(o=>this.referenceDelegate.Ui(o)),this.M=new Rp(n),this.ds=new za(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Li[e.toKey()];return o||(o=new Zh(n,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,n,o){Dn("MemoryPersistence","Starting transaction:",e);const l=new Yp(this.ts.next());return this.referenceDelegate.qi(),o(l).next(p=>this.referenceDelegate.Gi(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Ki(e,n){return Yt.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,n)))}}class Yp extends Th{constructor(e){super(),this.currentSequenceNumber=e}}class Jh{constructor(e){this.persistence=e,this.Qi=new Yh,this.ji=null}static Wi(e){return new Jh(e)}get zi(){if(this.ji)return this.ji;throw pr()}addReference(e,n,o){return this.Qi.addReference(o,n),this.zi.delete(o.toString()),Yt.resolve()}removeReference(e,n,o){return this.Qi.removeReference(o,n),this.zi.add(o.toString()),Yt.resolve()}markPotentiallyOrphaned(e,n){return this.zi.add(n.toString()),Yt.resolve()}removeTarget(e,n){this.Qi.Ri(n.targetId).forEach(l=>this.zi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(p=>this.zi.add(p.toString()))}).next(()=>o.removeTargetData(e,n))}qi(){this.ji=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.zi,o=>{const l=In.fromPath(o);return this.Hi(e,l).next(p=>{p||n.removeEntry(l,Ze.min())})}).next(()=>(this.ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hi(e,n).next(o=>{o?this.zi.delete(n.toString()):this.zi.add(n.toString())})}Ui(e){return 0}Hi(e,n){return Yt.or([()=>Yt.resolve(this.Qi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ki(e,n)])}}function Ed(i,e){return`firestore_clients_${i}_${e}`}function Zp(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function bd(i,e){return`firestore_targets_${i}_${e}`}class wd{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Ji(e,n,o){const l=JSON.parse(o);let p,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(p=new _n(l.error.code,l.error.message))),v?new wd(e,n,l.state,p):(Li("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ji(e,n){const o=JSON.parse(n);let l,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(l=new _n(o.error.code,o.error.message))),p?new lc(e,o.state,l):(Li("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qa{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,p=ll();for(let v=0;l&&v<o.activeTargetIds.length;++v)l=$c(o.activeTargetIds[v]),p=p.add(o.activeTargetIds[v]);return l?new qa(e,p):(Li("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Ka{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Ka(n.clientId,n.onlineState):(Li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cc{constructor(){this.activeTargetIds=ll()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ya{constructor(e,n,o,l,p){this.window=e,this.Jn=n,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Pe(O),this.started=!1,this.ir=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.rr=Ed(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new cc),this.ar=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.Z)(function*(){const n=yield e.syncEngine.Os();for(const l of n){if(l===e.tr)continue;const p=e.getItem(Ed(e.persistenceKey,l));if(p){const v=qa.Ji(l,p);v&&(e.sr=e.sr.insert(v.clientId,v))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,o){this.yr(e,n,o),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(bd(this.persistenceKey,e));if(o){const l=lc.Ji(e,o);l&&(n=l.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bd(this.persistenceKey,e))}updateQueryState(e,n,o){this.Tr(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Dn("SharedClientState","READ",e,n),n}setItem(e,n){Dn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Dn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Dn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,a.Z)(function*(){if(n.started){if(null!==o.key)if(n.ar.test(o.key)){if(null==o.newValue){const l=n.Rr(o.key);return n.br(l,null)}{const l=n.Pr(o.key,o.newValue);if(l)return n.br(l.clientId,l)}}else if(n.cr.test(o.key)){if(null!==o.newValue){const l=n.Vr(o.key,o.newValue);if(l)return n.vr(l)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const l=n.Sr(o.key,o.newValue);if(l)return n.Dr(l)}}else if(o.key===n.lr){if(null!==o.newValue){const l=n.wr(o.newValue);if(l)return n.mr(l)}}else if(o.key===n.ur){const l=function(p){let v=S.A;if(null!=p)try{const A=JSON.parse(p);Ir("number"==typeof A),v=A}catch(A){Li("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(o.newValue);l!==S.A&&n.sequenceNumberHandler(l)}else if(o.key===n.dr){const l=n.Cr(o.newValue);yield Promise.all(l.map(p=>n.syncEngine.Nr(p)))}}else n.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,o){const l=new wd(this.currentUser,e,n,o),p=Zp(this.persistenceKey,this.currentUser,e);this.setItem(p,l.Yi())}pr(e){const n=Zp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,n,o){const l=bd(this.persistenceKey,e),p=new lc(e,n,o);this.setItem(l,p.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.ar.exec(e);return n?n[1]:null}Pr(e,n){const o=this.Rr(e);return qa.Ji(o,n)}Vr(e,n){const o=this.cr.exec(e),l=Number(o[1]);return wd.Ji(new ci(void 0!==o[2]?o[2]:null),l,n)}Sr(e,n){const o=this.hr.exec(e),l=Number(o[1]);return lc.Ji(l,n)}wr(e){return Ka.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var n=this;return(0,a.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.kr(e.batchId,e.state,e.error);Dn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,n){const o=n?this.sr.insert(e,n):this.sr.remove(e),l=this.gr(this.sr),p=this.gr(o),v=[],A=[];return p.forEach(G=>{l.has(G)||v.push(G)}),l.forEach(G=>{p.has(G)||A.push(G)}),this.syncEngine.Or(v,A).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=ll();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Il{constructor(){this.Fr=new cc,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new cc,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cl{Br(e){}shutdown(){}}class Xp{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Dn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Dn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Qp{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Qh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,l,p){const v=this.oo(e,n);Dn("RestConnection","Sending: ",v,o);const A={};return this.uo(A,l,p),this.ao(e,v,A,o).then(G=>(Dn("RestConnection","Received: ",G),G),G=>{throw ds("RestConnection",`${e} failed with error: `,G,"url: ",v,"request:",o),G})}co(e,n,o,l,p){return this.ro(e,n,o,l,p)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,p)=>e[p]=l),o&&o.headers.forEach((l,p)=>e[p]=l)}oo(e,n){return`${this.so}/v1/${n}:${Jp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,n,o,l){return new Promise((p,v)=>{const A=new io;A.listenOnce(ss.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case hu.NO_ERROR:const ae=A.getResponseJson();Dn("Connection","XHR received:",JSON.stringify(ae)),p(ae);break;case hu.TIMEOUT:Dn("Connection",'RPC "'+e+'" timed out'),v(new _n(jt.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const et=A.getStatus();if(Dn("Connection",'RPC "'+e+'" failed with status:',et,"response text:",A.getResponseText()),et>0){const pt=A.getResponseJson().error;if(pt&&pt.status&&pt.message){const Vt=function(cn){const Cn=cn.toLowerCase().replace(/_/g,"-");return Object.values(jt).indexOf(Cn)>=0?Cn:jt.UNKNOWN}(pt.status);v(new _n(Vt,pt.message))}else v(new _n(jt.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new _n(jt.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{Dn("Connection",'RPC "'+e+'" completed.')}});const G=JSON.stringify(l);A.send(n,"POST",G,o,15)})}ho(e,n,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Qs(),v=du(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new Ls({})),this.uo(A.initMessageHeaders,n,o),(0,he.uI)()||(0,he.b$)()||(0,he.d)()||(0,he.w1)()||(0,he.Mn)()||(0,he.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const G=l.join("");Dn("Connection","Creating WebChannel: "+G,A);const ae=p.createWebChannel(G,A);let et=!1,pt=!1;const Vt=new Qp({jr:Cn=>{pt?Dn("Connection","Not sending because WebChannel is closed:",Cn):(et||(Dn("Connection","Opening WebChannel transport."),ae.open(),et=!0),Dn("Connection","WebChannel sending:",Cn),ae.send(Cn))},Wr:()=>ae.close()}),cn=(Cn,vr,$r)=>{Cn.listen(vr,Vi=>{try{$r(Vi)}catch(jr){setTimeout(()=>{throw jr},0)}})};return cn(ae,Is.EventType.OPEN,()=>{pt||Dn("Connection","WebChannel transport opened.")}),cn(ae,Is.EventType.CLOSE,()=>{pt||(pt=!0,Dn("Connection","WebChannel transport closed"),Vt.eo())}),cn(ae,Is.EventType.ERROR,Cn=>{pt||(pt=!0,ds("Connection","WebChannel transport errored:",Cn),Vt.eo(new _n(jt.UNAVAILABLE,"The operation could not be completed")))}),cn(ae,Is.EventType.MESSAGE,Cn=>{var vr;if(!pt){const $r=Cn.data[0];Ir(!!$r);const Vi=$r,jr=Vi.error||(null===(vr=Vi[0])||void 0===vr?void 0:vr.error);if(jr){Dn("Connection","WebChannel received error:",jr);const Ns=jr.status;let Hi=function(hi){const uu=b[hi];if(void 0!==uu)return T(uu)}(Ns),Xi=jr.message;void 0===Hi&&(Hi=jt.INTERNAL,Xi="Unknown error status: "+Ns+" with message "+jr.message),pt=!0,Vt.eo(new _n(Hi,Xi)),ae.close()}else Dn("Connection","WebChannel received:",$r),Vt.no($r)}}),cn(v,Aa.STAT_EVENT,Cn=>{Cn.stat===Ao.PROXY?Dn("Connection","Detected buffering proxy"):Cn.stat===Ao.NOPROXY&&Dn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Vt.Zr()},0),Vt}}function Id(){return"undefined"!=typeof window?window:null}function dc(){return"undefined"!=typeof document?document:null}function Za(i){return new Wi(i,!0)}class ef{constructor(e,n,o=1e3,l=1.5,p=6e4){this.Jn=e,this.timerId=n,this.lo=o,this.fo=l,this._o=p,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,n-o);l>0&&Dn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class tf{constructor(e,n,o,l,p,v,A,G){this.Jn=e,this.Ao=o,this.Ro=l,this.bo=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=G,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new ef(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,a.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,a.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,n){var o=this;return(0,a.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===jt.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===jt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===n&&this.Uo(o,l)},o=>{e(()=>{const l=new _n(jt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Go(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,a.Z)(function*(){e.state=0,e.start()}))}qo(e){return Dn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.Jn.enqueueAndForget(()=>this.Po===e?n():(Dn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $v extends tf{constructor(e,n,o,l,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,v),this.M=p}Go(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function bp(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:pr(),l=e.targetChange.targetIds||[],p=function(G,ae){return G.N?(Ir(void 0===ae||"string"==typeof ae),bi.fromBase64String(ae||"")):(Ir(void 0===ae||ae instanceof Uint8Array),bi.fromUint8Array(ae||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(G){const ae=void 0===G.code?jt.UNKNOWN:T(G.code);return new _n(ae,G.message||"")}(v);n=new cl(o,l,p,A||null)}else if("documentChange"in e){const o=e.documentChange,l=$o(i,o.document.name),p=ts(o.document.updateTime),v=new Qi({mapValue:{fields:o.document.fields}}),A=pi.newFoundDocument(l,p,v);n=new Su(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,l=$o(i,o.document),p=o.readTime?ts(o.readTime):Ze.min(),v=pi.newNoDocument(l,p);n=new Su([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,l=$o(i,o.document);n=new Su([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return pr();{const o=e.filter,p=new gp(o.count||0);n=new td(o.targetId,p)}}var G;return n}(this.M,e),o=function(l){if(!("targetChange"in l))return Ze.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?Ze.min():p.readTime?ts(p.readTime):Ze.min()}(e);return this.listener.Ko(n,o)}Qo(e){const n={};n.database=rd(this.M),n.addTarget=function(l,p){let v;const A=p.target;return v=ko(A)?{documents:wp(l,A)}:{query:Ip(l,A)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?v.resumeToken=vp(l,p.resumeToken):p.snapshotVersion.compareTo(Ze.min())>0&&(v.readTime=Jl(l,p.snapshotVersion.toTimestamp())),v}(this.M,e);const o=function vm(i,e){const n=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Oo(n)}jo(e){const n={};n.database=rd(this.M),n.removeTarget=e,this.Oo(n)}}class eg extends tf{constructor(e,n,o,l,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,v),this.M=p,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function bh(i,e){return i&&i.length>0?(Ir(void 0!==e),i.map(n=>function(o,l){let p=ts(o.updateTime?o.updateTime:l);return p.isEqual(Ze.min())&&(p=ts(l)),new Zc(p,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ts(e.commitTime);return this.listener.Jo(o,n)}return Ir(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=rd(this.M),this.Oo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>qi(this.M,o))};this.Oo(n)}}class tg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=l,this.Zo=!1}tu(){if(this.Zo)throw new _n(jt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.bo.ro(e,n,o,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _n(jt.UNKNOWN,l.toString())})}co(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.bo.co(e,n,o,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _n(jt.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class Km{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Li(n),this.su=!1):Dn("OnlineStateTracker",n)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class ng{constructor(e,n,o,l,p){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=p,this.du.Br(A=>{o.enqueueAndForget((0,a.Z)(function*(){var G;Go(v)&&(Dn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,a.Z)(function*(ae){const et=Mn(ae);et.lu.add(4),yield us(et),et._u.set("Unknown"),et.lu.delete(4),yield hc(et)}),function(ae){return G.apply(this,arguments)})(v))}))}),this._u=new Km(o,l)}}function hc(i){return nf.apply(this,arguments)}function nf(){return nf=(0,a.Z)(function*(i){if(Go(i))for(const e of i.fu)yield e(!0)}),nf.apply(this,arguments)}function us(i){return rf.apply(this,arguments)}function rf(){return rf=(0,a.Z)(function*(i){for(const e of i.fu)yield e(!1)}),rf.apply(this,arguments)}function Cd(i,e){const n=Mn(i);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),of(n)?ig(n):Xa(n).Co()&&rg(n,e))}function Dd(i,e){const n=Mn(i),o=Xa(n);n.hu.delete(e),o.Co()&&sf(n,e),0===n.hu.size&&(o.Co()?o.ko():Go(n)&&n._u.set("Unknown"))}function rg(i,e){i.wu.Z(e.targetId),Xa(i).Qo(e)}function sf(i,e){i.wu.Z(e),Xa(i).jo(e)}function ig(i){i.wu=new mp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),Xa(i).start(),i._u.iu()}function of(i){return Go(i)&&!Xa(i).Do()&&i.hu.size>0}function Go(i){return 0===Mn(i).lu.size}function af(i){i.wu=void 0}function Ym(i){return uf.apply(this,arguments)}function uf(){return uf=(0,a.Z)(function*(i){i.hu.forEach((e,n)=>{rg(i,e)})}),uf.apply(this,arguments)}function Zm(i,e){return Td.apply(this,arguments)}function Td(){return Td=(0,a.Z)(function*(i,e){af(i),of(i)?(i._u.uu(e),ig(i)):i._u.set("Unknown")}),Td.apply(this,arguments)}function Xm(i,e,n){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,a.Z)(function*(i,e,n){if(i._u.set("Online"),e instanceof cl&&2===e.state&&e.cause)try{yield(o=(0,a.Z)(function*(l,p){const v=p.cause;for(const A of p.targetIds)l.hu.has(A)&&(yield l.remoteSyncer.rejectListen(A,v),l.hu.delete(A),l.wu.removeTarget(A))}),function(l,p){return o.apply(this,arguments)})(i,e)}catch(o){Dn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ad(i,o)}else if(e instanceof Su?i.wu.ut(e):e instanceof td?i.wu._t(e):i.wu.ht(e),!n.isEqual(Ze.min()))try{const o=yield jm(i.localStore);n.compareTo(o)>=0&&(yield function(l,p){const v=l.wu.yt(p);return v.targetChanges.forEach((A,G)=>{if(A.resumeToken.approximateByteSize()>0){const ae=l.hu.get(G);ae&&l.hu.set(G,ae.withResumeToken(A.resumeToken,p))}}),v.targetMismatches.forEach(A=>{const G=l.hu.get(A);if(!G)return;l.hu.set(A,G.withResumeToken(bi.EMPTY_BYTE_STRING,G.snapshotVersion)),sf(l,A);const ae=new $a(G.target,A,1,G.sequenceNumber);rg(l,ae)}),l.remoteSyncer.applyRemoteEvent(v)}(i,n))}catch(o){Dn("RemoteStore","Failed to raise snapshot:",o),yield Ad(i,o)}var o}),Sd.apply(this,arguments)}function Ad(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,a.Z)(function*(i,e,n){if(!Ba(e))throw e;i.lu.add(1),yield us(i),i._u.set("Offline"),n||(n=()=>jm(i.localStore)),i.asyncQueue.enqueueRetryable((0,a.Z)(function*(){Dn("RemoteStore","Retrying IndexedDB access"),yield n(),i.lu.delete(1),yield hc(i)}))}),lf.apply(this,arguments)}function cf(i,e){return e().catch(n=>Ad(i,n,e))}function Fu(i){return df.apply(this,arguments)}function df(){return df=(0,a.Z)(function*(i){const e=Mn(i),n=ha(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;zo(e);)try{const l=yield Hm(e.localStore,o);if(null===l){0===e.cu.length&&n.ko();break}o=l.batchId,hf(e,l)}catch(l){yield Ad(e,l)}sg(e)&&og(e)}),df.apply(this,arguments)}function zo(i){return Go(i)&&i.cu.length<10}function hf(i,e){i.cu.push(e);const n=ha(i);n.Co()&&n.zo&&n.Ho(e.mutations)}function sg(i){return Go(i)&&!ha(i).Do()&&i.cu.length>0}function og(i){ha(i).start()}function Vv(i){return xd.apply(this,arguments)}function xd(){return xd=(0,a.Z)(function*(i){ha(i).Xo()}),xd.apply(this,arguments)}function Jm(i){return ff.apply(this,arguments)}function ff(){return ff=(0,a.Z)(function*(i){const e=ha(i);for(const n of i.cu)e.Ho(n.mutations)}),ff.apply(this,arguments)}function Qm(i,e,n){return fc.apply(this,arguments)}function fc(){return fc=(0,a.Z)(function*(i,e,n){const o=i.cu.shift(),l=xh.from(o,e,n);yield cf(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Fu(i)}),fc.apply(this,arguments)}function ey(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,a.Z)(function*(i,e){var n;e&&ha(i).zo&&(yield(n=(0,a.Z)(function*(o,l){if(m(p=l.code)&&p!==jt.ABORTED){const v=o.cu.shift();ha(o).No(),yield cf(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield Fu(o)}var p}),function(o,l){return n.apply(this,arguments)})(i,e)),sg(i)&&og(i)}),pf.apply(this,arguments)}function pc(i,e){return gc.apply(this,arguments)}function gc(){return gc=(0,a.Z)(function*(i,e){const n=Mn(i);n.asyncQueue.verifyOperationInProgress(),Dn("RemoteStore","RemoteStore received new credentials");const o=Go(n);n.lu.add(3),yield us(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield hc(n)}),gc.apply(this,arguments)}function gf(i,e){return mc.apply(this,arguments)}function mc(){return mc=(0,a.Z)(function*(i,e){const n=Mn(i);e?(n.lu.delete(2),yield hc(n)):e||(n.lu.add(2),yield us(n),n._u.set("Unknown"))}),mc.apply(this,arguments)}function Xa(i){return i.mu||(i.mu=function(e,n,o){const l=Mn(e);return l.tu(),new $v(n,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:Ym.bind(null,i),Jr:Zm.bind(null,i),Ko:Xm.bind(null,i)}),i.fu.push(function(){var e=(0,a.Z)(function*(n){n?(i.mu.No(),of(i)?ig(i):i._u.set("Unknown")):(yield i.mu.stop(),af(i))});return function(n){return e.apply(this,arguments)}}())),i.mu}function ha(i){return i.gu||(i.gu=function(e,n,o){const l=Mn(e);return l.tu(),new eg(n,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:Vv.bind(null,i),Jr:ey.bind(null,i),Yo:Jm.bind(null,i),Jo:Qm.bind(null,i)}),i.fu.push(function(){var e=(0,a.Z)(function*(n){n?(i.gu.No(),yield Fu(i)):(yield i.gu.stop(),i.cu.length>0&&(Dn("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(n){return e.apply(this,arguments)}}())),i.gu}class mf{constructor(e,n,o,l,p){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=p,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,l,p){const v=Date.now()+o,A=new mf(e,n,v,l,p);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(jt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dl(i,e){if(Li("AsyncQueue",`${e}: ${i}`),Ba(i))return new _n(jt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ja{constructor(e){this.comparator=e?(n,o)=>e(n,o)||In.comparator(n.key,o.key):(n,o)=>In.comparator(n.key,o.key),this.keyedMap=Iu(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Ja(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,p=o.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Ja;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class ty{constructor(){this.yu=new Pe(In.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):pr():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Tl{constructor(e,n,o,l,p,v,A,G){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=G}static fromInitialDocuments(e,n,o,l){const p=[];return n.forEach(v=>{p.push({type:0,doc:v})}),new Tl(e,n,Ja.emptySet(n),p,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Na(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class ag{constructor(){this.Iu=void 0,this.listeners=[]}}class ug{constructor(){this.queries=new Q(e=>sl(e),Na),this.onlineState="Unknown",this.Tu=new Set}}function Md(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,a.Z)(function*(i,e){const n=Mn(i),o=e.query;let l=!1,p=n.queries.get(o);if(p||(l=!0,p=new ag),l)try{p.Iu=yield n.onListen(o)}catch(v){const A=Dl(v,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,p),p.listeners.push(e),e.Eu(n.onlineState),p.Iu&&e.Au(p.Iu)&&yf(n)}),Rd.apply(this,arguments)}function Od(i,e){return mo.apply(this,arguments)}function mo(){return mo=(0,a.Z)(function*(i,e){const n=Mn(i),o=e.query;let l=!1;const p=n.queries.get(o);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),l=0===p.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),mo.apply(this,arguments)}function Pd(i,e){const n=Mn(i);let o=!1;for(const l of e){const v=n.queries.get(l.query);if(v){for(const A of v.listeners)A.Au(l)&&(o=!0);v.Iu=l}}o&&yf(n)}function ny(i,e,n){const o=Mn(i),l=o.queries.get(e);if(l)for(const p of l.listeners)p.onError(n);o.queries.delete(e)}function yf(i){i.Tu.forEach(e=>{e.next()})}class lg{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Tl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),n=!0):this.vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class vf{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}class _f{constructor(e){this.M=e}li(e){return $o(this.M,e)}fi(e){return e.metadata.exists?id(this.M,e.document,!1):pi.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ts(e)}}class Ef{constructor(e,n,o){this.xu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sl(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=gr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,o=new _f(this.M);for(const l of e)if(l.metadata.queries){const p=o.li(l.metadata.name);for(const v of l.metadata.queries){const A=(n.get(v)||Kr()).add(p);n.set(v,A)}}return n}complete(){var e=this;return(0,a.Z)(function*(){const n=yield function Lv(i,e,n,o){return Wp.apply(this,arguments)}(e.localStore,new _f(e.M),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield Bv(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:n}})()}}function Sl(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cg{constructor(e){this.key=e}}class Nd{constructor(e){this.key=e}}class bf{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Kr(),this.mutatedKeys=Kr(),this.Lu=ql(e),this.Uu=new Ja(this.Lu)}get qu(){return this.Fu}Gu(e,n){const o=n?n.Ku:new ty,l=n?n.Uu:this.Uu;let p=n?n.mutatedKeys:this.mutatedKeys,v=l,A=!1;const G=rl(this.query)&&l.size===this.query.limit?l.last():null,ae=_u(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((et,pt)=>{const Vt=l.get(et),cn=ol(this.query,pt)?pt:null,Cn=!!Vt&&this.mutatedKeys.has(Vt.key),vr=!!cn&&(cn.hasLocalMutations||this.mutatedKeys.has(cn.key)&&cn.hasCommittedMutations);let $r=!1;Vt&&cn?Vt.data.isEqual(cn.data)?Cn!==vr&&(o.track({type:3,doc:cn}),$r=!0):this.Qu(Vt,cn)||(o.track({type:2,doc:cn}),$r=!0,(G&&this.Lu(cn,G)>0||ae&&this.Lu(cn,ae)<0)&&(A=!0)):!Vt&&cn?(o.track({type:0,doc:cn}),$r=!0):Vt&&!cn&&(o.track({type:1,doc:Vt}),$r=!0,(G||ae)&&(A=!0)),$r&&(cn?(v=v.add(cn),p=vr?p.add(et):p.delete(et)):(v=v.delete(et),p=p.delete(et)))}),rl(this.query)||_u(this.query))for(;v.size>this.query.limit;){const et=rl(this.query)?v.last():v.first();v=v.delete(et.key),p=p.delete(et.key),o.track({type:1,doc:et})}return{Uu:v,Ku:o,ei:A,mutatedKeys:p}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const p=e.Ku.pu();p.sort((ae,et)=>function(pt,Vt){const cn=Cn=>{switch(Cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return cn(pt)-cn(Vt)}(ae.type,et.type)||this.Lu(ae.doc,et.doc)),this.ju(o);const v=n?this.Wu():[],A=0===this.Bu.size&&this.current?1:0,G=A!==this.$u;return this.$u=A,0!==p.length||G?{snapshot:new Tl(this.query,e.Uu,l,p,e.mutatedKeys,0===A,G,!1),zu:v}:{zu:v}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new ty,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Kr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new Nd(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new cg(o))}),n}Ju(e){this.Fu=e.hi,this.Bu=Kr();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Yu(){return Tl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class dg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hg{constructor(e){this.key=e,this.Xu=!1}}class ry{constructor(e,n,o,l,p,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.Zu={},this.ta=new Q(A=>sl(A),Na),this.ea=new Map,this.na=new Set,this.sa=new Pe(In.comparator),this.ia=new Map,this.ra=new Yh,this.oa={},this.ua=new Map,this.aa=Pu.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function wf(i,e){return If.apply(this,arguments)}function If(){return If=(0,a.Z)(function*(i,e){const n=Pf(i);let o,l;const p=n.ta.get(e);if(p)o=p.targetId,n.sharedClientState.addLocalQueryTarget(o),l=p.view.Yu();else{const v=yield Ga(n.localStore,zi(e));n.isPrimaryClient&&Cd(n.remoteStore,v);const A=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,l=yield Cf(n,e,o,"current"===A)}return l}),If.apply(this,arguments)}function Cf(i,e,n,o){return kd.apply(this,arguments)}function kd(){return kd=(0,a.Z)(function*(i,e,n,o){i.ha=(et,pt,Vt)=>{return(cn=(0,a.Z)(function*(Cn,vr,$r,Vi){let jr=vr.view.Gu($r);jr.ei&&(jr=yield qh(Cn.localStore,vr.query,!1).then(({documents:Xi})=>vr.view.Gu(Xi,jr)));const Ns=Vi&&Vi.targetChanges.get(vr.targetId),Hi=vr.view.applyChanges(jr,Cn.isPrimaryClient,Ns);return $d(Cn,vr.targetId,Hi.zu),Hi.snapshot}),function(Cn,vr,$r,Vi){return cn.apply(this,arguments)})(i,et,pt,Vt);var cn};const l=yield qh(i.localStore,e,!0),p=new bf(e,l.hi),v=p.Gu(l.documents),A=Bo.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),G=p.applyChanges(v,i.isPrimaryClient,A);$d(i,n,G.zu);const ae=new dg(e,n,p);return i.ta.set(e,ae),i.ea.has(n)?i.ea.get(n).push(e):i.ea.set(n,[e]),G.snapshot}),kd.apply(this,arguments)}function Al(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,a.Z)(function*(i,e){const n=Mn(i),o=n.ta.get(e),l=n.ea.get(o.targetId);if(l.length>1)return n.ea.set(o.targetId,l.filter(p=>!Na(p,e))),void n.ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield uc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Dd(n.remoteStore,o.targetId),xl(n,o.targetId)}).catch(Nu))):(xl(n,o.targetId),yield uc(n.localStore,o.targetId,!0))}),Fd.apply(this,arguments)}function Df(){return Df=(0,a.Z)(function*(i,e,n){const o=Nf(i);try{const l=yield function(p,v){const A=Mn(p),G=qe.now(),ae=v.reduce((pt,Vt)=>pt.add(Vt.key),Kr());let et;return A.persistence.runTransaction("Locally write mutations","readwrite",pt=>A.ai.qs(pt,ae).next(Vt=>{et=Vt;const cn=[];for(const Cn of v){const vr=gh(Cn,et.get(Cn.key));null!=vr&&cn.push(new zs(Cn.key,vr,Ju(vr.value.mapValue),Ri.exists(!0)))}return A.$s.addMutationBatch(pt,G,cn,v)})).then(pt=>(pt.applyToLocalDocumentSet(et),{batchId:pt.batchId,changes:et}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(p,v,A){let G=p.oa[p.currentUser.toKey()];G||(G=new Pe(O)),G=G.insert(v,A),p.oa[p.currentUser.toKey()]=G}(o,l.batchId,n),yield fa(o,l.changes),yield Fu(o.remoteStore)}catch(l){const p=Dl(l,"Failed to persist write");n.reject(p)}}),Df.apply(this,arguments)}function Lu(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,a.Z)(function*(i,e){const n=Mn(i);try{const o=yield Gp(n.localStore,e);e.targetChanges.forEach((l,p)=>{const v=n.ia.get(p);v&&(Ir(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Xu=!0:l.modifiedDocuments.size>0?Ir(v.Xu):l.removedDocuments.size>0&&(Ir(v.Xu),v.Xu=!1))}),yield fa(n,o,e)}catch(o){yield Nu(o)}}),Tf.apply(this,arguments)}function fg(i,e,n){const o=Mn(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.ta.forEach((p,v)=>{const A=v.view.Eu(e);A.snapshot&&l.push(A.snapshot)}),function(p,v){const A=Mn(p);A.onlineState=v;let G=!1;A.queries.forEach((ae,et)=>{for(const pt of et.listeners)pt.Eu(v)&&(G=!0)}),G&&yf(A)}(o.eventManager,e),l.length&&o.Zu.Ko(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function sy(i,e,n){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,a.Z)(function*(i,e,n){const o=Mn(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ia.get(e),p=l&&l.key;if(p){let v=new Pe(In.comparator);v=v.insert(p,pi.newNoDocument(p,Ze.min()));const A=Kr().add(p),G=new Tu(Ze.min(),new Map,new Ln(O),v,A);yield Lu(o,G),o.sa=o.sa.remove(p),o.ia.delete(e),Vd(o)}else yield uc(o.localStore,e,!1).then(()=>xl(o,e,n)).catch(Nu)}),Sf.apply(this,arguments)}function yo(i,e){return yc.apply(this,arguments)}function yc(){return yc=(0,a.Z)(function*(i,e){const n=Mn(i),o=e.batch.batchId;try{const l=yield Um(n.localStore,e);xf(n,o,null),Af(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield fa(n,l)}catch(l){yield Nu(l)}}),yc.apply(this,arguments)}function pg(i,e,n){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,a.Z)(function*(i,e,n){const o=Mn(i);try{const l=yield function(p,v){const A=Mn(p);return A.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ae;return A.$s.lookupMutationBatch(G,v).next(et=>(Ir(null!==et),ae=et.keys(),A.$s.removeMutationBatch(G,et))).next(()=>A.$s.performConsistencyCheck(G)).next(()=>A.ai.qs(G,ae))})}(o.localStore,e);xf(o,e,n),Af(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield fa(o,l)}catch(l){yield Nu(l)}}),Ld.apply(this,arguments)}function Bd(){return Bd=(0,a.Z)(function*(i,e){const n=Mn(i);Go(n.remoteStore)||Dn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const v=Mn(p);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.$s.getHighestUnacknowledgedBatchId(A))}(n.localStore);if(-1===o)return void e.resolve();const l=n.ua.get(o)||[];l.push(e),n.ua.set(o,l)}catch(o){const l=Dl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Bd.apply(this,arguments)}function Af(i,e){(i.ua.get(e)||[]).forEach(n=>{n.resolve()}),i.ua.delete(e)}function xf(i,e,n){const o=Mn(i);let l=o.oa[o.currentUser.toKey()];if(l){const p=l.get(e);p&&(n?p.reject(n):p.resolve(),l=l.remove(e)),o.oa[o.currentUser.toKey()]=l}}function xl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ea.get(e))i.ta.delete(o),n&&i.Zu.la(o,n);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(o=>{i.ra.containsKey(o)||mg(i,o)})}function mg(i,e){i.na.delete(e.path.canonicalString());const n=i.sa.get(e);null!==n&&(Dd(i.remoteStore,n),i.sa=i.sa.remove(e),i.ia.delete(n),Vd(i))}function $d(i,e,n){for(const o of n)o instanceof cg?(i.ra.addReference(o.key,e),Uv(i,o)):o instanceof Nd?(Dn("SyncEngine","Document no longer in limbo: "+o.key),i.ra.removeReference(o.key,e),i.ra.containsKey(o.key)||mg(i,o.key)):pr()}function Uv(i,e){const n=e.key,o=n.path.canonicalString();i.sa.get(n)||i.na.has(o)||(Dn("SyncEngine","New document in limbo: "+n),i.na.add(o),Vd(i))}function Vd(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const n=new In(gr.fromString(e)),o=i.aa.next();i.ia.set(o,new hg(n)),i.sa=i.sa.insert(n,o),Cd(i.remoteStore,new $a(zi(Ms(n.path)),o,2,S.A))}}function fa(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,a.Z)(function*(i,e,n){const o=Mn(i),l=[],p=[],v=[];var A;o.ta.isEmpty()||(o.ta.forEach((A,G)=>{v.push(o.ha(G,e,n).then(ae=>{if(ae){o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,ae.fromCache?"not-current":"current"),l.push(ae);const et=Gh.Js(G.targetId,ae);p.push(et)}}))}),yield Promise.all(v),o.Zu.Ko(l),yield(A=(0,a.Z)(function*(G,ae){const et=Mn(G);try{yield et.persistence.runTransaction("notifyLocalViewChanges","readwrite",pt=>Yt.forEach(ae,Vt=>Yt.forEach(Vt.zs,cn=>et.persistence.referenceDelegate.addReference(pt,Vt.targetId,cn)).next(()=>Yt.forEach(Vt.Hs,cn=>et.persistence.referenceDelegate.removeReference(pt,Vt.targetId,cn)))))}catch(pt){if(!Ba(pt))throw pt;Dn("LocalStore","Failed to update sequence numbers: "+pt)}for(const pt of ae){const Vt=pt.targetId;if(!pt.fromCache){const cn=et.si.get(Vt),vr=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);et.si=et.si.insert(Vt,vr)}}}),function(G,ae){return A.apply(this,arguments)})(o.localStore,p))}),Mf.apply(this,arguments)}function jv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,a.Z)(function*(i,e){const n=Mn(i);if(!n.currentUser.isEqual(e)){Dn("SyncEngine","User change. New user:",e.toKey());const o=yield zh(n.localStore,e);n.currentUser=e,(l=n).ua.forEach(v=>{v.forEach(A=>{A.reject(new _n(jt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ua.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield fa(n,o.ci)}var l}),yg.apply(this,arguments)}function Rf(i,e){const n=Mn(i),o=n.ia.get(e);if(o&&o.Xu)return Kr().add(o.key);{let l=Kr();const p=n.ea.get(e);if(!p)return l;for(const v of p){const A=n.ta.get(v);l=l.unionWith(A.view.qu)}return l}}function oy(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,a.Z)(function*(i,e){const n=Mn(i),o=yield qh(n.localStore,e.query,!0),l=e.view.Ju(o);return n.isPrimaryClient&&$d(n,e.targetId,l.zu),l}),Ud.apply(this,arguments)}function vg(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,a.Z)(function*(i,e){const n=Mn(i);return zm(n.localStore,e).then(o=>fa(n,o))}),_g.apply(this,arguments)}function vo(i,e,n,o){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,a.Z)(function*(i,e,n,o){const l=Mn(i),p=yield function(v,A){const G=Mn(v),ae=Mn(G.$s);return G.persistence.runTransaction("Lookup mutation documents","readonly",et=>ae.ln(et,A).next(pt=>pt?G.ai.qs(et,pt):Yt.resolve(null)))}(l.localStore,e);var A;null!==p?("pending"===n?yield Fu(l.remoteStore):"acknowledged"===n||"rejected"===n?(xf(l,e,o||null),Af(l,e),A=e,Mn(Mn(l.localStore).$s).dn(A)):pr(),yield fa(l,p)):Dn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Eg.apply(this,arguments)}function jd(){return jd=(0,a.Z)(function*(i,e){const n=Mn(i);if(Pf(n),Nf(n),!0===e&&!0!==n.ca){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Of(n,o.toArray());n.ca=!0,yield gf(n.remoteStore,!0);for(const p of l)Cd(n.remoteStore,p)}else if(!1===e&&!1!==n.ca){const o=[];let l=Promise.resolve();n.ea.forEach((p,v)=>{n.sharedClientState.isLocalQueryTarget(v)?o.push(v):l=l.then(()=>(xl(n,v),uc(n.localStore,v,!0))),Dd(n.remoteStore,v)}),yield l,yield Of(n,o),function(p){const v=Mn(p);v.ia.forEach((A,G)=>{Dd(v.remoteStore,G)}),v.ra.bi(),v.ia=new Map,v.sa=new Pe(In.comparator)}(n),n.ca=!1,yield gf(n.remoteStore,!1)}}),jd.apply(this,arguments)}function Of(i,e,n){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,a.Z)(function*(i,e,n){const o=Mn(i),l=[],p=[];for(const v of e){let A;const G=o.ea.get(v);if(G&&0!==G.length){A=yield Ga(o.localStore,zi(G[0]));for(const ae of G){const et=o.ta.get(ae),pt=yield oy(o,et);pt.snapshot&&p.push(pt.snapshot)}}else{const ae=yield Gm(o.localStore,v);A=yield Ga(o.localStore,ae),yield Cf(o,bg(ae),v,!1)}l.push(A)}return o.Zu.Ko(p),l}),Hd.apply(this,arguments)}function bg(i){return vu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Gv(i){const e=Mn(i);return Mn(Mn(e.localStore).persistence).Os()}function wg(i,e,n,o){return vc.apply(this,arguments)}function vc(){return vc=(0,a.Z)(function*(i,e,n,o){const l=Mn(i);if(l.ca)return void Dn("SyncEngine","Ignoring unexpected query state notification.");const p=l.ea.get(e);if(p&&p.length>0)switch(n){case"current":case"not-current":{const v=yield zm(l.localStore,Wc(p[0])),A=Tu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield fa(l,v,A);break}case"rejected":yield uc(l.localStore,e,!0),xl(l,e,o);break;default:pr()}}),vc.apply(this,arguments)}function ay(i,e,n){return _c.apply(this,arguments)}function _c(){return _c=(0,a.Z)(function*(i,e,n){const o=Pf(i);if(o.ca){for(const l of e){if(o.ea.has(l)){Dn("SyncEngine","Adding an already active target "+l);continue}const p=yield Gm(o.localStore,l),v=yield Ga(o.localStore,p);yield Cf(o,bg(p),v.targetId,!1),Cd(o.remoteStore,v)}for(const l of n)o.ea.has(l)&&(yield uc(o.localStore,l,!1).then(()=>{Dd(o.remoteStore,l),xl(o,l)}).catch(Nu))}}),_c.apply(this,arguments)}function Pf(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sy.bind(null,e),e.Zu.Ko=Pd.bind(null,e.eventManager),e.Zu.la=ny.bind(null,e.eventManager),e}function Nf(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yo.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pg.bind(null,e),e}class Ig{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,a.Z)(function*(){n.M=Za(e.databaseInfo.databaseId),n.sharedClientState=n.da(e),n.persistence=n._a(e),yield n.persistence.start(),n.gcScheduler=n.wa(e),n.localStore=n.ma(e)})()}wa(e){return null}ma(e){return jp(this.persistence,new Up,e.initialUser,this.M)}_a(e){return new Wa(Jh.Wi,this.M)}da(e){return new Il}terminate(){var e=this;return(0,a.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cg extends Ig{constructor(e,n,o){super(),this.ga=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,a.Z)(function*(){yield n().call(o,e),yield o.ga.initialize(o,e),yield Nf(o.ga.syncEngine),yield Fu(o.ga.remoteStore),yield o.persistence.Is(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ma(e){return jp(this.persistence,new Up,e.initialUser,this.M)}wa(e){return new Bp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const n=ac(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new bl(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Id(),dc(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Il}}class ly extends Cg{constructor(e,n){super(e,n,!1),this.ga=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,a.Z)(function*(){yield n().call(o,e);const l=o.ga.syncEngine;o.sharedClientState instanceof Ya&&(o.sharedClientState.syncEngine={kr:vo.bind(null,l),Mr:wg.bind(null,l),Or:ay.bind(null,l),Os:Gv.bind(null,l),Nr:vg.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Is(function(){var p=(0,a.Z)(function*(v){yield function Hv(i,e){return jd.apply(this,arguments)}(o.ga.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}da(e){const n=Id();if(!Ya.vt(n))throw new _n(jt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ac(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ya(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ml{initialize(e,n){var o=this;return(0,a.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>fg(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=jv.bind(null,o.syncEngine),yield gf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ug}createDatastore(e){const n=Za(e.databaseInfo.databaseId),o=new Qh(e.databaseInfo);return new tg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,l=e.asyncQueue,p=A=>fg(this.syncEngine,A,0),v=Xp.vt()?new Xp:new Cl,new ng(n,o,l,p,v);var n,o,l,p,v}createSyncEngine(e,n){return function(o,l,p,v,A,G,ae){const et=new ry(o,l,p,v,A,G);return ae&&(et.ca=!0),et}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,a.Z)(function*(n){const o=Mn(n);Dn("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield us(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Bu(i,e=10240){let n=0;return{read:()=>(0,a.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,a.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Gd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ec{constructor(e,n){this.Ia=e,this.M=n,this.metadata=new Ci,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,a.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,a.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,a.Z)(function*(){const n=yield e.Aa();if(null===n)return null;const o=e.Ta.decode(n),l=Number(o);isNaN(l)&&e.Ra(`length string (${o}) is not valid number`);const p=yield e.ba(l);return new vf(JSON.parse(p),n.length+l)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,a.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const n=e.Pa();n<0&&e.Ra("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,a.Z)(function*(){for(;n.buffer.length<e;)(yield n.Va())&&n.Ra("Reached the end of bundle when more is expected.");const o=n.Ta.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,a.Z)(function*(){const n=yield e.Ia.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class cy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,a.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new _n(jt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,a.Z)(function*(p,v){const A=Mn(p),G=rd(A.M)+"/documents",ae={documents:v.map(cn=>Ql(A.M,cn))},et=yield A.co("BatchGetDocuments",G,ae),pt=new Map;et.forEach(cn=>{const Cn=function Ep(i,e){return"found"in e?function(n,o){Ir(!!o.found);const l=$o(n,o.found.name),p=ts(o.found.updateTime),v=new Qi({mapValue:{fields:o.found.fields}});return pi.newFoundDocument(l,p,v)}(i,e):"missing"in e?function(n,o){Ir(!!o.missing),Ir(!!o.readTime);const l=$o(n,o.missing),p=ts(o.readTime);return pi.newNoDocument(l,p)}(i,e):pr()}(A.M,cn);pt.set(Cn.key.toString(),Cn)});const Vt=[];return v.forEach(cn=>{const Cn=pt.get(cn.toString());Ir(!!Cn),Vt.push(Cn)}),Vt}),function(p,v){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new al(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const p=In.fromPath(l);e.mutations.push(new Qc(p,e.precondition(p)))}),yield(o=(0,a.Z)(function*(l,p){const v=Mn(l),A=rd(v.M)+"/documents",G={writes:p.map(ae=>qi(v.M,ae))};yield v.ro("Commit",A,G)}),function(l,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw pr();n=Ze.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new _n(jt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Ri.updateTime(n):Ri.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ze.min()))throw new _n(jt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(n)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dy{constructor(e,n,o,l){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=l,this.va=5,this.So=new ef(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,a.Z)(function*(){const n=new cy(e.datastore),o=e.Da(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.Ca(p)}))}).catch(l=>{e.Ca(l)})}))}Da(e){try{const n=this.updateFunction(e);return!Ts(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!m(n)}return!1}}class kf{constructor(e,n,o,l){var p=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=ci.UNAUTHENTICATED,this.clientId=E.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,a.Z)(function*(A){Dn("FirestoreClient","Received user=",A.uid),yield p.authCredentialListener(A),p.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Dn("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,a.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _n(jt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Dl(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function _o(i,e){return $u.apply(this,arguments)}function $u(){return $u=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Dn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,a.Z)(function*(p){o.isEqual(p)||(yield zh(e.localStore,p),o=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),$u.apply(this,arguments)}function fs(i,e){return pa.apply(this,arguments)}function pa(){return pa=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Rl(i);Dn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>pc(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,p)=>pc(e.remoteStore,p)),i.onlineComponents=e}),pa.apply(this,arguments)}function Rl(i){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,a.Z)(function*(i){return i.offlineComponents||(Dn("FirestoreClient","Using default OfflineComponentProvider"),yield _o(i,new Ig)),i.offlineComponents}),Ps.apply(this,arguments)}function Ol(i){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,a.Z)(function*(i){return i.onlineComponents||(Dn("FirestoreClient","Using default OnlineComponentProvider"),yield fs(i,new Ml)),i.onlineComponents}),Qa.apply(this,arguments)}function Vu(i){return Rl(i).then(e=>e.persistence)}function eu(i){return Rl(i).then(e=>e.localStore)}function Uu(i){return Ol(i).then(e=>e.remoteStore)}function tu(i){return Ol(i).then(e=>e.syncEngine)}function Eo(i){return nu.apply(this,arguments)}function nu(){return nu=(0,a.Z)(function*(i){const e=yield Ol(i),n=e.eventManager;return n.onListen=wf.bind(null,e.syncEngine),n.onUnlisten=Al.bind(null,e.syncEngine),n}),nu.apply(this,arguments)}function Ff(i,e,n={}){const o=new Ci;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(l,p,v,A,G){const ae=new Gd({next:pt=>{p.enqueueAndForget(()=>Od(l,et));const Vt=pt.docs.has(v);!Vt&&pt.fromCache?G.reject(new _n(jt.UNAVAILABLE,"Failed to get document because the client is offline.")):Vt&&pt.fromCache&&A&&"server"===A.source?G.reject(new _n(jt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(pt)},error:pt=>G.reject(pt)}),et=new lg(Ms(v.path),ae,{includeMetadataChanges:!0,Du:!0});return Md(l,et)}(yield Eo(i),i.asyncQueue,e,n,o)})),o.promise}function Lf(i,e,n={}){const o=new Ci;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(l,p,v,A,G){const ae=new Gd({next:pt=>{p.enqueueAndForget(()=>Od(l,et)),pt.fromCache&&"server"===A.source?G.reject(new _n(jt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(pt)},error:pt=>G.reject(pt)}),et=new lg(v,ae,{includeMetadataChanges:!0,Du:!0});return Md(l,et)}(yield Eo(i),i.asyncQueue,e,n,o)})),o.promise}const Bf=new Map;function $f(i,e,n){if(!n)throw new _n(jt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Vf(i,e,n,o){if(!0===e&&!0===o)throw new _n(jt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rg(i){if(!In.isDocumentKey(i))throw new _n(jt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Uf(i){if(In.isDocumentKey(i))throw new _n(jt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":pr()}function Yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _n(jt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bc(i);throw new _n(jt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Og(i,e){if(e<=0)throw new _n(jt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class jf{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n(jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Vf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jf({}),this._settingsFrozen=!1,e instanceof Us?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new _n(jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(l.options.projectId)}(e))}get app(){if(!this._app)throw new _n(jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jf(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Hl;switch(n.type){case"gapi":const o=n.client;return Ir(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new pu(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new _n(jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Bf.get(e);n&&(Dn("ComponentProvider","Removing Datastore"),Bf.delete(e),n.terminate())}(this),Promise.resolve()}}function Pg(i,e,n,o={}){var l;const p=(i=Yr(i,wc))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&ds("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let v,A;if("string"==typeof o.mockUserToken)v=o.mockUserToken,A=ci.MOCK_USER;else{v=(0,he.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new _n(jt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ci(G)}i._authCredentials=new xo(new $s(v,A))}}class $i{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}}class vs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class ga extends vs{constructor(e,n,o){super(e,n,Ms(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new In(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function hy(i,e,...n){if(i=(0,he.m9)(i),$f("collection","path",e),i instanceof wc){const o=gr.fromString(e,...n);return Uf(o),new ga(i,null,o)}{if(!(i instanceof $i||i instanceof ga))throw new _n(jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(gr.fromString(e,...n));return Uf(o),new ga(i.firestore,null,o)}}function Hf(i,e){if(i=Yr(i,wc),$f("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _n(jt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(i,null,(n=e,new Gs(gr.emptyPath(),n)));var n}function zd(i,e,...n){if(i=(0,he.m9)(i),1===arguments.length&&(e=E.R()),$f("doc","path",e),i instanceof wc){const o=gr.fromString(e,...n);return Rg(o),new $i(i,null,new In(o))}{if(!(i instanceof $i||i instanceof ga))throw new _n(jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(gr.fromString(e,...n));return Rg(o),new $i(i.firestore,i instanceof ga?i.converter:null,new In(o))}}function fy(i,e){return i=(0,he.m9)(i),e=(0,he.m9)(e),(i instanceof $i||i instanceof ga)&&(e instanceof $i||e instanceof ga)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function py(i,e){return i=(0,he.m9)(i),e=(0,he.m9)(e),i instanceof vs&&e instanceof vs&&i.firestore===e.firestore&&Na(i._query,e._query)&&i.converter===e.converter}class zv{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new ef(this,"async_queue_retry"),this.Ua=()=>{const n=dc();n&&Dn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=dc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const n=dc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const n=new Ci;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,a.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(n){if(!Ba(n))throw n;Dn("AsyncQueue","Operation failed with retryable error: "+n)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const n=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,Li("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=n,n}enqueueAfterDelay(e,n,o){this.qa(),this.La.indexOf(e)>-1&&(n=0);const l=mf.createAndSchedule(this,e,n,o,p=>this.Qa(p));return this.Oa.push(l),l}qa(){this.Fa&&pr()}verifyOperationInProgress(){}ja(){var e=this;return(0,a.Z)(function*(){let n;do{n=e.Na,yield n}while(n!==e.Na)})()}Wa(e){for(const n of this.Oa)if(n.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Oa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const n=this.Oa.indexOf(e);this.Oa.splice(n,1)}}function Ng(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class gy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const kg=-1;class Oi extends wc{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new zv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Gf(this),this._firestoreClient.terminate()}}function kl(i=(0,P.getApp)()){return(0,P._getProvider)(i,"firestore").getImmediate()}function Yi(i){return i._firestoreClient||Gf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gf(i){var e;const n=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Bc(i._databaseId,p,i._persistenceKey,(A=n).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var p,A;i._firestoreClient=new kf(i._authCredentials,i._appCheckCredentials,i._queue,o)}function my(i,e){zf(i=Yr(i,Oi));const n=Yi(i),o=i._freezeSettings(),l=new Ml;return Ic(n,l,new Cg(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Fg(i){zf(i=Yr(i,Oi));const e=Yi(i),n=i._freezeSettings(),o=new Ml;return Ic(e,o,new ly(o,n.cacheSizeBytes))}function Ic(i,e,n){const o=new Ci;return i.asyncQueue.enqueue((0,a.Z)(function*(){try{yield _o(i,n),yield fs(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(p=l).name?p.code===jt.FAILED_PRECONDITION||p.code===jt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var p})).then(()=>o.promise)}function yy(i){if(i._initialized&&!i._terminated)throw new _n(jt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ci;return i._queue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{yield(n=(0,a.Z)(function*(o){if(!eo.vt())return Promise.resolve();const l=o+"main";yield eo.delete(l)}),function(o){return n.apply(this,arguments)})(ac(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Lg(i){return function(e){const n=new Ci;return e.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function gg(i,e){return Bd.apply(this,arguments)}(yield tu(e),n)})),n.promise}(Yi(i=Yr(i,Oi)))}function vy(i){return function Pl(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield Vu(i),n=yield Uu(i);return e.setNetworkEnabled(!0),function(o){const l=Mn(o);return l.lu.delete(0),hc(l)}(n)}))}(Yi(i=Yr(i,Oi)))}function _y(i){return function Nl(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield Vu(i),n=yield Uu(i);return e.setNetworkEnabled(!1),(o=(0,a.Z)(function*(l){const p=Mn(l);p.lu.add(0),yield us(p),p._u.set("Offline")}),function(l){return o.apply(this,arguments)})(n);var o}))}(Yi(i=Yr(i,Oi)))}function Ey(i,e){const n=Yi(i=Yr(i,Oi)),o=new gy;return function xg(i,e,n,o){const l=function(p,v){let A;return A="string"==typeof p?(new TextEncoder).encode(p):p,G=function(G,ae){if(G instanceof Uint8Array)return Bu(G,void 0);if(G instanceof ArrayBuffer)return Bu(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Ec(G,v);var G}(n,Za(e));i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){!function uy(i,e,n){const o=Mn(i);var l;(l=(0,a.Z)(function*(p,v,A){try{const G=yield v.getMetadata();if(yield function(Vt,cn){const Cn=Mn(Vt),vr=ts(cn.createTime);return Cn.persistence.runTransaction("hasNewerBundle","readonly",$r=>Cn.ds.getBundleMetadata($r,cn.id)).then($r=>!!$r&&$r.createTime.compareTo(vr)>=0)}(p.localStore,G))return yield v.close(),A._completeWith({taskState:"Success",documentsLoaded:(Vt=G).totalDocuments,bytesLoaded:Vt.totalBytes,totalDocuments:Vt.totalDocuments,totalBytes:Vt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Sl(G));const ae=new Ef(G,p.localStore,v.M);let et=yield v.fa();for(;et;){const Vt=yield ae.Nu(et);Vt&&A._updateProgress(Vt),et=yield v.fa()}const pt=yield ae.complete();return yield fa(p,pt.Ou,void 0),yield function(Vt,cn){const Cn=Mn(Vt);return Cn.persistence.runTransaction("Save bundle","readwrite",vr=>Cn.ds.saveBundleMetadata(vr,cn))}(p.localStore,G),A._completeWith(pt.progress),Promise.resolve(pt.Mu)}catch(G){return ds("SyncEngine",`Loading bundle failed with ${G}`),A._failWith(G),Promise.resolve(new Set)}var Vt}),function(p,v,A){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield tu(i),l,o)}))}(n,i._databaseId,e,o),o}function by(i,e){return function Mg(i,e){return i.asyncQueue.enqueue((0,a.Z)(function*(){return function(n,o){const l=Mn(n);return l.persistence.runTransaction("Get named query","readonly",p=>l.ds.getNamedQuery(p,o))}(yield eu(i),e)}))}(Yi(i=Yr(i,Oi)),e).then(n=>n?new vs(i,null,n.query):null)}function zf(i){if(i._initialized||i._terminated)throw new _n(jt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new _n(jt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(bi.fromBase64String(e))}catch(n){throw new _n(jt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ya{constructor(e){this._methodName=e}}class Wf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _n(jt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _n(jt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return O(this._lat,e._lat)||O(this._long,e._long)}}const qf=/^__.*__$/;class Iy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ms(e,this.data,n,this.fieldTransforms)}}class Cy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fl(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}class Cc{constructor(e,n,o,l,p,v){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=l,void 0===p&&this.Ja(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new Cc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Xa({path:o,tc:!1});return l.ec(e),l}nc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Xa({path:o,tc:!1});return l.Ja(),l}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return Mc(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Fl(this.Ya)&&qf.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Kf{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Za(e)}uc(e,n,o,l=!1){return new Cc({Ya:e,methodName:n,oc:o,path:Gr.emptyPath(),tc:!1,rc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function va(i){const e=i._freezeSettings(),n=Za(i._databaseId);return new Kf(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wd(i,e,n,o,l,p={}){const v=i.uc(p.merge||p.mergeFields?2:0,e,n,l);Ac("Data must be an object, but it was:",v,o);const A=Zf(o,v);let G,ae;if(p.merge)G=new gs(v.fieldMask),ae=v.fieldTransforms;else if(p.mergeFields){const et=[];for(const pt of p.mergeFields){const Vt=Kd(e,pt,n);if(!v.contains(Vt))throw new _n(jt.INVALID_ARGUMENT,`Field '${Vt}' is specified in your field mask but missing from your input data.`);Yd(et,Vt)||et.push(Vt)}G=new gs(et),ae=v.fieldTransforms.filter(pt=>G.covers(pt.field))}else G=null,ae=v.fieldTransforms;return new Iy(new Qi(A),G,ae)}class iu extends ya{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iu}}function Dc(i,e,n){return new Cc({Ya:3,oc:e.settings.oc,methodName:i._methodName,tc:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Tc extends ya{_toFieldTransform(e){return new fo(e.path,new Fa)}isEqual(e){return e instanceof Tc}}class Kv extends ya{constructor(e,n){super(e),this.ac=n}_toFieldTransform(e){const n=Dc(this,e,!0),o=this.ac.map(p=>_a(p,n)),l=new sa(o);return new fo(e.path,l)}isEqual(e){return this===e}}class Dy extends ya{constructor(e,n){super(e),this.ac=n}_toFieldTransform(e){const n=Dc(this,e,!0),o=this.ac.map(p=>_a(p,n)),l=new ho(o);return new fo(e.path,l)}isEqual(e){return this===e}}class qd extends ya{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=new La(e.M,dh(e.M,this.cc));return new fo(e.path,n)}isEqual(e){return this===e}}function Ll(i,e,n,o){const l=i.uc(1,e,n);Ac("Data must be an object, but it was:",l,o);const p=[],v=Qi.empty();er(o,(G,ae)=>{const et=xc(e,G,n);ae=(0,he.m9)(ae);const pt=l.nc(et);if(ae instanceof iu)p.push(et);else{const Vt=_a(ae,pt);null!=Vt&&(p.push(et),v.set(et,Vt))}});const A=new gs(p);return new Cy(v,A,l.fieldTransforms)}function Sc(i,e,n,o,l,p){const v=i.uc(1,e,n),A=[Kd(e,o,n)],G=[l];if(p.length%2!=0)throw new _n(jt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Vt=0;Vt<p.length;Vt+=2)A.push(Kd(e,p[Vt])),G.push(p[Vt+1]);const ae=[],et=Qi.empty();for(let Vt=A.length-1;Vt>=0;--Vt)if(!Yd(ae,A[Vt])){const cn=A[Vt];let Cn=G[Vt];Cn=(0,he.m9)(Cn);const vr=v.nc(cn);if(Cn instanceof iu)ae.push(cn);else{const $r=_a(Cn,vr);null!=$r&&(ae.push(cn),et.set(cn,$r))}}const pt=new gs(ae);return new Cy(et,pt,v.fieldTransforms)}function Yf(i,e,n,o=!1){return _a(n,i.uc(o?4:3,e))}function _a(i,e){if(Xf(i=(0,he.m9)(i)))return Ac("Unsupported field value:",e,i),Zf(i,e);if(i instanceof ya)return function(n,o){if(!Fl(o.Ya))throw o.ic(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(n,o){const l=[];let p=0;for(const v of n){let A=_a(v,o.sc(p));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),p++}return{arrayValue:{values:l}}}(i,e)}return function(n,o){if(null===(n=(0,he.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return dh(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=qe.fromDate(n);return{timestampValue:Jl(o.M,l)}}if(n instanceof qe){const l=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jl(o.M,l)}}if(n instanceof Wf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ma)return{bytesValue:vp(o.M,n._byteString)};if(n instanceof $i){const l=o.databaseId,p=n.firestore._databaseId;if(!p.isEqual(l))throw o.ic(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_h(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ic(`Unsupported field value: ${bc(n)}`)}(i,e)}function Zf(i,e){const n={};return Vr(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):er(i,(o,l)=>{const p=_a(l,e.Za(o));null!=p&&(n[o]=p)}),{mapValue:{fields:n}}}function Xf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof qe||i instanceof Wf||i instanceof ma||i instanceof $i||i instanceof ya)}function Ac(i,e,n){if(!Xf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=bc(n);throw e.ic("an object"===o?i+" a custom object":i+" "+o)}var o}function Kd(i,e,n){if((e=(0,he.m9)(e))instanceof ru)return e._internalPath;if("string"==typeof e)return xc(i,e);throw Mc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ty=new RegExp("[~\\*/\\[\\]]");function xc(i,e,n){if(e.search(Ty)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ru(...e.split("."))._internalPath}catch(o){throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mc(i,e,n,o,l){const p=o&&!o.isEmpty(),v=void 0!==l;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let G="";return(p||v)&&(G+=" (found",p&&(G+=` in field ${o}`),v&&(G+=` in document ${l}`),G+=")"),new _n(jt.INVALID_ARGUMENT,A+i+G)}function Yd(i,e){return i.some(n=>n.isEqual(e))}class Bl{constructor(e,n,o,l,p){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Sy extends Bl{data(){return super.data()}}function Rc(i,e){return"string"==typeof e?xc(i,e):e instanceof ru?e._internalPath:e._delegate._internalPath}class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends Bl{constructor(e,n,o,l,p,v){super(e,n,o,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Rc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class ju extends ou{data(e={}){return super.data(e)}}class au{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new su(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new ju(this._firestore,this._userDataWriter,o.key,o,new su(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _n(jt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new ju(o._firestore,o._userDataWriter,v.doc.key,v.doc,new su(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const A=new ju(o._firestore,o._userDataWriter,v.doc.key,v.doc,new su(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,ae=-1;return 0!==v.type&&(G=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),ae=p.indexOf(v.doc.key)),{type:Bg(v.type),doc:A,oldIndex:G,newIndex:ae}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function $g(i,e){return i instanceof ou&&e instanceof ou?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof au&&e instanceof au&&i._firestore===e._firestore&&py(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Jf(i){if(_u(i)&&0===i.explicitOrderBy.length)throw new _n(jt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $l{}function Vg(i,...e){for(const n of e)i=n._apply(i);return i}class Ug extends $l{constructor(e,n,o){super(),this.hc=e,this.lc=n,this.fc=o,this.type="where"}_apply(e){const n=va(e.firestore),o=function(l,p,v,A,G,ae,et){let pt;if(G.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new _n(jt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){Hu(et,ae);const cn=[];for(const Cn of et)cn.push(ep(A,l,Cn));pt={arrayValue:{values:cn}}}else pt=ep(A,l,et)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Hu(et,ae),pt=Yf(v,"where",et,"in"===ae||"not-in"===ae);const Vt=es.create(G,ae,pt);return function(cn,Cn){if(Cn.S()){const $r=ra(cn);if(null!==$r&&!$r.isEqual(Cn.field))throw new _n(jt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$r.toString()}' and '${Cn.field.toString()}'`);const Vi=il(cn);null!==Vi&&Kg(0,Cn.field,Vi)}const vr=function($r,Vi){for(const jr of $r.filters)if(Vi.indexOf(jr.op)>=0)return jr.op;return null}(cn,function($r){switch($r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Cn.op));if(null!==vr)throw new _n(jt.INVALID_ARGUMENT,vr===Cn.op?`Invalid query. You cannot use more than one '${Cn.op.toString()}' filter.`:`Invalid query. You cannot use '${Cn.op.toString()}' filters with '${vr.toString()}' filters.`)}(l,Vt),Vt}(e._query,0,n,e.firestore._databaseId,this.hc,this.lc,this.fc);return new vs(e.firestore,e.converter,function(l,p){const v=l.filters.concat([p]);return new Gs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function jg(i,e,n){const o=e,l=Rc("where",i);return new Ug(l,o,n)}class Yv extends $l{constructor(e,n){super(),this.hc=e,this.dc=n,this.type="orderBy"}_apply(e){const n=function(o,l,p){if(null!==o.startAt)throw new _n(jt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new _n(jt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new lo(l,p);return function(A,G){if(null===il(A)){const ae=ra(A);null!==ae&&Kg(0,ae,G.field)}}(o,v),v}(e._query,this.hc,this.dc);return new vs(e.firestore,e.converter,function(o,l){const p=o.explicitOrderBy.concat([l]);return new Gs(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Ay(i,e="asc"){const n=e,o=Rc("orderBy",i);return new Yv(o,n)}class Hg extends $l{constructor(e,n,o){super(),this.type=e,this._c=n,this.wc=o}_apply(e){return new vs(e.firestore,e.converter,zc(e._query,this._c,this.wc))}}function Gg(i){return Og("limit",i),new Hg("limit",i,"F")}function xy(i){return Og("limitToLast",i),new Hg("limitToLast",i,"L")}class Zi extends $l{constructor(e,n,o){super(),this.type=e,this.mc=n,this.gc=o}_apply(e){const n=Qf(e,this.type,this.mc,this.gc);return new vs(e.firestore,e.converter,(l=n,new Gs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function zg(...i){return new Zi("startAt",i,!0)}function My(...i){return new Zi("startAfter",i,!1)}class Wg extends $l{constructor(e,n,o){super(),this.type=e,this.mc=n,this.gc=o}_apply(e){const n=Qf(e,this.type,this.mc,this.gc);return new vs(e.firestore,e.converter,(l=n,new Gs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function qg(...i){return new Wg("endBefore",i,!1)}function Ry(...i){return new Wg("endAt",i,!0)}function Qf(i,e,n,o){if(n[0]=(0,he.m9)(n[0]),n[0]instanceof Bl)return function(l,p,v,A,G){if(!A)throw new _n(jt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const ae=[];for(const et of Fo(l))if(et.field.isKeyField())ae.push(fi(p,A.key));else{const pt=A.data.field(et.field);if(Oo(pt))throw new _n(jt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pt){const Vt=et.field.canonicalString();throw new _n(jt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Vt}' (used as the orderBy) does not exist.`)}ae.push(pt)}return new xs(ae,G)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=va(i.firestore);return function(p,v,A,G,ae,et){const pt=p.explicitOrderBy;if(ae.length>pt.length)throw new _n(jt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Vt=[];for(let cn=0;cn<ae.length;cn++){const Cn=ae[cn];if(pt[cn].field.isKeyField()){if("string"!=typeof Cn)throw new _n(jt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Cn}`);if(!ia(p)&&-1!==Cn.indexOf("/"))throw new _n(jt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Cn}' contains a slash.`);const vr=p.path.child(gr.fromString(Cn));if(!In.isDocumentKey(vr))throw new _n(jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${vr}' is not because it contains an odd number of segments.`);const $r=new In(vr);Vt.push(fi(v,$r))}else{const vr=Yf(A,G,Cn);Vt.push(vr)}}return new xs(Vt,et)}(i._query,i.firestore._databaseId,l,e,n,o)}}function ep(i,e,n){if("string"==typeof(n=(0,he.m9)(n))){if(""===n)throw new _n(jt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ia(e)&&-1!==n.indexOf("/"))throw new _n(jt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(gr.fromString(n));if(!In.isDocumentKey(o))throw new _n(jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return fi(i,new In(o))}if(n instanceof $i)return fi(i,n._key);throw new _n(jt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(n)}.`)}function Hu(i,e){if(!Array.isArray(i)||0===i.length)throw new _n(jt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new _n(jt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Kg(i,e,n){if(!n.isEqual(e))throw new _n(jt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class tp{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pr()}}convertObject(e,n){const o={};return er(e.fields,(l,p)=>{o[l]=this.convertValue(p,n)}),o}convertGeoPoint(e){return new Wf(di(e.latitude),di(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Qo(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ds(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=gr.fromString(e);Ir(sd(o));const l=new Us(o.get(1),o.get(3)),p=new In(o.popFirst(5));return l.isEqual(n)||Li(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),p}}function Oc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Oy extends tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,n)}}class np{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=va(e)}set(e,n,o){this._verifyNotCommitted();const l=Gu(e,this._firestore),p=Oc(l.converter,n,o),v=Wd(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,o);return this._mutations.push(v.toMutation(l._key,Ri.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const p=Gu(e,this._firestore);let v;return v="string"==typeof(n=(0,he.m9)(n))||n instanceof ru?Sc(this._dataReader,"WriteBatch.update",p._key,n,o,l):Ll(this._dataReader,"WriteBatch.update",p._key,n),this._mutations.push(v.toMutation(p._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gu(e,this._firestore);return this._mutations=this._mutations.concat(new al(n._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n(jt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gu(i,e){if((i=(0,he.m9)(i)).firestore!==e)throw new _n(jt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Yg(i){i=Yr(i,$i);const e=Yr(i.firestore,Oi);return Ff(Yi(e),i._key).then(n=>Pc(e,i,n))}class Ea extends tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,n)}}function bo(i){i=Yr(i,$i);const e=Yr(i.firestore,Oi),n=Yi(e),o=new Ea(e);return function Dg(i,e){const n=new Ci;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(o=(0,a.Z)(function*(l,p,v){try{const A=yield function(G,ae){const et=Mn(G);return et.persistence.runTransaction("read document","readonly",pt=>et.ai.Bs(pt,ae))}(l,p);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new _n(jt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const G=Dl(A,`Failed to get document '${p} from cache`);v.reject(G)}}),function(l,p,v){return o.apply(this,arguments)})(yield eu(i),e,n);var o})),n.promise}(n,i._key).then(l=>new ou(e,o,i._key,l,new su(null!==l&&l.hasLocalMutations,!0),i.converter))}function Py(i){i=Yr(i,$i);const e=Yr(i.firestore,Oi);return Ff(Yi(e),i._key,{source:"server"}).then(n=>Pc(e,i,n))}function Zg(i){i=Yr(i,vs);const e=Yr(i.firestore,Oi),n=Yi(e),o=new Ea(e);return Jf(i._query),Lf(n,i._query).then(l=>new au(e,o,i,l))}function Wo(i){i=Yr(i,vs);const e=Yr(i.firestore,Oi),n=Yi(e),o=new Ea(e);return function Tg(i,e){const n=new Ci;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(o=(0,a.Z)(function*(l,p,v){try{const A=yield qh(l,p,!0),G=new bf(p,A.hi),ae=G.Gu(A.documents),et=G.applyChanges(ae,!1);v.resolve(et.snapshot)}catch(A){const G=Dl(A,`Failed to execute query '${p} against cache`);v.reject(G)}}),function(l,p,v){return o.apply(this,arguments)})(yield eu(i),e,n);var o})),n.promise}(n,i._query).then(l=>new au(e,o,i,l))}function wo(i){i=Yr(i,vs);const e=Yr(i.firestore,Oi),n=Yi(e),o=new Ea(e);return Lf(n,i._query,{source:"server"}).then(l=>new au(e,o,i,l))}function Io(i,e,n){i=Yr(i,$i);const o=Yr(i.firestore,Oi),l=Oc(i.converter,e,n);return Vl(o,[Wd(va(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Ri.none())])}function Xg(i,e,n,...o){i=Yr(i,$i);const l=Yr(i.firestore,Oi),p=va(l);let v;return v="string"==typeof(e=(0,he.m9)(e))||e instanceof ru?Sc(p,"updateDoc",i._key,e,n,o):Ll(p,"updateDoc",i._key,e),Vl(l,[v.toMutation(i._key,Ri.exists(!0))])}function Jg(i){return Vl(Yr(i.firestore,Oi),[new al(i._key,Ri.none())])}function Ny(i,e){const n=Yr(i.firestore,Oi),o=zd(i),l=Oc(i.converter,e);return Vl(n,[Wd(va(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Ri.exists(!1))]).then(()=>o)}function ky(i,...e){var n,o,l;i=(0,he.m9)(i);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Ng(e[v])||(p=e[v],v++);const A={includeMetadataChanges:p.includeMetadataChanges};if(Ng(e[v])){const pt=e[v];e[v]=null===(n=pt.next)||void 0===n?void 0:n.bind(pt),e[v+1]=null===(o=pt.error)||void 0===o?void 0:o.bind(pt),e[v+2]=null===(l=pt.complete)||void 0===l?void 0:l.bind(pt)}let G,ae,et;if(i instanceof $i)ae=Yr(i.firestore,Oi),et=Ms(i._key.path),G={next:pt=>{e[v]&&e[v](Pc(ae,i,pt))},error:e[v+1],complete:e[v+2]};else{const pt=Yr(i,vs);ae=Yr(pt.firestore,Oi),et=pt._query;const Vt=new Ea(ae);G={next:cn=>{e[v]&&e[v](new au(ae,Vt,pt,cn))},error:e[v+1],complete:e[v+2]},Jf(i._query)}return function(pt,Vt,cn,Cn){const vr=new Gd(Cn),$r=new lg(Vt,vr,cn);return pt.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return Md(yield Eo(pt),$r)})),()=>{vr.pa(),pt.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return Od(yield Eo(pt),$r)}))}}(Yi(ae),et,A,G)}function Fy(i,e){return function Sg(i,e){const n=new Gd(e);return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return o=yield Eo(i),l=n,Mn(o).Tu.add(l),void l.next();var o,l})),()=>{n.pa(),i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return o=yield Eo(i),l=n,void Mn(o).Tu.delete(l);var o,l}))}}(Yi(i=Yr(i,Oi)),Ng(e)?e:{next:e})}function Vl(i,e){return function(n,o){const l=new Ci;return n.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function iy(i,e,n){return Df.apply(this,arguments)}(yield tu(n),o,l)})),l.promise}(Yi(i),e)}function Pc(i,e,n){const o=n.docs.get(e._key),l=new Ea(i);return new ou(i,l,e._key,o,new su(n.hasPendingWrites,n.fromCache),e.converter)}class Nc extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=va(e)}get(e){const n=Gu(e,this._firestore),o=new Oy(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return pr();const p=l[0];if(p.isFoundDocument())return new Bl(this._firestore,o,p.key,p,n.converter);if(p.isNoDocument())return new Bl(this._firestore,o,n._key,null,n.converter);throw pr()})}set(e,n,o){const l=Gu(e,this._firestore),p=Oc(l.converter,n,o),v=Wd(this._dataReader,"Transaction.set",l._key,p,null!==l.converter,o);return this._transaction.set(l._key,v),this}update(e,n,o,...l){const p=Gu(e,this._firestore);let v;return v="string"==typeof(n=(0,he.m9)(n))||n instanceof ru?Sc(this._dataReader,"Transaction.update",p._key,n,o,l):Ll(this._dataReader,"Transaction.update",p._key,n),this._transaction.update(p._key,v),this}delete(e){const n=Gu(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gu(e,this._firestore),o=new Ea(this._firestore);return super.get(e).then(l=>new ou(this._firestore,o,n._key,l._document,new su(!1,!1),n.converter))}}function Ly(i,e){return function Ag(i,e){const n=new Ci;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){const o=yield(l=i,Ol(l).then(p=>p.datastore));var l;new dy(i.asyncQueue,o,e,n).run()})),n.promise}(Yi(i=Yr(i,Oi)),n=>e(new Nc(i,n)))}function Qg(){return new iu("deleteField")}function By(){return new Tc("serverTimestamp")}function em(...i){return new Kv("arrayUnion",i)}function tm(...i){return new Dy("arrayRemove",i)}function Zd(i){return new qd("increment",i)}!function(i,e=!0){bs=P.SDK_VERSION,(0,P._registerComponent)(new L.wA("firestore",(n,{options:o})=>{const l=n.getProvider("app").getImmediate(),p=new Oi(l,new Mo(n.getProvider("auth-internal")),new Ro(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),p._setSettings(o),p},"PUBLIC")),(0,P.registerVersion)(Yo,"3.4.7",i),(0,P.registerVersion)(Yo,"3.4.7","esm2017")}()},2090:(un,ut,D)=>{"use strict";D.d(ut,{BH:()=>Ae,LL:()=>Ut,ZR:()=>je,zI:()=>Le,US:()=>se,tV:()=>W,L:()=>ee,$s:()=>mr,r3:()=>Xe,Sg:()=>le,ne:()=>or,vZ:()=>Jt,ZB:()=>we,Lj:()=>Kn,pd:()=>Jn,m9:()=>Nn,z$:()=>J,jU:()=>_e,ru:()=>Ie,d:()=>Ne,xb:()=>an,w1:()=>nt,hl:()=>Ue,uI:()=>xe,UG:()=>be,b$:()=>ke,G6:()=>ht,Mn:()=>xt,X3:()=>Tn,xO:()=>nr,zd:()=>lr,eu:()=>Fe});var a=D(5861);const he=function(Ke){const Be=[];let Qe=0;for(let vt=0;vt<Ke.length;vt++){let ye=Ke.charCodeAt(vt);ye<128?Be[Qe++]=ye:ye<2048?(Be[Qe++]=ye>>6|192,Be[Qe++]=63&ye|128):55296==(64512&ye)&&vt+1<Ke.length&&56320==(64512&Ke.charCodeAt(vt+1))?(ye=65536+((1023&ye)<<10)+(1023&Ke.charCodeAt(++vt)),Be[Qe++]=ye>>18|240,Be[Qe++]=ye>>12&63|128,Be[Qe++]=ye>>6&63|128,Be[Qe++]=63&ye|128):(Be[Qe++]=ye>>12|224,Be[Qe++]=ye>>6&63|128,Be[Qe++]=63&ye|128)}return Be},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ke,Be){if(!Array.isArray(Ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Qe=Be?this.byteToCharMapWebSafe_:this.byteToCharMap_,vt=[];for(let ye=0;ye<Ke.length;ye+=3){const Me=Ke[ye],Te=ye+1<Ke.length,wt=Te?Ke[ye+1]:0,Qt=ye+2<Ke.length,vn=Qt?Ke[ye+2]:0;let zn=(15&wt)<<2|vn>>6,ir=63&vn;Qt||(ir=64,Te||(zn=64)),vt.push(Qe[Me>>2],Qe[(3&Me)<<4|wt>>4],Qe[zn],Qe[ir])}return vt.join("")},encodeString(Ke,Be){return this.HAS_NATIVE_SUPPORT&&!Be?btoa(Ke):this.encodeByteArray(he(Ke),Be)},decodeString(Ke,Be){return this.HAS_NATIVE_SUPPORT&&!Be?atob(Ke):function(Ke){const Be=[];let Qe=0,vt=0;for(;Qe<Ke.length;){const ye=Ke[Qe++];if(ye<128)Be[vt++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const Me=Ke[Qe++];Be[vt++]=String.fromCharCode((31&ye)<<6|63&Me)}else if(ye>239&&ye<365){const Qt=((7&ye)<<18|(63&Ke[Qe++])<<12|(63&Ke[Qe++])<<6|63&Ke[Qe++])-65536;Be[vt++]=String.fromCharCode(55296+(Qt>>10)),Be[vt++]=String.fromCharCode(56320+(1023&Qt))}else{const Me=Ke[Qe++],Te=Ke[Qe++];Be[vt++]=String.fromCharCode((15&ye)<<12|(63&Me)<<6|63&Te)}}return Be.join("")}(this.decodeStringToByteArray(Ke,Be))},decodeStringToByteArray(Ke,Be){this.init_();const Qe=Be?this.charToByteMapWebSafe_:this.charToByteMap_,vt=[];for(let ye=0;ye<Ke.length;){const Me=Qe[Ke.charAt(ye++)],wt=ye<Ke.length?Qe[Ke.charAt(ye)]:0;++ye;const vn=ye<Ke.length?Qe[Ke.charAt(ye)]:64;++ye;const gn=ye<Ke.length?Qe[Ke.charAt(ye)]:64;if(++ye,null==Me||null==wt||null==vn||null==gn)throw Error();vt.push(Me<<2|wt>>4),64!==vn&&(vt.push(wt<<4&240|vn>>2),64!==gn&&vt.push(vn<<6&192|gn))}return vt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ke=0;Ke<this.ENCODED_VALS.length;Ke++)this.byteToCharMap_[Ke]=this.ENCODED_VALS.charAt(Ke),this.charToByteMap_[this.byteToCharMap_[Ke]]=Ke,this.byteToCharMapWebSafe_[Ke]=this.ENCODED_VALS_WEBSAFE.charAt(Ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ke]]=Ke,Ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ke)]=Ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ke)]=Ke)}}},ee=function(Ke){return function(Ke){const Be=he(Ke);return se.encodeByteArray(Be,!0)}(Ke).replace(/\./g,"")},W=function(Ke){try{return se.decodeString(Ke,!0)}catch(Be){console.error("base64Decode failed: ",Be)}return null};function we(Ke,Be){if(!(Be instanceof Object))return Be;switch(Be.constructor){case Date:return new Date(Be.getTime());case Object:void 0===Ke&&(Ke={});break;case Array:Ke=[];break;default:return Be}for(const Qe in Be)!Be.hasOwnProperty(Qe)||!oe(Qe)||(Ke[Qe]=we(Ke[Qe],Be[Qe]));return Ke}function oe(Ke){return"__proto__"!==Ke}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Be,Qe)=>{this.resolve=Be,this.reject=Qe})}wrapCallback(Be){return(Qe,vt)=>{Qe?this.reject(Qe):this.resolve(vt),"function"==typeof Be&&(this.promise.catch(()=>{}),1===Be.length?Be(Qe):Be(Qe,vt))}}}function le(Ke,Be){if(Ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const vt=Be||"demo-project",ye=Ke.iat||0,Me=Ke.sub||Ke.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${vt}`,aud:vt,iat:ye,exp:ye+3600,auth_time:ye,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},Ke);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Te)),""].join(".")}function J(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ke){return!1}}function _e(){return"object"==typeof self&&self.self===self}function Ie(){const Ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ke&&void 0!==Ke.id}function ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return J().indexOf("Electron/")>=0}function nt(){const Ke=J();return Ke.indexOf("MSIE ")>=0||Ke.indexOf("Trident/")>=0}function xt(){return J().indexOf("MSAppHost/")>=0}function ht(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){return"object"==typeof indexedDB}function Fe(){return new Promise((Ke,Be)=>{try{let Qe=!0;const vt="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(vt);ye.onsuccess=()=>{ye.result.close(),Qe||self.indexedDB.deleteDatabase(vt),Ke(!0)},ye.onupgradeneeded=()=>{Qe=!1},ye.onerror=()=>{var Me;Be((null===(Me=ye.error)||void 0===Me?void 0:Me.message)||"")}}catch(Qe){Be(Qe)}})}function Le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class je extends Error{constructor(Be,Qe,vt){super(Qe),this.code=Be,this.customData=vt,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(Be,Qe,vt){this.service=Be,this.serviceName=Qe,this.errors=vt}create(Be,...Qe){const vt=Qe[0]||{},ye=`${this.service}/${Be}`,Me=this.errors[Be],Te=Me?function Lt(Ke,Be){return Ke.replace(_t,(Qe,vt)=>{const ye=Be[vt];return null!=ye?String(ye):`<${vt}?>`})}(Me,vt):"Error";return new je(ye,`${this.serviceName}: ${Te} (${ye}).`,vt)}}const _t=/\{\$([^}]+)}/g;function Xe(Ke,Be){return Object.prototype.hasOwnProperty.call(Ke,Be)}function an(Ke){for(const Be in Ke)if(Object.prototype.hasOwnProperty.call(Ke,Be))return!1;return!0}function Jt(Ke,Be){if(Ke===Be)return!0;const Qe=Object.keys(Ke),vt=Object.keys(Be);for(const ye of Qe){if(!vt.includes(ye))return!1;const Me=Ke[ye],Te=Be[ye];if(En(Me)&&En(Te)){if(!Jt(Me,Te))return!1}else if(Me!==Te)return!1}for(const ye of vt)if(!Qe.includes(ye))return!1;return!0}function En(Ke){return null!==Ke&&"object"==typeof Ke}function nr(Ke){const Be=[];for(const[Qe,vt]of Object.entries(Ke))Array.isArray(vt)?vt.forEach(ye=>{Be.push(encodeURIComponent(Qe)+"="+encodeURIComponent(ye))}):Be.push(encodeURIComponent(Qe)+"="+encodeURIComponent(vt));return Be.length?"&"+Be.join("&"):""}function lr(Ke){const Be={};return Ke.replace(/^\?/,"").split("&").forEach(vt=>{if(vt){const[ye,Me]=vt.split("=");Be[decodeURIComponent(ye)]=decodeURIComponent(Me)}}),Be}function Jn(Ke){const Be=Ke.indexOf("?");if(!Be)return"";const Qe=Ke.indexOf("#",Be);return Ke.substring(Be,Qe>0?Qe:void 0)}function or(Ke,Be){const Qe=new Hn(Ke,Be);return Qe.subscribe.bind(Qe)}class Hn{constructor(Be,Qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qe,this.task.then(()=>{Be(this)}).catch(vt=>{this.error(vt)})}next(Be){this.forEachObserver(Qe=>{Qe.next(Be)})}error(Be){this.forEachObserver(Qe=>{Qe.error(Be)}),this.close(Be)}complete(){this.forEachObserver(Be=>{Be.complete()}),this.close()}subscribe(Be,Qe,vt){let ye;if(void 0===Be&&void 0===Qe&&void 0===vt)throw new Error("Missing Observer.");ye=function Zt(Ke,Be){if("object"!=typeof Ke||null===Ke)return!1;for(const Qe of Be)if(Qe in Ke&&"function"==typeof Ke[Qe])return!0;return!1}(Be,["next","error","complete"])?Be:{next:Be,error:Qe,complete:vt},void 0===ye.next&&(ye.next=cr),void 0===ye.error&&(ye.error=cr),void 0===ye.complete&&(ye.complete=cr);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch(Te){}}),this.observers.push(ye),Me}unsubscribeOne(Be){void 0===this.observers||void 0===this.observers[Be]||(delete this.observers[Be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Be){if(!this.finalized)for(let Qe=0;Qe<this.observers.length;Qe++)this.sendOne(Qe,Be)}sendOne(Be,Qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Be])try{Qe(this.observers[Be])}catch(vt){"undefined"!=typeof console&&console.error&&console.error(vt)}})}close(Be){this.finalized||(this.finalized=!0,void 0!==Be&&(this.finalError=Be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cr(){}function mr(Ke,Be=1e3,Qe=2){const vt=Be*Math.pow(Qe,Ke),ye=Math.round(.5*vt*(Math.random()-.5)*2);return Math.min(144e5,vt+ye)}function Nn(Ke){return Ke&&Ke._delegate?Ke._delegate:Ke}function ur(Ke,Be){return new Promise((Qe,vt)=>{Ke.onsuccess=ye=>{Qe(ye.target.result)},Ke.onerror=ye=>{var Me;vt(`${Be}: ${null===(Me=ye.target.error)||void 0===Me?void 0:Me.message}`)}})}class dn{constructor(Be){this._db=Be,this.objectStoreNames=this._db.objectStoreNames}transaction(Be,Qe){return new Nt(this._db.transaction.call(this._db,Be,Qe))}createObjectStore(Be,Qe){return new Dt(this._db.createObjectStore(Be,Qe))}close(){this._db.close()}}class Nt{constructor(Be){this._transaction=Be,this.complete=new Promise((Qe,vt)=>{this._transaction.oncomplete=function(){Qe()},this._transaction.onerror=()=>{vt(this._transaction.error)},this._transaction.onabort=()=>{vt(this._transaction.error)}})}objectStore(Be){return new Dt(this._transaction.objectStore(Be))}}class Dt{constructor(Be){this._store=Be}index(Be){return new fn(this._store.index(Be))}createIndex(Be,Qe,vt){return new fn(this._store.createIndex(Be,Qe,vt))}get(Be){return ur(this._store.get(Be),"Error reading from IndexedDB")}put(Be,Qe){return ur(this._store.put(Be,Qe),"Error writing to IndexedDB")}delete(Be){return ur(this._store.delete(Be),"Error deleting from IndexedDB")}clear(){return ur(this._store.clear(),"Error clearing IndexedDB object store")}}class fn{constructor(Be){this._index=Be}get(Be){return ur(this._index.get(Be),"Error reading from IndexedDB")}}function Tn(Ke,Be,Qe){return new Promise((vt,ye)=>{try{const Me=indexedDB.open(Ke,Be);Me.onsuccess=Te=>{vt(new dn(Te.target.result))},Me.onerror=Te=>{var wt;ye(`Error opening indexedDB: ${null===(wt=Te.target.error)||void 0===wt?void 0:wt.message}`)},Me.onupgradeneeded=Te=>{Qe(new dn(Me.result),Te.oldVersion,Te.newVersion,new Nt(Me.transaction))}}catch(Me){ye(`Error opening indexedDB: ${Me.message}`)}})}function Kn(Ke){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(Ke){return new Promise((Be,Qe)=>{try{const vt=indexedDB.deleteDatabase(Ke);vt.onsuccess=()=>{Be()},vt.onerror=ye=>{var Me;Qe(`Error deleting indexedDB database "${Ke}": ${null===(Me=ye.target.error)||void 0===Me?void 0:Me.message}`)}}catch(vt){Qe(`Error deleting indexedDB database "${Ke}": ${vt.message}`)}})})).apply(this,arguments)}},7110:(un,ut,D)=>{"use strict";D.d(ut,{Br:()=>Bt,w:()=>it,dr:()=>Xe,BJ:()=>Ft,oU:()=>an,cs:()=>ri,YG:()=>lr,Sm:()=>Jn,wI:()=>Mt,W2:()=>Ye,x4:()=>$e,fr:()=>Kt,jY:()=>Gn,Gu:()=>Wn,gu:()=>Qn,Xz:()=>mr,pK:()=>Nn,Ie:()=>ur,rH:()=>dn,Ub:()=>Nt,Q$:()=>Kn,q_:()=>$n,yh:()=>Ke,uN:()=>Te,jP:()=>ki,Nd:()=>Oe,VI:()=>ot,t9:()=>mn,n0:()=>ze,CK:()=>At,PQ:()=>yn,yq:()=>ct,ZU:()=>K,UN:()=>ps,yW:()=>de,g2:()=>gt,Bs:()=>Tt,wd:()=>xn,ho:()=>On,sr:()=>Sn,Pc:()=>X,r4:()=>br,HT:()=>$,IN:()=>Ve,SH:()=>Ui,as:()=>je,t4:()=>Gi,YI:()=>Wr,QI:()=>Lt,j9:()=>_t,yF:()=>Ct});var a=D(9863),P=D(4182),L=D(655),Y=D(3753),he=D(8929),fe=D(591),se=D(1143),q=D(4464),ee=D(2198),W=D(7545),re=D(5778),we=D(9808),Ae=D(2361);const J=D(8686).i,_e=["*"],Ie=["outlet"],ke=[[["","slot","top"]],"*"],Ne=["[slot=top]","*"],Ge=d=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(d):"function"==typeof requestAnimationFrame?requestAnimationFrame(d):setTimeout(d);let ht=(()=>{class d{constructor(g,C){this.injector=g,this.el=C,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(g){this.el.nativeElement.value=this.lastValue=null==g?"":g,Ue(this.el)}handleChangeEvent(g,C){g===this.el.nativeElement&&(C!==this.lastValue&&(this.lastValue=C,this.onChange(C)),Ue(this.el))}_handleBlurEvent(g){g===this.el.nativeElement&&(this.onTouched(),Ue(this.el))}registerOnChange(g){this.onChange=g}registerOnTouched(g){this.onTouched=g}setDisabledState(g){this.el.nativeElement.disabled=g}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let g;try{g=this.injector.get(P.a5)}catch(z){}if(!g)return;g.statusChanges&&(this.statusChanges=g.statusChanges.subscribe(()=>Ue(this.el)));const C=g.control;C&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(dt=>{if(void 0!==C[dt]){const nn=C[dt].bind(C);C[dt]=(...hn)=>{nn(...hn),Ue(this.el)}}})}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,hostBindings:function(g,C){1&g&&a.NdJ("ionBlur",function(dt){return C._handleBlurEvent(dt.target)})}}),d})();const Ue=d=>{Ge(()=>{const _=d.nativeElement,g=Fe(_);Le(_,g);const C=_.closest("ion-item");C&&Le(C,g)})},Fe=d=>{const _=d.classList,g=[];for(let C=0;C<_.length;C++){const z=_.item(C);null!==z&&Re(z,"ng-")&&g.push(`ion-${z.substr(3)}`)}return g},Le=(d,_)=>{const g=d.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(C=>g.remove(C)),_.forEach(C=>g.add(C))},Re=(d,_)=>d.substr(0,_.length)===_;let it=(()=>{class d extends ht{constructor(g,C){super(g,C)}writeValue(g){this.el.nativeElement.checked=this.lastValue=null!=g&&g,Ue(this.el)}_handleIonChange(g){this.handleChangeEvent(g,g.checked)}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(g,C){1&g&&a.NdJ("ionChange",function(dt){return C._handleIonChange(dt.target)})},features:[a._Bn([{provide:P.JU,useExisting:d,multi:!0}]),a.qOj]}),d})(),je=(()=>{class d extends ht{constructor(g,C){super(g,C)}_handleIonChange(g){this.handleChangeEvent(g,g.value)}registerOnChange(g){super.registerOnChange(C=>{g(""===C?null:parseFloat(C))})}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-input","type","number"]],hostBindings:function(g,C){1&g&&a.NdJ("ionChange",function(dt){return C._handleIonChange(dt.target)})},features:[a._Bn([{provide:P.JU,useExisting:d,multi:!0}]),a.qOj]}),d})(),Lt=(()=>{class d extends ht{constructor(g,C){super(g,C)}_handleChangeEvent(g){this.handleChangeEvent(g,g.value)}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(g,C){1&g&&a.NdJ("ionChange",function(dt){return C._handleChangeEvent(dt.target)})},features:[a._Bn([{provide:P.JU,useExisting:d,multi:!0}]),a.qOj]}),d})(),_t=(()=>{class d extends ht{constructor(g,C){super(g,C)}_handleInputEvent(g){this.handleChangeEvent(g,g.value)}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(g,C){1&g&&a.NdJ("ionChange",function(dt){return C._handleInputEvent(dt.target)})},features:[a._Bn([{provide:P.JU,useExisting:d,multi:!0}]),a.qOj]}),d})();const ve=(d,_)=>{const g=d.prototype;_.forEach(C=>{Object.defineProperty(g,C,{get(){return this.el[C]},set(z){this.z.runOutsideAngular(()=>this.el[C]=z)}})})},Z=(d,_)=>{const g=d.prototype;_.forEach(C=>{g[C]=function(){const z=arguments;return this.z.runOutsideAngular(()=>this.el[C].apply(this.el,z))}})},ue=(d,_,g)=>{g.forEach(C=>d[C]=(0,Y.R)(_,C))};function ce(d){return function(g){const{defineCustomElementFn:C,inputs:z,methods:dt}=d;return void 0!==C&&C(),z&&ve(g,z),dt&&Z(g,dt),g}}let Xe=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-app"]],ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0})],d),d})(),Ft=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-avatar"]],ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0})],d),d})(),an=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],d),d})(),lr=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionFocus","ionBlur"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],d),d})(),Jn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["collapse"]})],d),d})(),Mt=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],d),d})(),Ye=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],d),d})(),$e=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",hourCycle:"hourCycle",hourValues:"hourValues",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",name:"name",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",value:"value",yearValues:"yearValues"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","hourCycle","hourValues","locale","max","min","minuteValues","mode","monthValues","name","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","value","yearValues"],methods:["confirm","reset","cancel"]})],d),d})(),Kt=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],d),d})(),Gn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["fixed"]})],d),d})(),Wn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],d),d})(),Qn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],d),d})(),mr=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["alt","src"]})],d),d})(),Nn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),ur=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],d),d})(),dn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],d),d})(),Nt=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-item-group"]],ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0})],d),d})(),Kn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],d),d})(),$n=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],d),d})(),Ke=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],d),d})(),Te=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),Oe=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-row"]],ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0})],d),d})(),ot=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),mn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],d),d})(),ze=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["disabled","value"]})],d),d})(),At=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["animated"]})],d),d})(),yn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],d),d})(),ct=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],d),d})(),K=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],d),d})(),de=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),gt=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],d),d})(),Tt=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-thumbnail"]],ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0})],d),d})(),xn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","size"]})],d),d})(),On=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement,ue(this,this.el,["ionChange","ionFocus","ionBlur"])}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],d),d})(),Sn=(()=>{let d=class{constructor(g,C,z){this.z=z,g.detach(),this.el=C.nativeElement}};return d.\u0275fac=function(g){return new(g||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(g,C){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,L.gn)([ce({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})();class fr{constructor(_={}){this.data=_}get(_){return this.data[_]}}let Cr=(()=>{class d{constructor(g,C){this.zone=g,this.appRef=C}create(g,C,z){return new Br(g,C,z,this.appRef,this.zone)}}return d.\u0275fac=function(g){return new(g||d)(a.LFG(a.R0b),a.LFG(a.z2F))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})();class Br{constructor(_,g,C,z,dt){this.resolver=_,this.injector=g,this.location=C,this.appRef=z,this.zone=dt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(_,g,C,z){return this.zone.run(()=>new Promise(dt=>{dt(Rr(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,_,g,C,z))}))}removeViewFromDom(_,g){return this.zone.run(()=>new Promise(C=>{const z=this.elRefMap.get(g);if(z){z.destroy(),this.elRefMap.delete(g);const dt=this.elEventsMap.get(g);dt&&(dt(),this.elEventsMap.delete(g))}C()}))}}const Rr=(d,_,g,C,z,dt,nn,hn,Un,jn,Dr)=>{const sr=_.resolveComponentFactory(Un),kr=a.zs3.create({providers:ne(jn),parent:g}),li=C?C.createComponent(sr,C.length,kr):sr.create(kr),_i=li.instance,ei=li.location.nativeElement;if(jn&&Object.assign(_i,jn),Dr)for(const B of Dr)ei.classList.add(B);const wi=U(d,_i,ei);return hn.appendChild(ei),C||z.attachView(li.hostView),li.changeDetectorRef.reattach(),dt.set(ei,li),nn.set(ei,wi),ei},N=[q.kx,q.re,q.EQ,q.Jd,q.F8],U=(d,_,g)=>d.run(()=>{const C=N.filter(z=>"function"==typeof _[z]).map(z=>{const dt=nn=>_[z](nn.detail);return g.addEventListener(z,dt),()=>g.removeEventListener(z,dt)});return()=>C.forEach(z=>z())}),V=new a.OlP("NavParamsToken"),ne=d=>[{provide:V,useValue:d},{provide:fr,useFactory:De,deps:[V]}],De=d=>new fr(d),Et=(d,_)=>((d=d.filter(g=>g.stackId!==_.stackId)).push(_),d),$t=(d,_)=>{const g=d.createUrlTree(["."],{relativeTo:_});return d.serializeUrl(g)},Pn=(d,_)=>{if(!d)return;const g=qn(_);for(let C=0;C<g.length;C++){if(C>=d.length)return g[C];if(g[C]!==d[C])return}},qn=d=>d.split("/").map(_=>_.trim()).filter(_=>""!==_),Sr=d=>{d&&(d.ref.destroy(),d.unlistenEvents())};class ti{constructor(_,g,C,z,dt,nn){this.containerEl=g,this.router=C,this.navCtrl=z,this.zone=dt,this.location=nn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==_?qn(_):void 0}createView(_,g){var C;const z=$t(this.router,g),dt=null===(C=null==_?void 0:_.location)||void 0===C?void 0:C.nativeElement,nn=U(this.zone,_.instance,dt);return{id:this.nextId++,stackId:Pn(this.tabsPrefix,z),unlistenEvents:nn,element:dt,ref:_,url:z}}getExistingView(_){const g=$t(this.router,_),C=this.views.find(z=>z.url===g);return C&&C.ref.changeDetectorRef.reattach(),C}setActive(_){var g,C;const z=this.navCtrl.consumeTransition();let{direction:dt,animation:nn,animationBuilder:hn}=z;const Un=this.activeView,jn=((d,_)=>!_||d.stackId!==_.stackId)(_,Un);jn&&(dt="back",nn=void 0);const Dr=this.views.slice();let sr;const kr=this.router;kr.getCurrentNavigation?sr=kr.getCurrentNavigation():(null===(g=kr.navigations)||void 0===g?void 0:g.value)&&(sr=kr.navigations.value),(null===(C=null==sr?void 0:sr.extras)||void 0===C?void 0:C.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const li=this.views.includes(_),_i=this.insertView(_,dt);li||_.ref.changeDetectorRef.detectChanges();const ei=_.animationBuilder;return void 0===hn&&"back"===dt&&!jn&&void 0!==ei&&(hn=ei),Un&&(Un.animationBuilder=hn),this.zone.runOutsideAngular(()=>this.wait(()=>(Un&&Un.ref.changeDetectorRef.detach(),_.ref.changeDetectorRef.reattach(),this.transition(_,Un,nn,this.canGoBack(1),!1,hn).then(()=>Fr(_,_i,Dr,this.location,this.zone)).then(()=>({enteringView:_,direction:dt,animation:nn,tabSwitch:jn})))))}canGoBack(_,g=this.getActiveStackId()){return this.getStack(g).length>_}pop(_,g=this.getActiveStackId()){return this.zone.run(()=>{var C,z;const dt=this.getStack(g);if(dt.length<=_)return Promise.resolve(!1);const nn=dt[dt.length-_-1];let hn=nn.url;const Un=nn.savedData;if(Un){const Dr=Un.get("primary");(null===(z=null===(C=null==Dr?void 0:Dr.route)||void 0===C?void 0:C._routerState)||void 0===z?void 0:z.snapshot.url)&&(hn=Dr.route._routerState.snapshot.url)}const{animationBuilder:jn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(hn,Object.assign(Object.assign({},nn.savedExtras),{animation:jn})).then(()=>!0)})}startBackTransition(){const _=this.activeView;if(_){const g=this.getStack(_.stackId),C=g[g.length-2],z=C.animationBuilder;return this.wait(()=>this.transition(C,_,"back",this.canGoBack(2),!0,z))}return Promise.resolve()}endBackTransition(_){_?(this.skipTransition=!0,this.pop(1)):this.activeView&&zr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(_){const g=this.getStack(_);return g.length>0?g[g.length-1]:void 0}getRootUrl(_){const g=this.getStack(_);return g.length>0?g[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Sr),this.activeView=void 0,this.views=[]}getStack(_){return this.views.filter(g=>g.stackId===_)}insertView(_,g){return this.activeView=_,this.views=((d,_,g)=>"root"===g?Et(d,_):"forward"===g?((d,_)=>(d.indexOf(_)>=0?d=d.filter(C=>C.stackId!==_.stackId||C.id<=_.id):d.push(_),d))(d,_):((d,_)=>d.indexOf(_)>=0?d.filter(C=>C.stackId!==_.stackId||C.id<=_.id):Et(d,_))(d,_))(this.views,_,g),this.views.slice()}transition(_,g,C,z,dt,nn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(g===_)return Promise.resolve(!1);const hn=_?_.element:void 0,Un=g?g.element:void 0,jn=this.containerEl;return hn&&hn!==Un&&(hn.classList.add("ion-page"),hn.classList.add("ion-page-invisible"),hn.parentElement!==jn&&jn.appendChild(hn),jn.commit)?jn.commit(hn,Un,{deepWait:!0,duration:void 0===C?0:void 0,direction:C,showGoBack:z,progressAnimation:dt,animationBuilder:nn}):Promise.resolve(!1)}wait(_){return(0,L.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const g=this.runningTask=_();return g.finally(()=>this.runningTask=void 0),g})}}const Fr=(d,_,g,C,z)=>"function"==typeof requestAnimationFrame?new Promise(dt=>{requestAnimationFrame(()=>{zr(d,_,g,C,z),dt()})}):Promise.resolve(),zr=(d,_,g,C,z)=>{z.run(()=>g.filter(dt=>!_.includes(dt)).forEach(Sr)),_.forEach(dt=>{const hn=C.path().split("?")[0].split("#")[0];if(dt!==d&&dt.url!==hn){const Un=dt.element;Un.setAttribute("aria-hidden","true"),Un.classList.add("ion-page-hidden"),dt.ref.changeDetectorRef.detach()}})};let ni=(()=>{class d{get(g,C){const z=Qr();return z?z.get(g,C):null}getBoolean(g,C){const z=Qr();return!!z&&z.getBoolean(g,C)}getNumber(g,C){const z=Qr();return z?z.getNumber(g,C):0}}return d.\u0275fac=function(g){return new(g||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const vi=new a.OlP("USERCONFIG"),Qr=()=>{if("undefined"!=typeof window){const d=window.Ionic;if(null==d?void 0:d.config)return d.config}return null};let Gi=(()=>{class d{constructor(g,C){this.doc=g,this.backButton=new he.xQ,this.keyboardDidShow=new he.xQ,this.keyboardDidHide=new he.xQ,this.pause=new he.xQ,this.resume=new he.xQ,this.resize=new he.xQ,C.run(()=>{var z;let dt;this.win=g.defaultView,this.backButton.subscribeWithPriority=function(nn,hn){return this.subscribe(Un=>Un.register(nn,jn=>C.run(()=>hn(jn))))},ui(this.pause,g,"pause"),ui(this.resume,g,"resume"),ui(this.backButton,g,"ionBackButton"),ui(this.resize,this.win,"resize"),ui(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ui(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(nn=>{dt=nn}),(null===(z=this.win)||void 0===z?void 0:z.cordova)?g.addEventListener("deviceready",()=>{dt("cordova")},{once:!0}):dt("dom")})}is(g){return(0,q.n$)(this.win,g)}platforms(){return(0,q.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(g){return Ni(this.win.location.href,g)}isLandscape(){return!this.isPortrait()}isPortrait(){var g,C;return null===(C=(g=this.win).matchMedia)||void 0===C?void 0:C.call(g,"(orientation: portrait)").matches}testUserAgent(g){const C=this.win.navigator;return!!((null==C?void 0:C.userAgent)&&C.userAgent.indexOf(g)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return d.\u0275fac=function(g){return new(g||d)(a.LFG(we.K0),a.LFG(a.R0b))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Ni=(d,_)=>{_=_.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const C=new RegExp("[\\?&]"+_+"=([^&#]*)").exec(d);return C?decodeURIComponent(C[1].replace(/\+/g," ")):null},ui=(d,_,g)=>{_&&_.addEventListener(g,C=>{d.next(null!=C?C.detail:void 0)})};let Ui=(()=>{class d{constructor(g,C,z,dt){this.location=C,this.serializer=z,this.router=dt,this.direction=mi,this.animated=Xr,this.guessDirection="forward",this.lastNavId=-1,dt&&dt.events.subscribe(nn=>{if(nn instanceof se.OD){const hn=nn.restoredState?nn.restoredState.navigationId:nn.id;this.guessDirection=hn<this.lastNavId?"back":"forward",this.guessAnimation=nn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?nn.id:hn}}),g.backButton.subscribeWithPriority(0,nn=>{this.pop(),nn()})}navigateForward(g,C={}){return this.setDirection("forward",C.animated,C.animationDirection,C.animation),this.navigate(g,C)}navigateBack(g,C={}){return this.setDirection("back",C.animated,C.animationDirection,C.animation),this.navigate(g,C)}navigateRoot(g,C={}){return this.setDirection("root",C.animated,C.animationDirection,C.animation),this.navigate(g,C)}back(g={animated:!0,animationDirection:"back"}){return this.setDirection("back",g.animated,g.animationDirection,g.animation),this.location.back()}pop(){return(0,L.mG)(this,void 0,void 0,function*(){let g=this.topOutlet;for(;g&&!(yield g.pop());)g=g.parentOutlet})}setDirection(g,C,z,dt){this.direction=g,this.animated=Ti(g,C,z),this.animationBuilder=dt}setTopOutlet(g){this.topOutlet=g}consumeTransition(){let C,g="root";const z=this.animationBuilder;return"auto"===this.direction?(g=this.guessDirection,C=this.guessAnimation):(C=this.animated,g=this.direction),this.direction=mi,this.animated=Xr,this.animationBuilder=void 0,{direction:g,animation:C,animationBuilder:z}}navigate(g,C){if(Array.isArray(g))return this.router.navigate(g,C);{const z=this.serializer.parse(g.toString());return void 0!==C.queryParams&&(z.queryParams=Object.assign({},C.queryParams)),void 0!==C.fragment&&(z.fragment=C.fragment),this.router.navigateByUrl(z,C)}}}return d.\u0275fac=function(g){return new(g||d)(a.LFG(Gi),a.LFG(we.Ye),a.LFG(se.Hx),a.LFG(se.F0,8))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Ti=(d,_,g)=>{if(!1!==_){if(void 0!==g)return g;if("forward"===d||"back"===d)return d;if("root"===d&&!0===_)return"forward"}},mi="auto",Xr=void 0;let ki=(()=>{class d{constructor(g,C,z,dt,nn,hn,Un,jn,Dr,sr,kr,li,_i){this.parentContexts=g,this.location=C,this.resolver=z,this.config=hn,this.navCtrl=Un,this.parentOutlet=_i,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new fe.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=Dr.nativeElement,this.name=dt||se.eC,this.tabsPrefix="true"===nn?$t(sr,li):void 0,this.stackCtrl=new ti(this.tabsPrefix,this.nativeEl,sr,Un,kr,jn),g.onChildOutletCreated(this.name,this)}set animation(g){this.nativeEl.animation=g}set animated(g){this.nativeEl.animated=g}set swipeGesture(g){this._swipeGesture=g,this.nativeEl.swipeHandler=g?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:C=>this.stackCtrl.endBackTransition(C)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const g=this.getContext();(null==g?void 0:g.route)&&this.activateWith(g.route,g.resolver||null)}new Promise(g=>(0,q.hh)(this.nativeEl,g)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(g,C){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const C=this.getContext();this.activatedView.savedData=new Map(C.children.contexts);const z=this.activatedView.savedData.get("primary");if(z&&C.route&&(z.route=Object.assign({},C.route)),this.activatedView.savedExtras={},C.route){const dt=C.route.snapshot;this.activatedView.savedExtras.queryParams=dt.queryParams,this.activatedView.savedExtras.fragment=dt.fragment}}const g=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,C){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;let z,dt=this.stackCtrl.getExistingView(g);if(dt){z=this.activated=dt.ref;const nn=dt.savedData;nn&&(this.getContext().children.contexts=nn),this.updateActivatedRouteProxy(z.instance,g)}else{const Un=(C=C||this.resolver).resolveComponentFactory(g._futureSnapshot.routeConfig.component),jn=this.parentContexts.getOrCreateContext(this.name).children,Dr=new fe.X(null),sr=this.createActivatedRouteProxy(Dr,g),kr=new Si(sr,jn,this.location.injector);z=this.activated=this.location.createComponent(Un,this.location.length,kr),Dr.next(z.instance),dt=this.stackCtrl.createView(this.activated,g),this.proxyMap.set(z.instance,sr),this.currentActivatedRoute$.next({component:z.instance,activatedRoute:g})}this.activatedView=dt,this.stackCtrl.setActive(dt).then(nn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(z.instance),this.stackEvents.emit(nn)})}canGoBack(g=1,C){return this.stackCtrl.canGoBack(g,C)}pop(g=1,C){return this.stackCtrl.pop(g,C)}getLastUrl(g){const C=this.stackCtrl.getLastUrl(g);return C?C.url:void 0}getLastRouteView(g){return this.stackCtrl.getLastUrl(g)}getRootView(g){return this.stackCtrl.getRootUrl(g)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(g,C){const z=new se.gz;return z._futureSnapshot=C._futureSnapshot,z._routerState=C._routerState,z.snapshot=C.snapshot,z.outlet=C.outlet,z.component=C.component,z._paramMap=this.proxyObservable(g,"paramMap"),z._queryParamMap=this.proxyObservable(g,"queryParamMap"),z.url=this.proxyObservable(g,"url"),z.params=this.proxyObservable(g,"params"),z.queryParams=this.proxyObservable(g,"queryParams"),z.fragment=this.proxyObservable(g,"fragment"),z.data=this.proxyObservable(g,"data"),z}proxyObservable(g,C){return g.pipe((0,ee.h)(z=>!!z),(0,W.w)(z=>this.currentActivatedRoute$.pipe((0,ee.h)(dt=>null!==dt&&dt.component===z),(0,W.w)(dt=>dt&&dt.activatedRoute[C]),(0,re.x)())))}updateActivatedRouteProxy(g,C){const z=this.proxyMap.get(g);if(!z)throw new Error("Could not find activated route proxy for view");z._futureSnapshot=C._futureSnapshot,z._routerState=C._routerState,z.snapshot=C.snapshot,z.outlet=C.outlet,z.component=C.component,this.currentActivatedRoute$.next({component:g,activatedRoute:C})}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(se.y6),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.$8M("tabs"),a.Y36(ni),a.Y36(Ui),a.Y36(we.Ye),a.Y36(a.SBq),a.Y36(se.F0),a.Y36(a.R0b),a.Y36(se.gz),a.Y36(d,12))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),d})();class Si{constructor(_,g,C){this.route=_,this.childContexts=g,this.parent=C}get(_,g){return _===se.gz?this.route:_===se.y6?this.childContexts:this.parent.get(_,g)}}let ps=(()=>{class d{constructor(g){this.navCtrl=g,this.ionTabsWillChange=new a.vpe,this.ionTabsDidChange=new a.vpe}onPageSelected(g){const C=g.enteringView.stackId;g.tabSwitch&&void 0!==C&&(this.ionTabsWillChange.emit({tab:C}),this.tabBar&&(this.tabBar.selectedTab=C),this.ionTabsDidChange.emit({tab:C}))}select(g){const C="string"==typeof g,z=C?g:g.detail.tab,dt=this.outlet.getActiveStackId()===z,nn=`${this.outlet.tabsPrefix}/${z}`;if(C||g.stopPropagation(),dt){const hn=this.outlet.getActiveStackId(),Un=this.outlet.getLastRouteView(hn);if((null==Un?void 0:Un.url)===nn)return;const jn=this.outlet.getRootView(z);return this.navCtrl.navigateRoot(nn,Object.assign(Object.assign({},jn&&nn===jn.url&&jn.savedExtras),{animated:!0,animationDirection:"back"}))}{const hn=this.outlet.getLastRouteView(z);return this.navCtrl.navigateRoot((null==hn?void 0:hn.url)||nn,Object.assign(Object.assign({},null==hn?void 0:hn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(Ui))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-tabs"]],contentQueries:function(g,C,z){if(1&g&&a.Suo(z,ct,5),2&g){let dt;a.iGM(dt=a.CRH())&&(C.tabBar=dt.first)}},viewQuery:function(g,C){if(1&g&&a.Gf(Ie,5,ki),2&g){let z;a.iGM(z=a.CRH())&&(C.outlet=z.first)}},hostBindings:function(g,C){1&g&&a.NdJ("ionTabButtonClick",function(dt){return C.select(dt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Ne,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(g,C){1&g&&(a.F$t(ke),a.Hsn(0),a.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),a.NdJ("stackEvents",function(dt){return C.onPageSelected(dt)}),a.qZA()(),a.Hsn(4,1))},directives:[ki],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),d})(),ri=(()=>{class d{constructor(g,C,z){this.routerOutlet=g,this.navCtrl=C,this.config=z}onClick(g){var C;const z=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(C=this.routerOutlet)||void 0===C?void 0:C.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),g.preventDefault()):null!=z&&(this.navCtrl.navigateBack(z,{animation:this.routerAnimation}),g.preventDefault())}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(ki,8),a.Y36(Ui),a.Y36(ni))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-back-button"]],hostBindings:function(g,C){1&g&&a.NdJ("click",function(dt){return C.onClick(dt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),d})(),Wr=(()=>{class d{constructor(g,C,z,dt,nn){this.locationStrategy=g,this.navCtrl=C,this.elementRef=z,this.router=dt,this.routerLink=nn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var g;if(null===(g=this.routerLink)||void 0===g?void 0:g.urlTree){const C=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=C}}onClick(g){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),g.preventDefault()}}return d.\u0275fac=function(g){return new(g||d)(a.Y36(we.S$),a.Y36(Ui),a.Y36(a.SBq),a.Y36(se.F0),a.Y36(se.rH,8))},d.\u0275dir=a.lG2({type:d,selectors:[["","routerLink",""]],hostBindings:function(g,C){1&g&&a.NdJ("click",function(dt){return C.onClick(dt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),d})();class We{constructor(_){this.ctrl=_}create(_){return this.ctrl.create(_||{})}dismiss(_,g,C){return this.ctrl.dismiss(_,g,C)}getTop(){return this.ctrl.getTop()}}let Bt=(()=>{class d extends We{constructor(){super(q.Cl)}}return d.\u0275fac=function(g){return new(g||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),$=(()=>{class d extends We{constructor(){super(q.G0)}}return d.\u0275fac=function(g){return new(g||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ve=(()=>{class d extends We{constructor(g,C,z){super(q.Fy),this.angularDelegate=g,this.resolver=C,this.injector=z}create(g){return super.create(Object.assign(Object.assign({},g),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return d.\u0275fac=function(g){return new(g||d)(a.LFG(Cr),a.LFG(a._Vd),a.LFG(a.zs3))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),lt=(()=>{class d extends We{constructor(g,C,z){super(q.oq),this.angularDelegate=g,this.resolver=C,this.injector=z}create(g){return super.create(Object.assign(Object.assign({},g),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return d.\u0275fac=function(g){return new(g||d)(a.LFG(Cr),a.LFG(a._Vd),a.LFG(a.zs3))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),Ct=(()=>{class d extends We{constructor(){super(q.Mn)}}return d.\u0275fac=function(g){return new(g||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class br{shouldDetach(_){return!1}shouldAttach(_){return!1}store(_,g){}retrieve(_){return null}shouldReuseRoute(_,g){if(_.routeConfig!==g.routeConfig)return!1;const C=_.params,z=g.params,dt=Object.keys(C),nn=Object.keys(z);if(dt.length!==nn.length)return!1;for(const hn of dt)if(z[hn]!==C[hn])return!1;return!0}}const wr=(d,_,g)=>()=>{if(_.defaultView&&"undefined"!=typeof window){(0,q.qc)(Object.assign(Object.assign({},d),{_zoneGate:dt=>g.run(dt)}));const z="__zone_symbol__addEventListener"in _.body?"__zone_symbol__addEventListener":"addEventListener";return function oe(){var d=[];if("undefined"!=typeof window){var _=window;(!_.customElements||_.Element&&(!_.Element.prototype.closest||!_.Element.prototype.matches||!_.Element.prototype.remove||!_.Element.prototype.getRootNode))&&d.push(D.e(6748).then(D.t.bind(D,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||_.NodeList&&!_.NodeList.prototype.forEach||!_.fetch||!function(){try{var C=new URL("b","http://a");return C.pathname="c%20d","http://a/c%20d"===C.href&&C.searchParams}catch(z){return!1}}()||"undefined"==typeof WeakMap)&&d.push(D.e(2214).then(D.t.bind(D,4144,23)))}return Promise.all(d)}().then(()=>((d,_)=>"undefined"==typeof window?Promise.resolve():(0,Ae.p)().then(()=>(J(),(0,Ae.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),_))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ge,jmp:dt=>g.runOutsideAngular(dt),ael(dt,nn,hn,Un){dt[z](nn,hn,Un)},rel(dt,nn,hn,Un){dt.removeEventListener(nn,hn,Un)}}))}};let X=(()=>{class d{static forRoot(g){return{ngModule:d,providers:[{provide:vi,useValue:g},{provide:a.ip1,useFactory:wr,multi:!0,deps:[vi,we.K0,a.R0b]}]}}}return d.\u0275fac=function(g){return new(g||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({providers:[Cr,Ve,lt],imports:[[we.ez]]}),d})()},6304:(un,ut,D)=>{"use strict";D.d(ut,{c:()=>le});var a=D(206);let P;const Y=J=>J.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),he=J=>{if(void 0===P){const be=void 0!==J.style.webkitAnimationName;P=void 0===J.style.animationName&&be?"-webkit-":""}return P},fe=(J,xe,be)=>{const _e=xe.startsWith("animation")?he(J):"";J.style.setProperty(_e+xe,be)},se=(J,xe)=>{const be=xe.startsWith("animation")?he(J):"";J.style.removeProperty(be+xe)},W=[],Ae=(J=[],xe)=>{if(void 0!==xe){const be=Array.isArray(xe)?xe:[xe];return[...J,...be]}return J},le=J=>{let xe,be,_e,Ie,ke,Ne,Ue,_t,ve,Z,ue,mt,Xe,nt=[],xt=[],Ge=[],ht=!1,Fe={},Le=[],Re=[],it={},je=0,Ut=!1,Lt=!1,Se=!0,ce=!1,st=!0;const Ft=J,an=[],tn=[],Jt=[],En=[],nr=[],lr=[],Jn=[],rr=[],or=[],Hn=[],Vn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Zt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Vn,ar=()=>Hn,Pt=(V,ne)=>((ne&&ne.oneTimeCallback?tn:an).push({c:V,o:ne}),Xe),zt=()=>{if(Zt)Hn.forEach(V=>{V.cancel()}),Hn.length=0;else{const V=Jt.slice();(0,a.r)(()=>{V.forEach(ne=>{se(ne,"animation-name"),se(ne,"animation-duration"),se(ne,"animation-timing-function"),se(ne,"animation-iteration-count"),se(ne,"animation-delay"),se(ne,"animation-play-state"),se(ne,"animation-fill-mode"),se(ne,"animation-direction")})})}},Kt=()=>{nr.forEach(V=>{V&&V.parentNode&&V.parentNode.removeChild(V)}),nr.length=0},Tn=()=>void 0!==ke?ke:Ue?Ue.getFill():"both",Kn=()=>void 0!==ve?ve:void 0!==Ne?Ne:Ue?Ue.getDirection():"normal",$n=()=>Ut?"linear":void 0!==_e?_e:Ue?Ue.getEasing():"linear",Ke=()=>Lt?0:void 0!==Z?Z:void 0!==be?be:Ue?Ue.getDuration():0,Be=()=>void 0!==Ie?Ie:Ue?Ue.getIterations():1,Qe=()=>void 0!==ue?ue:void 0!==xe?xe:Ue?Ue.getDelay():0,ot=()=>{0!==je&&(je--,0===je&&((()=>{Tt(),rr.forEach(Et=>Et()),or.forEach(Et=>Et());const V=Se?1:0,ne=Le,De=Re,Je=it;Jt.forEach(Et=>{const St=Et.classList;ne.forEach(yt=>St.add(yt)),De.forEach(yt=>St.remove(yt));for(const yt in Je)Je.hasOwnProperty(yt)&&fe(Et,yt,Je[yt])}),an.forEach(Et=>Et.c(V,Xe)),tn.forEach(Et=>Et.c(V,Xe)),tn.length=0,st=!0,Se&&(ce=!0),Se=!0})(),Ue&&Ue.animationFinish()))},qt=(V=!0)=>{Kt();const ne=(J=>(J.forEach(xe=>{for(const be in xe)if(xe.hasOwnProperty(be)){const _e=xe[be];if("easing"===be)xe["animation-timing-function"]=_e,delete xe[be];else{const Ie=Y(be);Ie!==be&&(xe[Ie]=_e,delete xe[be])}}}),J))(nt);Jt.forEach(De=>{if(ne.length>0){const Je=((J=[])=>J.map(xe=>{const be=xe.offset,_e=[];for(const Ie in xe)xe.hasOwnProperty(Ie)&&"offset"!==Ie&&_e.push(`${Ie}: ${xe[Ie]};`);return`${100*be}% { ${_e.join(" ")} }`}).join(" "))(ne);mt=void 0!==J?J:(J=>{let xe=W.indexOf(J);return xe<0&&(xe=W.push(J)-1),`ion-animation-${xe}`})(Je);const Et=((J,xe,be)=>{const _e=(J=>{const xe=J.getRootNode();return xe.head||xe})(be),Ie=he(be),ke=_e.querySelector("#"+J);if(ke)return ke;const Ne=(be.ownerDocument||document).createElement("style");return Ne.id=J,Ne.textContent=`@${Ie}keyframes ${J} { ${xe} } @${Ie}keyframes ${J}-alt { ${xe} }`,_e.appendChild(Ne),Ne})(mt,Je,De);nr.push(Et),fe(De,"animation-duration",`${Ke()}ms`),fe(De,"animation-timing-function",$n()),fe(De,"animation-delay",`${Qe()}ms`),fe(De,"animation-fill-mode",Tn()),fe(De,"animation-direction",Kn());const St=Be()===1/0?"infinite":Be().toString();fe(De,"animation-iteration-count",St),fe(De,"animation-play-state","paused"),V&&fe(De,"animation-name",`${Et.id}-alt`),(0,a.r)(()=>{fe(De,"animation-name",Et.id||null)})}})},mn=(V=!0)=>{(()=>{lr.forEach(Je=>Je()),Jn.forEach(Je=>Je());const V=xt,ne=Ge,De=Fe;Jt.forEach(Je=>{const Et=Je.classList;V.forEach(St=>Et.add(St)),ne.forEach(St=>Et.remove(St));for(const St in De)De.hasOwnProperty(St)&&fe(Je,St,De[St])})})(),nt.length>0&&(Zt?(Jt.forEach(V=>{const ne=V.animate(nt,{id:Ft,delay:Qe(),duration:Ke(),easing:$n(),iterations:Be(),fill:Tn(),direction:Kn()});ne.pause(),Hn.push(ne)}),Hn.length>0&&(Hn[0].onfinish=()=>{ot()})):qt(V)),ht=!0},ze=V=>{if(V=Math.min(Math.max(V,0),.9999),Zt)Hn.forEach(ne=>{ne.currentTime=ne.effect.getComputedTiming().delay+Ke()*V,ne.pause()});else{const ne=`-${Ke()*V}ms`;Jt.forEach(De=>{nt.length>0&&(fe(De,"animation-delay",ne),fe(De,"animation-play-state","paused"))})}},At=V=>{Hn.forEach(ne=>{ne.effect.updateTiming({delay:Qe(),duration:Ke(),easing:$n(),iterations:Be(),fill:Tn(),direction:Kn()})}),void 0!==V&&ze(V)},Gt=(V=!0,ne)=>{(0,a.r)(()=>{Jt.forEach(De=>{fe(De,"animation-name",mt||null),fe(De,"animation-duration",`${Ke()}ms`),fe(De,"animation-timing-function",$n()),fe(De,"animation-delay",void 0!==ne?`-${ne*Ke()}ms`:`${Qe()}ms`),fe(De,"animation-fill-mode",Tn()||null),fe(De,"animation-direction",Kn()||null);const Je=Be()===1/0?"infinite":Be().toString();fe(De,"animation-iteration-count",Je),V&&fe(De,"animation-name",`${mt}-alt`),(0,a.r)(()=>{fe(De,"animation-name",mt||null)})})})},Rt=(V=!1,ne=!0,De)=>(V&&En.forEach(Je=>{Je.update(V,ne,De)}),Zt?At(De):Gt(ne,De),Xe),K=()=>{ht&&(Zt?Hn.forEach(V=>{V.pause()}):Jt.forEach(V=>{fe(V,"animation-play-state","paused")}))},gt=()=>{_t=void 0,ot()},Tt=()=>{_t&&clearTimeout(_t)},Cr=V=>new Promise(ne=>{V&&V.sync&&(Lt=!0,Pt(()=>Lt=!1,{oneTimeCallback:!0})),ht||mn(),ce&&(Zt?(ze(0),At()):Gt(),ce=!1),st&&(je=En.length+1,st=!1),Pt(()=>ne(),{oneTimeCallback:!0}),En.forEach(De=>{De.play()}),Zt?(Hn.forEach(V=>{V.play()}),(0===nt.length||0===Jt.length)&&ot()):(()=>{if(Tt(),(0,a.r)(()=>{Jt.forEach(V=>{nt.length>0&&fe(V,"animation-play-state","running")})}),0===nt.length||0===Jt.length)ot();else{const V=Qe()||0,ne=Ke()||0,De=Be()||1;isFinite(De)&&(_t=setTimeout(gt,V+ne*De+100)),((J,xe)=>{let be;const _e={passive:!0},ke=Ne=>{J===Ne.target&&(be&&be(),Tt(),(0,a.r)(()=>{Jt.forEach(V=>{se(V,"animation-duration"),se(V,"animation-delay"),se(V,"animation-play-state")}),(0,a.r)(ot)}))};J&&(J.addEventListener("webkitAnimationEnd",ke,_e),J.addEventListener("animationend",ke,_e),be=()=>{J.removeEventListener("webkitAnimationEnd",ke,_e),J.removeEventListener("animationend",ke,_e)})})(Jt[0])}})()}),Rr=(V,ne)=>{const De=nt[0];return void 0===De||void 0!==De.offset&&0!==De.offset?nt=[{offset:0,[V]:ne},...nt]:De[V]=ne,Xe};return Xe={parentAnimation:Ue,elements:Jt,childAnimations:En,id:Ft,animationFinish:ot,from:Rr,to:(V,ne)=>{const De=nt[nt.length-1];return void 0===De||void 0!==De.offset&&1!==De.offset?nt=[...nt,{offset:1,[V]:ne}]:De[V]=ne,Xe},fromTo:(V,ne,De)=>Rr(V,ne).to(V,De),parent:V=>(Ue=V,Xe),play:Cr,pause:()=>(En.forEach(V=>{V.pause()}),K(),Xe),stop:()=>{En.forEach(V=>{V.stop()}),ht&&(zt(),ht=!1),Ut=!1,Lt=!1,st=!0,ve=void 0,Z=void 0,ue=void 0,je=0,ce=!1,Se=!0},destroy:V=>(En.forEach(ne=>{ne.destroy(V)}),(V=>{zt(),V&&Kt()})(V),Jt.length=0,En.length=0,nt.length=0,an.length=0,tn.length=0,ht=!1,st=!0,Xe),keyframes:V=>{const ne=nt!==V;return nt=V,ne&&(V=>{Zt?ar().forEach(ne=>{if(ne.effect.setKeyframes)ne.effect.setKeyframes(V);else{const De=new KeyframeEffect(ne.effect.target,V,ne.effect.getTiming());ne.effect=De}}):qt()})(nt),Xe},addAnimation:V=>{if(null!=V)if(Array.isArray(V))for(const ne of V)ne.parent(Xe),En.push(ne);else V.parent(Xe),En.push(V);return Xe},addElement:V=>{if(null!=V)if(1===V.nodeType)Jt.push(V);else if(V.length>=0)for(let ne=0;ne<V.length;ne++)Jt.push(V[ne]);else console.error("Invalid addElement value");return Xe},update:Rt,fill:V=>(ke=V,Rt(!0),Xe),direction:V=>(Ne=V,Rt(!0),Xe),iterations:V=>(Ie=V,Rt(!0),Xe),duration:V=>(!Zt&&0===V&&(V=1),be=V,Rt(!0),Xe),easing:V=>(_e=V,Rt(!0),Xe),delay:V=>(xe=V,Rt(!0),Xe),getWebAnimations:ar,getKeyframes:()=>nt,getFill:Tn,getDirection:Kn,getDelay:Qe,getIterations:Be,getEasing:$n,getDuration:Ke,afterAddRead:V=>(rr.push(V),Xe),afterAddWrite:V=>(or.push(V),Xe),afterClearStyles:(V=[])=>{for(const ne of V)it[ne]="";return Xe},afterStyles:(V={})=>(it=V,Xe),afterRemoveClass:V=>(Re=Ae(Re,V),Xe),afterAddClass:V=>(Le=Ae(Le,V),Xe),beforeAddRead:V=>(lr.push(V),Xe),beforeAddWrite:V=>(Jn.push(V),Xe),beforeClearStyles:(V=[])=>{for(const ne of V)Fe[ne]="";return Xe},beforeStyles:(V={})=>(Fe=V,Xe),beforeRemoveClass:V=>(Ge=Ae(Ge,V),Xe),beforeAddClass:V=>(xt=Ae(xt,V),Xe),onFinish:Pt,progressStart:(V=!1,ne)=>(En.forEach(De=>{De.progressStart(V,ne)}),K(),Ut=V,ht||mn(),Rt(!1,!0,ne),Xe),progressStep:V=>(En.forEach(ne=>{ne.progressStep(V)}),ze(V),Xe),progressEnd:(V,ne,De)=>(Ut=!1,En.forEach(Je=>{Je.progressEnd(V,ne,De)}),void 0!==De&&(Z=De),ce=!1,Se=!0,0===V?(ve="reverse"===Kn()?"normal":"reverse","reverse"===ve&&(Se=!1),Zt?(Rt(),ze(1-ne)):(ue=(1-ne)*Ke()*-1,Rt(!1,!1))):1===V&&(Zt?(Rt(),ze(ne)):(ue=ne*Ke()*-1,Rt(!1,!1))),void 0!==V&&(Pt(()=>{Z=void 0,ve=void 0,ue=void 0},{oneTimeCallback:!0}),Ue||Cr()),Xe)}}},2733:(un,ut,D)=>{"use strict";D.d(ut,{G:()=>he});class P{constructor(se,q,ee,W,re){this.id=q,this.name=ee,this.disableScroll=re,this.priority=1e6*W+q,this.ctrl=se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const se=this.ctrl.capture(this.name,this.id,this.priority);return se&&this.disableScroll&&this.ctrl.disableScroll(this.id),se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(se,q,ee,W){this.id=q,this.disable=ee,this.disableScroll=W,this.ctrl=se}block(){if(this.ctrl){if(this.disable)for(const se of this.disable)this.ctrl.disableGesture(se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const se of this.disable)this.ctrl.enableGesture(se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Y="backdrop-no-scroll",he=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(se){return new P(this,this.newID(),se.name,se.priority||0,!!se.disableScroll)}createBlocker(se={}){return new L(this,this.newID(),se.disable,!!se.disableScroll)}start(se,q,ee){return this.canStart(se)?(this.requestedStart.set(q,ee),!0):(this.requestedStart.delete(q),!1)}capture(se,q,ee){if(!this.start(se,q,ee))return!1;const W=this.requestedStart;let re=-1e4;if(W.forEach(we=>{re=Math.max(re,we)}),re===ee){this.capturedId=q,W.clear();const we=new CustomEvent("ionGestureCaptured",{detail:{gestureName:se}});return document.dispatchEvent(we),!0}return W.delete(q),!1}release(se){this.requestedStart.delete(se),this.capturedId===se&&(this.capturedId=void 0)}disableGesture(se,q){let ee=this.disabledGestures.get(se);void 0===ee&&(ee=new Set,this.disabledGestures.set(se,ee)),ee.add(q)}enableGesture(se,q){const ee=this.disabledGestures.get(se);void 0!==ee&&ee.delete(q)}disableScroll(se){this.disabledScroll.add(se),1===this.disabledScroll.size&&document.body.classList.add(Y)}enableScroll(se){this.disabledScroll.delete(se),0===this.disabledScroll.size&&document.body.classList.remove(Y)}canStart(se){return!(void 0!==this.capturedId||this.isDisabled(se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(se){const q=this.disabledGestures.get(se);return!!(q&&q.size>0)}newID(){return this.gestureId++,this.gestureId}}},527:(un,ut,D)=>{"use strict";D.r(ut),D.d(ut,{MENU_BACK_BUTTON_PRIORITY:()=>he,OVERLAY_BACK_BUTTON_PRIORITY:()=>Y,blockHardwareBackButton:()=>P,startHardwareBackButton:()=>L});var a=D(5861);const P=()=>{document.addEventListener("backbutton",()=>{})},L=()=>{const fe=document;let se=!1;fe.addEventListener("backbutton",()=>{if(se)return;let q=0,ee=[];const W=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(oe,Ae){ee.push({priority:oe,handler:Ae,id:q++})}}});fe.dispatchEvent(W);const re=function(){var oe=(0,a.Z)(function*(Ae){try{if(Ae&&Ae.handler){const le=Ae.handler(we);null!=le&&(yield le)}}catch(le){console.error(le)}});return function(le){return oe.apply(this,arguments)}}(),we=()=>{if(ee.length>0){let oe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ee.forEach(Ae=>{Ae.priority>=oe.priority&&(oe=Ae)}),se=!0,ee=ee.filter(Ae=>Ae.id!==oe.id),re(oe).then(()=>se=!1)}};we()})},Y=100,he=99},206:(un,ut,D)=>{"use strict";D.d(ut,{a:()=>he,b:()=>fe,c:()=>L,d:()=>we,e:()=>oe,f:()=>re,g:()=>se,h:()=>_e,i:()=>Y,j:()=>W,k:()=>Ae,l:()=>ee,m:()=>le,n:()=>be,o:()=>Ie,p:()=>xe,q:()=>J,r:()=>q,s:()=>ke,t:()=>a});const a=(Ne,nt=0)=>new Promise(xt=>{P(Ne,nt,xt)}),P=(Ne,nt=0,xt)=>{let Ge,ht;const Ue={passive:!0},Le=()=>{Ge&&Ge()},Re=it=>{(void 0===it||Ne===it.target)&&(Le(),xt(it))};return Ne&&(Ne.addEventListener("webkitTransitionEnd",Re,Ue),Ne.addEventListener("transitionend",Re,Ue),ht=setTimeout(Re,nt+500),Ge=()=>{ht&&(clearTimeout(ht),ht=void 0),Ne.removeEventListener("webkitTransitionEnd",Re,Ue),Ne.removeEventListener("transitionend",Re,Ue)}),Le},L=(Ne,nt)=>{Ne.componentOnReady?Ne.componentOnReady().then(xt=>nt(xt)):q(()=>nt(Ne))},Y=(Ne,nt=[])=>{const xt={};return nt.forEach(Ge=>{Ne.hasAttribute(Ge)&&(null!==Ne.getAttribute(Ge)&&(xt[Ge]=Ne.getAttribute(Ge)),Ne.removeAttribute(Ge))}),xt},he=(Ne,nt,xt,Ge)=>{if("undefined"!=typeof window){const ht=window,Ue=ht&&ht.Ionic&&ht.Ionic.config;if(Ue){const Fe=Ue.get("_ael");if(Fe)return Fe(Ne,nt,xt,Ge);if(Ue._ael)return Ue._ael(Ne,nt,xt,Ge)}}return Ne.addEventListener(nt,xt,Ge)},fe=(Ne,nt,xt,Ge)=>{if("undefined"!=typeof window){const ht=window,Ue=ht&&ht.Ionic&&ht.Ionic.config;if(Ue){const Fe=Ue.get("_rel");if(Fe)return Fe(Ne,nt,xt,Ge);if(Ue._rel)return Ue._rel(Ne,nt,xt,Ge)}}return Ne.removeEventListener(nt,xt,Ge)},se=(Ne,nt=Ne)=>Ne.shadowRoot||nt,q=Ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ne):setTimeout(Ne),ee=Ne=>!!Ne.shadowRoot&&!!Ne.attachShadow,W=Ne=>{const nt=Ne.closest("ion-item");return nt?nt.querySelector("ion-label"):null},re=Ne=>{if(Ne.focus(),Ne.classList.contains("ion-focusable")){const nt=Ne.closest("ion-app");nt&&nt.setFocus([Ne])}},we=(Ne,nt)=>{let xt;const Ge=Ne.getAttribute("aria-labelledby"),ht=Ne.id;let Ue=null!==Ge&&""!==Ge.trim()?Ge:nt+"-lbl",Fe=null!==Ge&&""!==Ge.trim()?document.getElementById(Ge):W(Ne);return Fe?(null===Ge&&(Fe.id=Ue),xt=Fe.textContent,Fe.setAttribute("aria-hidden","true")):""!==ht.trim()&&(Fe=document.querySelector(`label[for="${ht}"]`),Fe&&(""!==Fe.id?Ue=Fe.id:Fe.id=Ue=`${ht}-lbl`,xt=Fe.textContent)),{label:Fe,labelId:Ue,labelText:xt}},oe=(Ne,nt,xt,Ge,ht)=>{if(Ne||ee(nt)){let Ue=nt.querySelector("input.aux-input");Ue||(Ue=nt.ownerDocument.createElement("input"),Ue.type="hidden",Ue.classList.add("aux-input"),nt.appendChild(Ue)),Ue.disabled=ht,Ue.name=xt,Ue.value=Ge||""}},Ae=(Ne,nt,xt)=>Math.max(Ne,Math.min(nt,xt)),le=(Ne,nt)=>{if(!Ne){const xt="ASSERT: "+nt;throw console.error(xt),new Error(xt)}},J=Ne=>Ne.timeStamp||Date.now(),xe=Ne=>{if(Ne){const nt=Ne.changedTouches;if(nt&&nt.length>0){const xt=nt[0];return{x:xt.clientX,y:xt.clientY}}if(void 0!==Ne.pageX)return{x:Ne.pageX,y:Ne.pageY}}return{x:0,y:0}},be=Ne=>{const nt="rtl"===document.dir;switch(Ne){case"start":return nt;case"end":return!nt;default:throw new Error(`"${Ne}" is not a valid value for [side]. Use "start" or "end" instead.`)}},_e=(Ne,nt)=>{const xt=Ne._original||Ne;return{_original:Ne,emit:Ie(xt.emit.bind(xt),nt)}},Ie=(Ne,nt=0)=>{let xt;return(...Ge)=>{clearTimeout(xt),xt=setTimeout(Ne,nt,...Ge)}},ke=(Ne,nt)=>{if(null!=Ne||(Ne={}),null!=nt||(nt={}),Ne===nt)return!0;const xt=Object.keys(Ne);if(xt.length!==Object.keys(nt).length)return!1;for(const Ge of xt)if(!(Ge in nt)||Ne[Ge]!==nt[Ge])return!1;return!0}},1363:(un,ut,D)=>{"use strict";D.r(ut),D.d(ut,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>ee});var a=D(2733);const P=(oe,Ae,le,J)=>{const xe=L(oe)?{capture:!!J.capture,passive:!!J.passive}:!!J.capture;let be,_e;return oe.__zone_symbol__addEventListener?(be="__zone_symbol__addEventListener",_e="__zone_symbol__removeEventListener"):(be="addEventListener",_e="removeEventListener"),oe[be](Ae,le,xe),()=>{oe[_e](Ae,le,xe)}},L=oe=>{if(void 0===Y)try{const Ae=Object.defineProperty({},"passive",{get:()=>{Y=!0}});oe.addEventListener("optsTest",()=>{},Ae)}catch(Ae){Y=!1}return!!Y};let Y;const se=oe=>oe instanceof Document?oe:oe.ownerDocument,ee=oe=>{let Ae=!1,le=!1,J=!0,xe=!1;const be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},oe),_e=be.canStart,Ie=be.onWillStart,ke=be.onStart,Ne=be.onEnd,nt=be.notCaptured,xt=be.onMove,Ge=be.threshold,ht=be.passive,Ue=be.blurOnStart,Fe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Le=((oe,Ae,le)=>{const J=le*(Math.PI/180),xe="x"===oe,be=Math.cos(J),_e=Ae*Ae;let Ie=0,ke=0,Ne=!1,nt=0;return{start(xt,Ge){Ie=xt,ke=Ge,nt=0,Ne=!0},detect(xt,Ge){if(!Ne)return!1;const ht=xt-Ie,Ue=Ge-ke,Fe=ht*ht+Ue*Ue;if(Fe<_e)return!1;const Le=Math.sqrt(Fe),Re=(xe?ht:Ue)/Le;return nt=Re>be?1:Re<-be?-1:0,Ne=!1,!0},isGesture:()=>0!==nt,getDirection:()=>nt}})(be.direction,be.threshold,be.maxAngle),Re=a.G.createGesture({name:oe.gestureName,priority:oe.gesturePriority,disableScroll:oe.disableScroll}),Ut=()=>{!Ae||(xe=!1,xt&&xt(Fe))},Lt=()=>!(Re&&!Re.capture()||(Ae=!0,J=!1,Fe.startX=Fe.currentX,Fe.startY=Fe.currentY,Fe.startTime=Fe.currentTime,Ie?Ie(Fe).then(ve):ve(),0)),ve=()=>{Ue&&(()=>{if("undefined"!=typeof document){const st=document.activeElement;null!==st&&st.blur&&st.blur()}})(),ke&&ke(Fe),J=!0},Z=()=>{Ae=!1,le=!1,xe=!1,J=!0,Re.release()},ue=st=>{const mt=Ae,Xe=J;if(Z(),Xe){if(W(Fe,st),mt)return void(Ne&&Ne(Fe));nt&&nt(Fe)}},Se=((oe,Ae,le,J,xe)=>{let be,_e,Ie,ke,Ne,nt,xt,Ge=0;const ht=_t=>{Ge=Date.now()+2e3,Ae(_t)&&(!_e&&le&&(_e=P(oe,"touchmove",le,xe)),Ie||(Ie=P(_t.target,"touchend",Fe,xe)),ke||(ke=P(_t.target,"touchcancel",Fe,xe)))},Ue=_t=>{Ge>Date.now()||!Ae(_t)||(!nt&&le&&(nt=P(se(oe),"mousemove",le,xe)),xt||(xt=P(se(oe),"mouseup",Le,xe)))},Fe=_t=>{Re(),J&&J(_t)},Le=_t=>{it(),J&&J(_t)},Re=()=>{_e&&_e(),Ie&&Ie(),ke&&ke(),_e=Ie=ke=void 0},it=()=>{nt&&nt(),xt&&xt(),nt=xt=void 0},je=()=>{Re(),it()},Ut=(_t=!0)=>{_t?(be||(be=P(oe,"touchstart",ht,xe)),Ne||(Ne=P(oe,"mousedown",Ue,xe))):(be&&be(),Ne&&Ne(),be=Ne=void 0,je())};return{enable:Ut,stop:je,destroy:()=>{Ut(!1),J=le=Ae=void 0}}})(be.el,st=>{const mt=we(st);return!(le||!J||(re(st,Fe),Fe.startX=Fe.currentX,Fe.startY=Fe.currentY,Fe.startTime=Fe.currentTime=mt,Fe.velocityX=Fe.velocityY=Fe.deltaX=Fe.deltaY=0,Fe.event=st,_e&&!1===_e(Fe))||(Re.release(),!Re.start()))&&(le=!0,0===Ge?Lt():(Le.start(Fe.startX,Fe.startY),!0))},st=>{Ae?!xe&&J&&(xe=!0,W(Fe,st),requestAnimationFrame(Ut)):(W(Fe,st),Le.detect(Fe.currentX,Fe.currentY)&&(!Le.isGesture()||!Lt())&&ce())},ue,{capture:!1,passive:ht}),ce=()=>{Z(),Se.stop(),nt&&nt(Fe)};return{enable(st=!0){st||(Ae&&ue(void 0),Z()),Se.enable(st)},destroy(){Re.destroy(),Se.destroy()}}},W=(oe,Ae)=>{if(!Ae)return;const le=oe.currentX,J=oe.currentY,xe=oe.currentTime;re(Ae,oe);const be=oe.currentX,_e=oe.currentY,ke=(oe.currentTime=we(Ae))-xe;if(ke>0&&ke<100){const nt=(_e-J)/ke;oe.velocityX=(be-le)/ke*.7+.3*oe.velocityX,oe.velocityY=.7*nt+.3*oe.velocityY}oe.deltaX=be-oe.startX,oe.deltaY=_e-oe.startY,oe.event=Ae},re=(oe,Ae)=>{let le=0,J=0;if(oe){const xe=oe.changedTouches;if(xe&&xe.length>0){const be=xe[0];le=be.clientX,J=be.clientY}else void 0!==oe.pageX&&(le=oe.pageX,J=oe.pageY)}Ae.currentX=le,Ae.currentY=J},we=oe=>oe.timeStamp||Date.now()},2361:(un,ut,D)=>{"use strict";D.d(ut,{B:()=>Rr,H:()=>nr,a:()=>ce,b:()=>qt,c:()=>Br,e:()=>dn,f:()=>Cr,g:()=>st,h:()=>Jt,i:()=>ur,j:()=>Be,k:()=>on,p:()=>J,r:()=>At,s:()=>Ae});var a=D(5861);let L,Y,he,fe=!1,se=!1,q=!1,ee=!1,W=!1;const re="undefined"!=typeof window?window:{},we=re.document||{head:{}},oe={$flags$:0,$resourcesUrl$:"",jmp:N=>N(),raf:N=>requestAnimationFrame(N),ael:(N,U,V,ne)=>N.addEventListener(U,V,ne),rel:(N,U,V,ne)=>N.removeEventListener(U,V,ne),ce:(N,U)=>new CustomEvent(N,U)},Ae=N=>{Object.assign(oe,N)},J=N=>Promise.resolve(N),xe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(N){}return!1})(),be=(N,U,V,ne)=>{V&&V.map(([De,Je,Et])=>{const St=Ie(N,De),yt=_e(U,Et),$t=ke(De);oe.ael(St,Je,yt,$t),(U.$rmListeners$=U.$rmListeners$||[]).push(()=>oe.rel(St,Je,yt,$t))})},_e=(N,U)=>V=>{try{256&N.$flags$?N.$lazyInstance$[U](V):(N.$queuedListeners$=N.$queuedListeners$||[]).push([U,V])}catch(ne){yn(ne)}},Ie=(N,U)=>4&U?we:8&U?re:16&U?we.body:N,ke=N=>0!=(2&N),ht="s-id",Ue="sty-id",Re="http://www.w3.org/1999/xlink",Ut=new WeakMap,Lt=(N,U,V)=>{let ne=K.get(N);xe&&V?(ne=ne||new CSSStyleSheet,ne.replace(U)):ne=U,K.set(N,ne)},_t=(N,U,V,ne)=>{let De=Z(U,V),Je=K.get(De);if(N=11===N.nodeType?N:we,Je)if("string"==typeof Je){let St,Et=Ut.get(N=N.head||N);Et||Ut.set(N,Et=new Set),Et.has(De)||(N.host&&(St=N.querySelector(`[${Ue}="${De}"]`))?St.innerHTML=Je:(St=we.createElement("style"),St.innerHTML=Je,N.insertBefore(St,N.querySelector("link"))),Et&&Et.add(De))}else N.adoptedStyleSheets.includes(Je)||(N.adoptedStyleSheets=[...N.adoptedStyleSheets,Je]);return De},Z=(N,U)=>"sc-"+(U&&32&N.$flags$?N.$tagName$+"-"+U:N.$tagName$),ue=N=>N.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ce=N=>de.push(N),st=N=>ze(N).$modeName$,mt={},tn=N=>"object"==(N=typeof N)||"function"===N,Jt=(N,U,...V)=>{let ne=null,De=null,Je=null,Et=!1,St=!1,yt=[];const $t=Pn=>{for(let qn=0;qn<Pn.length;qn++)ne=Pn[qn],Array.isArray(ne)?$t(ne):null!=ne&&"boolean"!=typeof ne&&((Et="function"!=typeof N&&!tn(ne))&&(ne=String(ne)),Et&&St?yt[yt.length-1].$text$+=ne:yt.push(Et?En(null,ne):ne),St=Et)};if($t(V),U){U.key&&(De=U.key),U.name&&(Je=U.name);{const Pn=U.className||U.class;Pn&&(U.class="object"!=typeof Pn?Pn:Object.keys(Pn).filter(qn=>Pn[qn]).join(" "))}}if("function"==typeof N)return N(null===U?{}:U,yt,Jn);const wn=En(N,null);return wn.$attrs$=U,yt.length>0&&(wn.$children$=yt),wn.$key$=De,wn.$name$=Je,wn},En=(N,U)=>({$flags$:0,$tag$:N,$text$:U,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),nr={},Jn={forEach:(N,U)=>N.map(rr).forEach(U),map:(N,U)=>N.map(rr).map(U).map(or)},rr=N=>({vattrs:N.$attrs$,vchildren:N.$children$,vkey:N.$key$,vname:N.$name$,vtag:N.$tag$,vtext:N.$text$}),or=N=>{if("function"==typeof N.vtag){const V=Object.assign({},N.vattrs);return N.vkey&&(V.key=N.vkey),N.vname&&(V.name=N.vname),Jt(N.vtag,V,...N.vchildren||[])}const U=En(N.vtag,N.vtext);return U.$attrs$=N.vattrs,U.$children$=N.vchildren,U.$key$=N.vkey,U.$name$=N.vname,U},Hn=(N,U,V,ne,De,Je)=>{if(V!==ne){let Et=Rt(N,U),St=U.toLowerCase();if("class"===U){const yt=N.classList,$t=Zt(V),wn=Zt(ne);yt.remove(...$t.filter(Pn=>Pn&&!wn.includes(Pn))),yt.add(...wn.filter(Pn=>Pn&&!$t.includes(Pn)))}else if("style"===U){for(const yt in V)(!ne||null==ne[yt])&&(yt.includes("-")?N.style.removeProperty(yt):N.style[yt]="");for(const yt in ne)(!V||ne[yt]!==V[yt])&&(yt.includes("-")?N.style.setProperty(yt,ne[yt]):N.style[yt]=ne[yt])}else if("key"!==U)if("ref"===U)ne&&ne(N);else if(Et||"o"!==U[0]||"n"!==U[1]){const yt=tn(ne);if((Et||yt&&null!==ne)&&!De)try{if(N.tagName.includes("-"))N[U]=ne;else{let wn=null==ne?"":ne;"list"===U?Et=!1:(null==V||N[U]!=wn)&&(N[U]=wn)}}catch(wn){}let $t=!1;St!==(St=St.replace(/^xlink\:?/,""))&&(U=St,$t=!0),null==ne||!1===ne?(!1!==ne||""===N.getAttribute(U))&&($t?N.removeAttributeNS(Re,U):N.removeAttribute(U)):(!Et||4&Je||De)&&!yt&&(ne=!0===ne?"":ne,$t?N.setAttributeNS(Re,U,ne):N.setAttribute(U,ne))}else U="-"===U[2]?U.slice(3):Rt(re,St)?St.slice(2):St[2]+U.slice(3),V&&oe.rel(N,U,V,!1),ne&&oe.ael(N,U,ne,!1)}},Vn=/\s/,Zt=N=>N?N.split(Vn):[],cr=(N,U,V,ne)=>{const De=11===U.$elm$.nodeType&&U.$elm$.host?U.$elm$.host:U.$elm$,Je=N&&N.$attrs$||mt,Et=U.$attrs$||mt;for(ne in Je)ne in Et||Hn(De,ne,Je[ne],void 0,V,U.$flags$);for(ne in Et)Hn(De,ne,Je[ne],Et[ne],V,U.$flags$)},ar=(N,U,V,ne)=>{let Et,St,yt,De=U.$children$[V],Je=0;if(fe||(q=!0,"slot"===De.$tag$&&(L&&ne.classList.add(L+"-s"),De.$flags$|=De.$children$?2:1)),null!==De.$text$)Et=De.$elm$=we.createTextNode(De.$text$);else if(1&De.$flags$)Et=De.$elm$=we.createTextNode("");else{if(ee||(ee="svg"===De.$tag$),Et=De.$elm$=we.createElementNS(ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&De.$flags$?"slot-fb":De.$tag$),ee&&"foreignObject"===De.$tag$&&(ee=!1),cr(null,De,ee),(N=>null!=N)(L)&&Et["s-si"]!==L&&Et.classList.add(Et["s-si"]=L),De.$children$)for(Je=0;Je<De.$children$.length;++Je)St=ar(N,De,Je,Et),St&&Et.appendChild(St);"svg"===De.$tag$?ee=!1:"foreignObject"===Et.tagName&&(ee=!0)}return Et["s-hn"]=he,3&De.$flags$&&(Et["s-sr"]=!0,Et["s-cr"]=Y,Et["s-sn"]=De.$name$||"",yt=N&&N.$children$&&N.$children$[V],yt&&yt.$tag$===De.$tag$&&N.$elm$&&Mt(N.$elm$,!1)),Et},Mt=(N,U)=>{oe.$flags$|=1;const V=N.childNodes;for(let ne=V.length-1;ne>=0;ne--){const De=V[ne];De["s-hn"]!==he&&De["s-ol"]&&(Kt(De).insertBefore(De,zt(De)),De["s-ol"].remove(),De["s-ol"]=void 0,q=!0),U&&Mt(De,U)}oe.$flags$&=-2},Ye=(N,U,V,ne,De,Je)=>{let St,Et=N["s-cr"]&&N["s-cr"].parentNode||N;for(Et.shadowRoot&&Et.tagName===he&&(Et=Et.shadowRoot);De<=Je;++De)ne[De]&&(St=ar(null,V,De,N),St&&(ne[De].$elm$=St,Et.insertBefore(St,zt(U))))},$e=(N,U,V,ne,De)=>{for(;U<=V;++U)(ne=N[U])&&(De=ne.$elm$,bn(ne),se=!0,De["s-ol"]?De["s-ol"].remove():Mt(De,!0),De.remove())},bt=(N,U)=>N.$tag$===U.$tag$&&("slot"===N.$tag$?N.$name$===U.$name$:N.$key$===U.$key$),zt=N=>N&&N["s-ol"]||N,Kt=N=>(N["s-ol"]?N["s-ol"]:N).parentNode,Gn=(N,U)=>{const V=U.$elm$=N.$elm$,ne=N.$children$,De=U.$children$,Je=U.$tag$,Et=U.$text$;let St;null===Et?(ee="svg"===Je||"foreignObject"!==Je&&ee,"slot"===Je||cr(N,U,ee),null!==ne&&null!==De?((N,U,V,ne)=>{let ti,Fr,De=0,Je=0,Et=0,St=0,yt=U.length-1,$t=U[0],wn=U[yt],Pn=ne.length-1,qn=ne[0],Sr=ne[Pn];for(;De<=yt&&Je<=Pn;)if(null==$t)$t=U[++De];else if(null==wn)wn=U[--yt];else if(null==qn)qn=ne[++Je];else if(null==Sr)Sr=ne[--Pn];else if(bt($t,qn))Gn($t,qn),$t=U[++De],qn=ne[++Je];else if(bt(wn,Sr))Gn(wn,Sr),wn=U[--yt],Sr=ne[--Pn];else if(bt($t,Sr))("slot"===$t.$tag$||"slot"===Sr.$tag$)&&Mt($t.$elm$.parentNode,!1),Gn($t,Sr),N.insertBefore($t.$elm$,wn.$elm$.nextSibling),$t=U[++De],Sr=ne[--Pn];else if(bt(wn,qn))("slot"===$t.$tag$||"slot"===Sr.$tag$)&&Mt(wn.$elm$.parentNode,!1),Gn(wn,qn),N.insertBefore(wn.$elm$,$t.$elm$),wn=U[--yt],qn=ne[++Je];else{for(Et=-1,St=De;St<=yt;++St)if(U[St]&&null!==U[St].$key$&&U[St].$key$===qn.$key$){Et=St;break}Et>=0?(Fr=U[Et],Fr.$tag$!==qn.$tag$?ti=ar(U&&U[Je],V,Et,N):(Gn(Fr,qn),U[Et]=void 0,ti=Fr.$elm$),qn=ne[++Je]):(ti=ar(U&&U[Je],V,Je,N),qn=ne[++Je]),ti&&Kt($t.$elm$).insertBefore(ti,zt($t.$elm$))}De>yt?Ye(N,null==ne[Pn+1]?null:ne[Pn+1].$elm$,V,ne,Je,Pn):Je>Pn&&$e(U,De,yt)})(V,ne,U,De):null!==De?(null!==N.$text$&&(V.textContent=""),Ye(V,null,U,De,0,De.length-1)):null!==ne&&$e(ne,0,ne.length-1),ee&&"svg"===Je&&(ee=!1)):(St=V["s-cr"])?St.parentNode.textContent=Et:N.$text$!==Et&&(V.data=Et)},Wn=N=>{let V,ne,De,Je,Et,St,U=N.childNodes;for(ne=0,De=U.length;ne<De;ne++)if(V=U[ne],1===V.nodeType){if(V["s-sr"])for(Et=V["s-sn"],V.hidden=!1,Je=0;Je<De;Je++)if(St=U[Je].nodeType,U[Je]["s-hn"]!==V["s-hn"]||""!==Et){if(1===St&&Et===U[Je].getAttribute("slot")){V.hidden=!0;break}}else if(1===St||3===St&&""!==U[Je].textContent.trim()){V.hidden=!0;break}Wn(V)}},Qn=[],mr=N=>{let U,V,ne,De,Je,Et,St=0,yt=N.childNodes,$t=yt.length;for(;St<$t;St++){if(U=yt[St],U["s-sr"]&&(V=U["s-cr"])&&V.parentNode)for(ne=V.parentNode.childNodes,De=U["s-sn"],Et=ne.length-1;Et>=0;Et--)V=ne[Et],!V["s-cn"]&&!V["s-nr"]&&V["s-hn"]!==U["s-hn"]&&(dr(V,De)?(Je=Qn.find(wn=>wn.$nodeToRelocate$===V),se=!0,V["s-sn"]=V["s-sn"]||De,Je?Je.$slotRefNode$=U:Qn.push({$slotRefNode$:U,$nodeToRelocate$:V}),V["s-sr"]&&Qn.map(wn=>{dr(wn.$nodeToRelocate$,V["s-sn"])&&(Je=Qn.find(Pn=>Pn.$nodeToRelocate$===V),Je&&!wn.$slotRefNode$&&(wn.$slotRefNode$=Je.$slotRefNode$))})):Qn.some(wn=>wn.$nodeToRelocate$===V)||Qn.push({$nodeToRelocate$:V}));1===U.nodeType&&mr(U)}},dr=(N,U)=>1===N.nodeType?null===N.getAttribute("slot")&&""===U||N.getAttribute("slot")===U:N["s-sn"]===U||""===U,bn=N=>{N.$attrs$&&N.$attrs$.ref&&N.$attrs$.ref(null),N.$children$&&N.$children$.map(bn)},ur=N=>ze(N).$hostElement$,dn=(N,U,V)=>{const ne=ur(N);return{emit:De=>Nt(ne,U,{bubbles:!!(4&V),composed:!!(2&V),cancelable:!!(1&V),detail:De})}},Nt=(N,U,V)=>{const ne=oe.ce(U,V);return N.dispatchEvent(ne),ne},Dt=(N,U)=>{U&&!N.$onRenderResolve$&&U["s-p"]&&U["s-p"].push(new Promise(V=>N.$onRenderResolve$=V))},fn=(N,U)=>{if(N.$flags$|=16,!(4&N.$flags$))return Dt(N,N.$ancestorComponent$),Br(()=>Tn(N,U));N.$flags$|=512},Tn=(N,U)=>{const ne=N.$lazyInstance$;let De;return U&&(N.$flags$|=256,N.$queuedListeners$&&(N.$queuedListeners$.map(([Je,Et])=>vt(ne,Je,Et)),N.$queuedListeners$=null),De=vt(ne,"componentWillLoad")),De=ye(De,()=>vt(ne,"componentWillRender")),ye(De,()=>Kn(N,ne,U))},Kn=function(){var N=(0,a.Z)(function*(U,V,ne){const De=U.$hostElement$,Et=De["s-rc"];ne&&(N=>{const U=N.$cmpMeta$,V=N.$hostElement$,ne=U.$flags$,Je=_t(V.shadowRoot?V.shadowRoot:V.getRootNode(),U,N.$modeName$);10&ne&&(V["s-sc"]=Je,V.classList.add(Je+"-h"),2&ne&&V.classList.add(Je+"-s"))})(U);$n(U,V),Et&&(Et.map(yt=>yt()),De["s-rc"]=void 0);{const yt=De["s-p"],$t=()=>Ke(U);0===yt.length?$t():(Promise.all(yt).then($t),U.$flags$|=4,yt.length=0)}});return function(V,ne,De){return N.apply(this,arguments)}}(),$n=(N,U,V)=>{try{U=U.render&&U.render(),N.$flags$&=-17,N.$flags$|=2,((N,U)=>{const V=N.$hostElement$,ne=N.$cmpMeta$,De=N.$vnode$||En(null,null),Je=(N=>N&&N.$tag$===nr)(U)?U:Jt(null,null,U);if(he=V.tagName,ne.$attrsToReflect$&&(Je.$attrs$=Je.$attrs$||{},ne.$attrsToReflect$.map(([Et,St])=>Je.$attrs$[St]=V[Et])),Je.$tag$=null,Je.$flags$|=4,N.$vnode$=Je,Je.$elm$=De.$elm$=V.shadowRoot||V,L=V["s-sc"],Y=V["s-cr"],fe=0!=(1&ne.$flags$),se=!1,Gn(De,Je),oe.$flags$|=1,q){mr(Je.$elm$);let Et,St,yt,$t,wn,Pn,qn=0;for(;qn<Qn.length;qn++)Et=Qn[qn],St=Et.$nodeToRelocate$,St["s-ol"]||(yt=we.createTextNode(""),yt["s-nr"]=St,St.parentNode.insertBefore(St["s-ol"]=yt,St));for(qn=0;qn<Qn.length;qn++)if(Et=Qn[qn],St=Et.$nodeToRelocate$,Et.$slotRefNode$){for($t=Et.$slotRefNode$.parentNode,wn=Et.$slotRefNode$.nextSibling,yt=St["s-ol"];yt=yt.previousSibling;)if(Pn=yt["s-nr"],Pn&&Pn["s-sn"]===St["s-sn"]&&$t===Pn.parentNode&&(Pn=Pn.nextSibling,!Pn||!Pn["s-nr"])){wn=Pn;break}(!wn&&$t!==St.parentNode||St.nextSibling!==wn)&&St!==wn&&(!St["s-hn"]&&St["s-ol"]&&(St["s-hn"]=St["s-ol"].parentNode.nodeName),$t.insertBefore(St,wn))}else 1===St.nodeType&&(St.hidden=!0)}se&&Wn(Je.$elm$),oe.$flags$&=-2,Qn.length=0})(N,U)}catch(ne){yn(ne,N.$hostElement$)}return null},Ke=N=>{const V=N.$hostElement$,De=N.$lazyInstance$,Je=N.$ancestorComponent$;vt(De,"componentDidRender"),64&N.$flags$?vt(De,"componentDidUpdate"):(N.$flags$|=64,Me(V),vt(De,"componentDidLoad"),N.$onReadyResolve$(V),Je||Qe()),N.$onInstanceResolve$(V),N.$onRenderResolve$&&(N.$onRenderResolve$(),N.$onRenderResolve$=void 0),512&N.$flags$&&fr(()=>fn(N,!1)),N.$flags$&=-517},Be=N=>{{const U=ze(N),V=U.$hostElement$.isConnected;return V&&2==(18&U.$flags$)&&fn(U,!1),V}},Qe=N=>{Me(we.documentElement),fr(()=>Nt(re,"appload",{detail:{namespace:"ionic"}}))},vt=(N,U,V)=>{if(N&&N[U])try{return N[U](V)}catch(ne){yn(ne)}},ye=(N,U)=>N&&N.then?N.then(U):U(),Me=N=>N.classList.add("hydrated"),wt=(N,U,V,ne,De,Je,Et)=>{let St,yt,$t,wn;if(1===Je.nodeType){for(St=Je.getAttribute("c-id"),St&&(yt=St.split("."),(yt[0]===Et||"0"===yt[0])&&($t={$flags$:0,$hostId$:yt[0],$nodeId$:yt[1],$depth$:yt[2],$index$:yt[3],$tag$:Je.tagName.toLowerCase(),$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},U.push($t),Je.removeAttribute("c-id"),N.$children$||(N.$children$=[]),N.$children$[$t.$index$]=$t,N=$t,ne&&"0"===$t.$depth$&&(ne[$t.$index$]=$t.$elm$))),wn=Je.childNodes.length-1;wn>=0;wn--)wt(N,U,V,ne,De,Je.childNodes[wn],Et);if(Je.shadowRoot)for(wn=Je.shadowRoot.childNodes.length-1;wn>=0;wn--)wt(N,U,V,ne,De,Je.shadowRoot.childNodes[wn],Et)}else if(8===Je.nodeType)yt=Je.nodeValue.split("."),(yt[1]===Et||"0"===yt[1])&&(St=yt[0],$t={$flags$:0,$hostId$:yt[1],$nodeId$:yt[2],$depth$:yt[3],$index$:yt[4],$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===St?($t.$elm$=Je.nextSibling,$t.$elm$&&3===$t.$elm$.nodeType&&($t.$text$=$t.$elm$.textContent,U.push($t),Je.remove(),N.$children$||(N.$children$=[]),N.$children$[$t.$index$]=$t,ne&&"0"===$t.$depth$&&(ne[$t.$index$]=$t.$elm$))):$t.$hostId$===Et&&("s"===St?($t.$tag$="slot",Je["s-sn"]=yt[5]?$t.$name$=yt[5]:"",Je["s-sr"]=!0,ne&&($t.$elm$=we.createElement($t.$tag$),$t.$name$&&$t.$elm$.setAttribute("name",$t.$name$),Je.parentNode.insertBefore($t.$elm$,Je),Je.remove(),"0"===$t.$depth$&&(ne[$t.$index$]=$t.$elm$)),V.push($t),N.$children$||(N.$children$=[]),N.$children$[$t.$index$]=$t):"r"===St&&(ne?Je.remove():(De["s-cr"]=Je,Je["s-cn"]=!0))));else if(N&&"style"===N.$tag$){const Pn=En(null,Je.textContent);Pn.$elm$=Je,Pn.$index$="0",N.$children$=[Pn]}},Qt=(N,U)=>{if(1===N.nodeType){let V=0;for(;V<N.childNodes.length;V++)Qt(N.childNodes[V],U);if(N.shadowRoot)for(V=0;V<N.shadowRoot.childNodes.length;V++)Qt(N.shadowRoot.childNodes[V],U)}else if(8===N.nodeType){const V=N.nodeValue.split(".");"o"===V[0]&&(U.set(V[1]+"."+V[2],N),N.nodeValue="",N["s-en"]=V[3])}},zn=(N,U,V)=>{if(U.$members$){N.watchers&&(U.$watchers$=N.watchers);const ne=Object.entries(U.$members$),De=N.prototype;if(ne.map(([Je,[Et]])=>{31&Et||2&V&&32&Et?Object.defineProperty(De,Je,{get(){return((N,U)=>ze(this).$instanceValues$.get(U))(0,Je)},set(St){((N,U,V,ne)=>{const De=ze(N),Je=De.$hostElement$,Et=De.$instanceValues$.get(U),St=De.$flags$,yt=De.$lazyInstance$;V=((N,U)=>null==N||tn(N)?N:4&U?"false"!==N&&(""===N||!!N):2&U?parseFloat(N):1&U?String(N):N)(V,ne.$members$[U][0]);const $t=Number.isNaN(Et)&&Number.isNaN(V);if((!(8&St)||void 0===Et)&&V!==Et&&!$t&&(De.$instanceValues$.set(U,V),yt)){if(ne.$watchers$&&128&St){const Pn=ne.$watchers$[U];Pn&&Pn.map(qn=>{try{yt[qn](V,Et,U)}catch(Sr){yn(Sr,Je)}})}2==(18&St)&&fn(De,!1)}})(this,Je,St,U)},configurable:!0,enumerable:!0}):1&V&&64&Et&&Object.defineProperty(De,Je,{value(...St){const yt=ze(this);return yt.$onInstancePromise$.then(()=>yt.$lazyInstance$[Je](...St))}})}),1&V){const Je=new Map;De.attributeChangedCallback=function(Et,St,yt){oe.jmp(()=>{const $t=Je.get(Et);if(this.hasOwnProperty($t))yt=this[$t],delete this[$t];else if(De.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==yt)return;this[$t]=(null!==yt||"boolean"!=typeof this[$t])&&yt})},N.observedAttributes=ne.filter(([Et,St])=>15&St[0]).map(([Et,St])=>{const yt=St[1]||Et;return Je.set(yt,Et),512&St[0]&&U.$attrsToReflect$.push([Et,yt]),yt})}}return N},ir=function(){var N=(0,a.Z)(function*(U,V,ne,De,Je){if(0==(32&V.$flags$)){{if(V.$flags$|=32,(Je=ct(ne)).then){const $t=()=>{};Je=yield Je,$t()}Je.isProxied||(ne.$watchers$=Je.watchers,zn(Je,ne,2),Je.isProxied=!0);const yt=()=>{};V.$flags$|=8;try{new Je(V)}catch($t){yn($t)}V.$flags$&=-9,V.$flags$|=128,yt(),Tr(V.$lazyInstance$)}if(Je.style){let yt=Je.style;"string"!=typeof yt&&(yt=yt[V.$modeName$=(N=>de.map(U=>U(N)).find(U=>!!U))(U)]);const $t=Z(ne,V.$modeName$);if(!K.has($t)){const wn=()=>{};Lt($t,yt,!!(1&ne.$flags$)),wn()}}}const Et=V.$ancestorComponent$,St=()=>fn(V,!0);Et&&Et["s-rc"]?Et["s-rc"].push(St):St()});return function(V,ne,De,Je,Et){return N.apply(this,arguments)}}(),Tr=N=>{vt(N,"connectedCallback")},Oe=N=>{const U=N["s-cr"]=we.createComment("");U["s-cn"]=!0,N.insertBefore(U,N.firstChild)},qt=(N,U={})=>{const ne=[],De=U.exclude||[],Je=re.customElements,Et=we.head,St=Et.querySelector("meta[charset]"),yt=we.createElement("style"),$t=[],wn=we.querySelectorAll(`[${Ue}]`);let Pn,qn=!0,Sr=0;for(Object.assign(oe,U),oe.$resourcesUrl$=new URL(U.resourcesUrl||"./",we.baseURI).href,oe.$flags$|=2;Sr<wn.length;Sr++)Lt(wn[Sr].getAttribute(Ue),ue(wn[Sr].innerHTML),!0);N.map(ti=>{ti[1].map(Fr=>{const zr={$flags$:Fr[0],$tagName$:Fr[1],$members$:Fr[2],$listeners$:Fr[3]};zr.$members$=Fr[2],zr.$listeners$=Fr[3],zr.$attrsToReflect$=[],zr.$watchers$={};const ni=zr.$tagName$,vi=class extends HTMLElement{constructor(Qr){super(Qr),Gt(Qr=this,zr),1&zr.$flags$&&Qr.attachShadow({mode:"open",delegatesFocus:!!(16&zr.$flags$)})}connectedCallback(){Pn&&(clearTimeout(Pn),Pn=null),qn?$t.push(this):oe.jmp(()=>(N=>{if(0==(1&oe.$flags$)){const U=ze(N),V=U.$cmpMeta$,ne=()=>{};if(1&U.$flags$)be(N,U,V.$listeners$),Tr(U.$lazyInstance$);else{let De;if(U.$flags$|=1,De=N.getAttribute(ht),De){if(1&V.$flags$){const Je=_t(N.shadowRoot,V,N.getAttribute("s-mode"));N.classList.remove(Je+"-h",Je+"-s")}((N,U,V,ne)=>{const Je=N.shadowRoot,Et=[],yt=Je?[]:null,$t=ne.$vnode$=En(U,null);oe.$orgLocNodes$||Qt(we.body,oe.$orgLocNodes$=new Map),N[ht]=V,N.removeAttribute(ht),wt($t,Et,[],yt,N,N,V),Et.map(wn=>{const Pn=wn.$hostId$+"."+wn.$nodeId$,qn=oe.$orgLocNodes$.get(Pn),Sr=wn.$elm$;qn&&""===qn["s-en"]&&qn.parentNode.insertBefore(Sr,qn.nextSibling),Je||(Sr["s-hn"]=U,qn&&(Sr["s-ol"]=qn,Sr["s-ol"]["s-nr"]=Sr)),oe.$orgLocNodes$.delete(Pn)}),Je&&yt.map(wn=>{wn&&Je.appendChild(wn)})})(N,V.$tagName$,De,U)}De||12&V.$flags$&&Oe(N);{let Je=N;for(;Je=Je.parentNode||Je.host;)if(1===Je.nodeType&&Je.hasAttribute("s-id")&&Je["s-p"]||Je["s-p"]){Dt(U,U.$ancestorComponent$=Je);break}}V.$members$&&Object.entries(V.$members$).map(([Je,[Et]])=>{if(31&Et&&N.hasOwnProperty(Je)){const St=N[Je];delete N[Je],N[Je]=St}}),fr(()=>ir(N,U,V))}ne()}})(this))}disconnectedCallback(){oe.jmp(()=>(N=>{if(0==(1&oe.$flags$)){const U=ze(this),V=U.$lazyInstance$;U.$rmListeners$&&(U.$rmListeners$.map(ne=>ne()),U.$rmListeners$=void 0),vt(V,"disconnectedCallback")}})())}componentOnReady(){return ze(this).$onReadyPromise$}};zr.$lazyBundleId$=ti[0],!De.includes(ni)&&!Je.get(ni)&&(ne.push(ni),Je.define(ni,zn(vi,zr,1)))})}),yt.innerHTML=ne+"{visibility:hidden}.hydrated{visibility:inherit}",yt.setAttribute("data-styles",""),Et.insertBefore(yt,St?St.nextSibling:Et.firstChild),qn=!1,$t.length?$t.map(ti=>ti.connectedCallback()):oe.jmp(()=>Pn=setTimeout(Qe,30))},on=N=>{const U=new URL(N,oe.$resourcesUrl$);return U.origin!==re.location.origin?U.href:U.pathname},mn=new WeakMap,ze=N=>mn.get(N),At=(N,U)=>mn.set(U.$lazyInstance$=N,U),Gt=(N,U)=>{const V={$flags$:0,$hostElement$:N,$cmpMeta$:U,$instanceValues$:new Map};return V.$onInstancePromise$=new Promise(ne=>V.$onInstanceResolve$=ne),V.$onReadyPromise$=new Promise(ne=>V.$onReadyResolve$=ne),N["s-p"]=[],N["s-rc"]=[],be(N,V,U.$listeners$),mn.set(N,V)},Rt=(N,U)=>U in N,yn=(N,U)=>(0,console.error)(N,U),Rn=new Map,ct=(N,U,V)=>{const ne=N.$tagName$.replace(/-/g,"_"),De=N.$lazyBundleId$,Je=Rn.get(De);return Je?Je[ne]:D(863)(`./${De}.entry.js`).then(Et=>(Rn.set(De,Et),Et[ne]),yn)},K=new Map,de=[],gt=[],Tt=[],xn=(N,U)=>V=>{N.push(V),W||(W=!0,U&&4&oe.$flags$?fr(Sn):oe.raf(Sn))},On=N=>{for(let U=0;U<N.length;U++)try{N[U](performance.now())}catch(V){yn(V)}N.length=0},Sn=()=>{On(gt),On(Tt),(W=gt.length>0)&&oe.raf(Sn)},fr=N=>J().then(N),Cr=xn(gt,!1),Br=xn(Tt,!0),Rr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5970:(un,ut,D)=>{"use strict";D.d(ut,{m:()=>re});var a=D(5861),P=D(527),L=D(206),Y=D(8686),he=D(6304);const fe=we=>(0,he.c)().duration(we?400:300),se=we=>{let oe,Ae;const le=we.width+8,J=(0,he.c)(),xe=(0,he.c)();we.isEndSide?(oe=le+"px",Ae="0px"):(oe=-le+"px",Ae="0px"),J.addElement(we.menuInnerEl).fromTo("transform",`translateX(${oe})`,`translateX(${Ae})`);const _e="ios"===(0,Y.b)(we),Ie=_e?.2:.25;return xe.addElement(we.backdropEl).fromTo("opacity",.01,Ie),fe(_e).addAnimation([J,xe])},q=we=>{let oe,Ae;const le=(0,Y.b)(we),J=we.width;we.isEndSide?(oe=-J+"px",Ae=J+"px"):(oe=J+"px",Ae=-J+"px");const xe=(0,he.c)().addElement(we.menuInnerEl).fromTo("transform",`translateX(${Ae})`,"translateX(0px)"),be=(0,he.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${oe})`),_e=(0,he.c)().addElement(we.backdropEl).fromTo("opacity",.01,.32);return fe("ios"===le).addAnimation([xe,be,_e])},ee=we=>{const oe=(0,Y.b)(we),Ae=we.width*(we.isEndSide?-1:1)+"px",le=(0,he.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ae})`);return fe("ios"===oe).addAnimation(le)},re=(()=>{const we=new Map,oe=[],Ae=function(){var ve=(0,a.Z)(function*(Z){const ue=yield ke(Z);return!!ue&&ue.open()});return function(ue){return ve.apply(this,arguments)}}(),le=function(){var ve=(0,a.Z)(function*(Z){const ue=yield void 0!==Z?ke(Z):Ne();return void 0!==ue&&ue.close()});return function(ue){return ve.apply(this,arguments)}}(),J=function(){var ve=(0,a.Z)(function*(Z){const ue=yield ke(Z);return!!ue&&ue.toggle()});return function(ue){return ve.apply(this,arguments)}}(),xe=function(){var ve=(0,a.Z)(function*(Z,ue){const Se=yield ke(ue);return Se&&(Se.disabled=!Z),Se});return function(ue,Se){return ve.apply(this,arguments)}}(),be=function(){var ve=(0,a.Z)(function*(Z,ue){const Se=yield ke(ue);return Se&&(Se.swipeGesture=Z),Se});return function(ue,Se){return ve.apply(this,arguments)}}(),_e=function(){var ve=(0,a.Z)(function*(Z){if(null!=Z){const ue=yield ke(Z);return void 0!==ue&&ue.isOpen()}return void 0!==(yield Ne())});return function(ue){return ve.apply(this,arguments)}}(),Ie=function(){var ve=(0,a.Z)(function*(Z){const ue=yield ke(Z);return!!ue&&!ue.disabled});return function(ue){return ve.apply(this,arguments)}}(),ke=function(){var ve=(0,a.Z)(function*(Z){return yield _t(),"start"===Z||"end"===Z?Lt(ce=>ce.side===Z&&!ce.disabled)||Lt(ce=>ce.side===Z):null!=Z?Lt(Se=>Se.menuId===Z):Lt(Se=>!Se.disabled)||(oe.length>0?oe[0].el:void 0)});return function(ue){return ve.apply(this,arguments)}}(),Ne=function(){var ve=(0,a.Z)(function*(){return yield _t(),it()});return function(){return ve.apply(this,arguments)}}(),nt=function(){var ve=(0,a.Z)(function*(){return yield _t(),je()});return function(){return ve.apply(this,arguments)}}(),xt=function(){var ve=(0,a.Z)(function*(){return yield _t(),Ut()});return function(){return ve.apply(this,arguments)}}(),Ge=(ve,Z)=>{we.set(ve,Z)},Fe=ve=>{const Z=ve.side;oe.filter(ue=>ue.side===Z&&ue!==ve).forEach(ue=>ue.disabled=!0)},Le=function(){var ve=(0,a.Z)(function*(Z,ue,Se){if(Ut())return!1;if(ue){const ce=yield Ne();ce&&Z.el!==ce&&(yield ce.setOpen(!1,!1))}return Z._setOpen(ue,Se)});return function(ue,Se,ce){return ve.apply(this,arguments)}}(),it=()=>Lt(ve=>ve._isOpen),je=()=>oe.map(ve=>ve.el),Ut=()=>oe.some(ve=>ve.isAnimating),Lt=ve=>{const Z=oe.find(ve);if(void 0!==Z)return Z.el},_t=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ve=>new Promise(Z=>(0,L.c)(ve,Z))));return Ge("reveal",ee),Ge("push",q),Ge("overlay",se),"undefined"!=typeof document&&document.addEventListener("ionBackButton",ve=>{const Z=it();Z&&ve.detail.register(P.MENU_BACK_BUTTON_PRIORITY,()=>Z.close())}),{registerAnimation:Ge,get:ke,getMenus:nt,getOpen:Ne,isEnabled:Ie,swipeGesture:be,isAnimating:xt,isOpen:_e,enable:xe,toggle:J,close:le,open:Ae,_getOpenSync:it,_createAnimation:(ve,Z)=>{const ue=we.get(ve);if(!ue)throw new Error("animation not registered");return ue(Z)},_register:ve=>{oe.indexOf(ve)<0&&(ve.disabled||Fe(ve),oe.push(ve))},_unregister:ve=>{const Z=oe.indexOf(ve);Z>-1&&oe.splice(Z,1)},_setOpen:Le,_setActiveMenu:Fe}})()},358:(un,ut,D)=>{"use strict";D.d(ut,{L:()=>Y,a:()=>he,b:()=>fe,c:()=>se,d:()=>q,e:()=>Ge,g:()=>Fe,l:()=>nt,s:()=>ht,t:()=>re});var a=D(5861),P=D(2361),L=D(206);const Y="ionViewWillEnter",he="ionViewDidEnter",fe="ionViewWillLeave",se="ionViewDidLeave",q="ionViewWillUnload",re=Le=>new Promise((Re,it)=>{(0,P.c)(()=>{we(Le),oe(Le).then(je=>{je.animation&&je.animation.destroy(),Ae(Le),Re(je)},je=>{Ae(Le),it(je)})})}),we=Le=>{const Re=Le.enteringEl,it=Le.leavingEl;Ue(Re,it,Le.direction),Le.showGoBack?Re.classList.add("can-go-back"):Re.classList.remove("can-go-back"),ht(Re,!1),Re.style.setProperty("pointer-events","none"),it&&(ht(it,!1),it.style.setProperty("pointer-events","none"))},oe=function(){var Le=(0,a.Z)(function*(Re){const it=yield le(Re);return it&&P.B.isBrowser?J(it,Re):xe(Re)});return function(it){return Le.apply(this,arguments)}}(),Ae=Le=>{const Re=Le.enteringEl,it=Le.leavingEl;Re.classList.remove("ion-page-invisible"),Re.style.removeProperty("pointer-events"),void 0!==it&&(it.classList.remove("ion-page-invisible"),it.style.removeProperty("pointer-events"))},le=function(){var Le=(0,a.Z)(function*(Re){return Re.leavingEl&&Re.animated&&0!==Re.duration?Re.animationBuilder?Re.animationBuilder:"ios"===Re.mode?(yield Promise.resolve().then(D.bind(D,5797))).iosTransitionAnimation:(yield Promise.resolve().then(D.bind(D,6409))).mdTransitionAnimation:void 0});return function(it){return Le.apply(this,arguments)}}(),J=function(){var Le=(0,a.Z)(function*(Re,it){yield be(it,!0);const je=Re(it.baseEl,it);ke(it.enteringEl,it.leavingEl);const Ut=yield Ie(je,it);return it.progressCallback&&it.progressCallback(void 0),Ut&&Ne(it.enteringEl,it.leavingEl),{hasCompleted:Ut,animation:je}});return function(it,je){return Le.apply(this,arguments)}}(),xe=function(){var Le=(0,a.Z)(function*(Re){const it=Re.enteringEl,je=Re.leavingEl;return yield be(Re,!1),ke(it,je),Ne(it,je),{hasCompleted:!0}});return function(it){return Le.apply(this,arguments)}}(),be=function(){var Le=(0,a.Z)(function*(Re,it){const Ut=(void 0!==Re.deepWait?Re.deepWait:it)?[Ge(Re.enteringEl),Ge(Re.leavingEl)]:[xt(Re.enteringEl),xt(Re.leavingEl)];yield Promise.all(Ut),yield _e(Re.viewIsReady,Re.enteringEl)});return function(it,je){return Le.apply(this,arguments)}}(),_e=function(){var Le=(0,a.Z)(function*(Re,it){Re&&(yield Re(it))});return function(it,je){return Le.apply(this,arguments)}}(),Ie=(Le,Re)=>{const it=Re.progressCallback,je=new Promise(Ut=>{Le.onFinish(Lt=>Ut(1===Lt))});return it?(Le.progressStart(!0),it(Le)):Le.play(),je},ke=(Le,Re)=>{nt(Re,fe),nt(Le,Y)},Ne=(Le,Re)=>{nt(Le,he),nt(Re,se)},nt=(Le,Re)=>{if(Le){const it=new CustomEvent(Re,{bubbles:!1,cancelable:!1});Le.dispatchEvent(it)}},xt=Le=>Le?new Promise(Re=>(0,L.c)(Le,Re)):Promise.resolve(),Ge=function(){var Le=(0,a.Z)(function*(Re){const it=Re;if(it){if(null!=it.componentOnReady){if(null!=(yield it.componentOnReady()))return}else if(null!=it.__registerHost)return void(yield new Promise(Ut=>(0,L.r)(Ut)));yield Promise.all(Array.from(it.children).map(Ge))}});return function(it){return Le.apply(this,arguments)}}(),ht=(Le,Re)=>{Re?(Le.setAttribute("aria-hidden","true"),Le.classList.add("ion-page-hidden")):(Le.hidden=!1,Le.removeAttribute("aria-hidden"),Le.classList.remove("ion-page-hidden"))},Ue=(Le,Re,it)=>{void 0!==Le&&(Le.style.zIndex="back"===it?"99":"101"),void 0!==Re&&(Re.style.zIndex="100")},Fe=Le=>Le.classList.contains("ion-page")?Le:Le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Le},4464:(un,ut,D)=>{"use strict";D.d(ut,{AK:()=>Y.g,n$:()=>Y.a,hh:()=>he.c,re:()=>fe.a,Jd:()=>fe.c,kx:()=>fe.L,EQ:()=>fe.b,F8:()=>fe.d,Cl:()=>q.a,G0:()=>q.l,Fy:()=>q.m,oq:()=>q.c,Mn:()=>q.t,qc:()=>re}),D(5797),D(6409),D(1363);var Y=D(8686),he=D(206),fe=D(358),q=(D(5970),D(3986));D(2733),D(2361);const re=J=>{const xe=window,be=xe.Ionic;if(!be||!be.config||"Object"===be.config.constructor.name)return xe.Ionic=xe.Ionic||{},xe.Ionic.config=Object.assign(Object.assign({},xe.Ionic.config),J),xe.Ionic.config}},8686:(un,ut,D)=>{"use strict";D.d(ut,{a:()=>re,b:()=>Ut,c:()=>L,g:()=>W,i:()=>Lt});var a=D(2361);class P{constructor(){this.m=new Map}reset(ve){this.m=new Map(Object.entries(ve))}get(ve,Z){const ue=this.m.get(ve);return void 0!==ue?ue:Z}getBoolean(ve,Z=!1){const ue=this.m.get(ve);return void 0===ue?Z:"string"==typeof ue?"true"===ue:!!ue}getNumber(ve,Z){const ue=parseFloat(this.m.get(ve));return isNaN(ue)?void 0!==Z?Z:NaN:ue}set(ve,Z){this.m.set(ve,Z)}}const L=new P,q="ionic:",ee="ionic-persist-config",W=_t=>we(_t),re=(_t,ve)=>("string"==typeof _t&&(ve=_t,_t=void 0),W(_t).includes(ve)),we=(_t=window)=>{if(void 0===_t)return[];_t.Ionic=_t.Ionic||{};let ve=_t.Ionic.platforms;return null==ve&&(ve=_t.Ionic.platforms=oe(_t),ve.forEach(Z=>_t.document.documentElement.classList.add(`plt-${Z}`))),ve},oe=_t=>{const ve=L.get("platform");return Object.keys(it).filter(Z=>{const ue=ve&&ve[Z];return"function"==typeof ue?ue(_t):it[Z](_t)})},le=_t=>!!(Le(_t,/iPad/i)||Le(_t,/Macintosh/i)&&Ne(_t)),be=_t=>Le(_t,/android|sink/i),Ne=_t=>Re(_t,"(any-pointer:coarse)"),xt=_t=>Ge(_t)||ht(_t),Ge=_t=>!!(_t.cordova||_t.phonegap||_t.PhoneGap),ht=_t=>{const ve=_t.Capacitor;return!(!ve||!ve.isNative)},Le=(_t,ve)=>ve.test(_t.navigator.userAgent),Re=(_t,ve)=>_t.matchMedia&&_t.matchMedia(ve).matches,it={ipad:le,iphone:_t=>Le(_t,/iPhone/i),ios:_t=>Le(_t,/iPhone|iPod/i)||le(_t),android:be,phablet:_t=>{const ve=_t.innerWidth,Z=_t.innerHeight,ue=Math.min(ve,Z),Se=Math.max(ve,Z);return ue>390&&ue<520&&Se>620&&Se<800},tablet:_t=>{const ve=_t.innerWidth,Z=_t.innerHeight,ue=Math.min(ve,Z),Se=Math.max(ve,Z);return le(_t)||(_t=>be(_t)&&!Le(_t,/mobile/i))(_t)||ue>460&&ue<820&&Se>780&&Se<1400},cordova:Ge,capacitor:ht,electron:_t=>Le(_t,/electron/i),pwa:_t=>!!(_t.matchMedia&&_t.matchMedia("(display-mode: standalone)").matches||_t.navigator.standalone),mobile:Ne,mobileweb:_t=>Ne(_t)&&!xt(_t),desktop:_t=>!Ne(_t),hybrid:xt};let je;const Ut=_t=>_t&&(0,a.g)(_t)||je,Lt=(_t={})=>{if("undefined"==typeof window)return;const ve=window.document,Z=window,ue=Z.Ionic=Z.Ionic||{},Se={};_t._ael&&(Se.ael=_t._ael),_t._rel&&(Se.rel=_t._rel),_t._ce&&(Se.ce=_t._ce),(0,a.s)(Se);const ce=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(_t=>{try{const ve=_t.sessionStorage.getItem(ee);return null!==ve?JSON.parse(ve):{}}catch(ve){return{}}})(Z)),{persistConfig:!1}),ue.config),(_t=>{const ve={};return _t.location.search.slice(1).split("&").map(Z=>Z.split("=")).map(([Z,ue])=>[decodeURIComponent(Z),decodeURIComponent(ue)]).filter(([Z])=>((_t,ve)=>_t.substr(0,ve.length)===ve)(Z,q)).map(([Z,ue])=>[Z.slice(q.length),ue]).forEach(([Z,ue])=>{ve[Z]=ue}),ve})(Z)),_t);L.reset(ce),L.getBoolean("persistConfig")&&((_t,ve)=>{try{_t.sessionStorage.setItem(ee,JSON.stringify(ve))}catch(Z){return}})(Z,ce),we(Z),ue.config=L,ue.mode=je=L.get("mode",ve.documentElement.getAttribute("mode")||(re(Z,"ios")?"ios":"md")),L.set("mode",je),ve.documentElement.setAttribute("mode",je),ve.documentElement.classList.add(je),L.getBoolean("_testing")&&L.set("animated",!1);const st=Xe=>Xe.tagName&&Xe.tagName.startsWith("ION-"),mt=Xe=>["ios","md"].includes(Xe);(0,a.a)(Xe=>{for(;Xe;){const Ft=Xe.mode||Xe.getAttribute("mode");if(Ft){if(mt(Ft))return Ft;st(Xe)&&console.warn('Invalid ionic mode: "'+Ft+'", expected: "ios" or "md"')}Xe=Xe.parentElement}return je})}},5797:(un,ut,D)=>{"use strict";D.r(ut),D.d(ut,{iosTransitionAnimation:()=>we,shadow:()=>fe});var a=D(6304),P=D(358);D(2361);const he=oe=>document.querySelector(`${oe}.ion-cloned-element`),fe=oe=>oe.shadowRoot||oe,se=oe=>{const Ae="ION-TABS"===oe.tagName?oe:oe.querySelector("ion-tabs"),le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ae){const J=Ae.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=J?J.querySelector(le):null}return oe.querySelector(le)},q=(oe,Ae)=>{const le="ION-TABS"===oe.tagName?oe:oe.querySelector("ion-tabs");let J=[];if(null!=le){const xe=le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=xe&&(J=xe.querySelectorAll("ion-buttons"))}else J=oe.querySelectorAll("ion-buttons");for(const xe of J){const be=xe.closest("ion-header"),_e=be&&!be.classList.contains("header-collapse-condense-inactive"),Ie=xe.querySelector("ion-back-button"),ke=xe.classList.contains("buttons-collapse"),Ne="start"===xe.slot||""===xe.slot;if(null!==Ie&&Ne&&(ke&&_e&&Ae||!ke))return Ie}return null},W=(oe,Ae,le,J,xe,be)=>{const _e=Ae?`calc(100% - ${be.right+4}px)`:be.left-4+"px",Ie=Ae?"7px":"-7px",ke=Ae?"-4px":"4px",Ne=Ae?"-4px":"4px",nt=Ae?"right":"left",xt=Ae?"left":"right",Ue=le?[{offset:0,opacity:1,transform:`translate3d(${ke}, ${be.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ie}, ${xe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ie}, ${xe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ke}, ${be.top-46}px, 0) scale(1)`}],Re=le?[{offset:0,opacity:1,transform:`translate3d(${Ne}, ${be.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ne}, ${be.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ne}, ${be.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ne}, ${be.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ne}, ${be.top-46}px, 0) scale(1)`}],it=(0,a.c)(),je=(0,a.c)(),Ut=he("ion-back-button"),Lt=fe(Ut).querySelector(".button-text"),_t=fe(Ut).querySelector("ion-icon");Ut.text=J.text,Ut.mode=J.mode,Ut.icon=J.icon,Ut.color=J.color,Ut.disabled=J.disabled,Ut.style.setProperty("display","block"),Ut.style.setProperty("position","fixed"),je.addElement(_t),it.addElement(Lt),it.beforeStyles({"transform-origin":`${nt} center`}).beforeAddWrite(()=>{J.style.setProperty("display","none"),Ut.style.setProperty(nt,_e)}).afterAddWrite(()=>{J.style.setProperty("display",""),Ut.style.setProperty("display","none"),Ut.style.removeProperty(nt)}).keyframes(Ue),je.beforeStyles({"transform-origin":`${xt} center`}).keyframes(Re),oe.addAnimation([it,je])},re=(oe,Ae,le,J,xe,be)=>{const _e=Ae?`calc(100% - ${xe.right}px)`:`${xe.left}px`,Ie=Ae?"-18px":"18px",ke=Ae?"right":"left",xt=le?[{offset:0,opacity:0,transform:`translate3d(${Ie}, ${be.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${xe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${xe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ie}, ${be.top-4}px, 0) scale(0.5)`}],Ge=he("ion-title"),ht=(0,a.c)();Ge.innerText=J.innerText,Ge.size=J.size,Ge.color=J.color,ht.addElement(Ge),ht.beforeStyles({"transform-origin":`${ke} center`,height:"46px",display:"",position:"relative",[ke]:_e}).beforeAddWrite(()=>{J.style.setProperty("display","none")}).afterAddWrite(()=>{J.style.setProperty("display",""),Ge.style.setProperty("display","none")}).keyframes(xt),oe.addAnimation(ht)},we=(oe,Ae)=>{try{const le="cubic-bezier(0.32,0.72,0,1)",J="opacity",xe="transform",be="0%",Ie="rtl"===oe.ownerDocument.dir,ke=Ie?"-99.5%":"99.5%",Ne=Ie?"33%":"-33%",nt=Ae.enteringEl,xt=Ae.leavingEl,Ge="back"===Ae.direction,ht=nt.querySelector(":scope > ion-content"),Ue=nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Fe=nt.querySelectorAll(":scope > ion-header > ion-toolbar"),Le=(0,a.c)(),Re=(0,a.c)();if(Le.addElement(nt).duration(Ae.duration||540).easing(Ae.easing||le).fill("both").beforeRemoveClass("ion-page-invisible"),xt&&oe){const Lt=(0,a.c)();Lt.addElement(oe),Le.addAnimation(Lt)}if(ht||0!==Fe.length||0!==Ue.length?(Re.addElement(ht),Re.addElement(Ue)):Re.addElement(nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Le.addAnimation(Re),Ge?Re.beforeClearStyles([J]).fromTo("transform",`translateX(${Ne})`,`translateX(${be})`).fromTo(J,.8,1):Re.beforeClearStyles([J]).fromTo("transform",`translateX(${ke})`,`translateX(${be})`),ht){const Lt=fe(ht).querySelector(".transition-effect");if(Lt){const _t=Lt.querySelector(".transition-cover"),ve=Lt.querySelector(".transition-shadow"),Z=(0,a.c)(),ue=(0,a.c)(),Se=(0,a.c)();Z.addElement(Lt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ue.addElement(_t).beforeClearStyles([J]).fromTo(J,0,.1),Se.addElement(ve).beforeClearStyles([J]).fromTo(J,.03,.7),Z.addAnimation([ue,Se]),Re.addAnimation([Z])}}const it=nt.querySelector("ion-header.header-collapse-condense"),{forward:je,backward:Ut}=((oe,Ae,le,J,xe)=>{const be=q(J,le),_e=se(xe),Ie=se(J),ke=q(xe,le),Ne=null!==be&&null!==_e&&!le,nt=null!==Ie&&null!==ke&&le;if(Ne){const xt=_e.getBoundingClientRect(),Ge=be.getBoundingClientRect();re(oe,Ae,le,_e,xt,Ge),W(oe,Ae,le,be,xt,Ge)}else if(nt){const xt=Ie.getBoundingClientRect(),Ge=ke.getBoundingClientRect();re(oe,Ae,le,Ie,xt,Ge),W(oe,Ae,le,ke,xt,Ge)}return{forward:Ne,backward:nt}})(Le,Ie,Ge,nt,xt);if(Fe.forEach(Lt=>{const _t=(0,a.c)();_t.addElement(Lt),Le.addAnimation(_t);const ve=(0,a.c)();ve.addElement(Lt.querySelector("ion-title"));const Z=(0,a.c)(),ue=Array.from(Lt.querySelectorAll("ion-buttons,[menuToggle]")),Se=Lt.closest("ion-header"),ce=Se&&Se.classList.contains("header-collapse-condense-inactive");let st;st=ue.filter(Ge?tn=>{const Jt=tn.classList.contains("buttons-collapse");return Jt&&!ce||!Jt}:tn=>!tn.classList.contains("buttons-collapse")),Z.addElement(st);const mt=(0,a.c)();mt.addElement(Lt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xe=(0,a.c)();Xe.addElement(fe(Lt).querySelector(".toolbar-background"));const Ft=(0,a.c)(),an=Lt.querySelector("ion-back-button");if(an&&Ft.addElement(an),_t.addAnimation([ve,Z,mt,Xe,Ft]),Z.fromTo(J,.01,1),mt.fromTo(J,.01,1),Ge)ce||ve.fromTo("transform",`translateX(${Ne})`,`translateX(${be})`).fromTo(J,.01,1),mt.fromTo("transform",`translateX(${Ne})`,`translateX(${be})`),Ft.fromTo(J,.01,1);else if(it||ve.fromTo("transform",`translateX(${ke})`,`translateX(${be})`).fromTo(J,.01,1),mt.fromTo("transform",`translateX(${ke})`,`translateX(${be})`),Xe.beforeClearStyles([J,"transform"]),(null==Se?void 0:Se.translucent)?Xe.fromTo("transform",Ie?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xe.fromTo(J,.01,"var(--opacity)"),je||Ft.fromTo(J,.01,1),an&&!je){const Jt=(0,a.c)();Jt.addElement(fe(an).querySelector(".button-text")).fromTo("transform",Ie?"translateX(-100px)":"translateX(100px)","translateX(0px)"),_t.addAnimation(Jt)}}),xt){const Lt=(0,a.c)(),_t=xt.querySelector(":scope > ion-content"),ve=xt.querySelectorAll(":scope > ion-header > ion-toolbar"),Z=xt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(_t||0!==ve.length||0!==Z.length?(Lt.addElement(_t),Lt.addElement(Z)):Lt.addElement(xt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Le.addAnimation(Lt),Ge){Lt.beforeClearStyles([J]).fromTo("transform",`translateX(${be})`,Ie?"translateX(-100%)":"translateX(100%)");const ue=(0,P.g)(xt);Le.afterAddWrite(()=>{"normal"===Le.getDirection()&&ue.style.setProperty("display","none")})}else Lt.fromTo("transform",`translateX(${be})`,`translateX(${Ne})`).fromTo(J,1,.8);if(_t){const ue=fe(_t).querySelector(".transition-effect");if(ue){const Se=ue.querySelector(".transition-cover"),ce=ue.querySelector(".transition-shadow"),st=(0,a.c)(),mt=(0,a.c)(),Xe=(0,a.c)();st.addElement(ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),mt.addElement(Se).beforeClearStyles([J]).fromTo(J,.1,0),Xe.addElement(ce).beforeClearStyles([J]).fromTo(J,.7,.03),st.addAnimation([mt,Xe]),Lt.addAnimation([st])}}ve.forEach(ue=>{const Se=(0,a.c)();Se.addElement(ue);const ce=(0,a.c)();ce.addElement(ue.querySelector("ion-title"));const st=(0,a.c)(),mt=ue.querySelectorAll("ion-buttons,[menuToggle]"),Xe=ue.closest("ion-header"),Ft=Xe&&Xe.classList.contains("header-collapse-condense-inactive"),an=Array.from(mt).filter(Jn=>{const rr=Jn.classList.contains("buttons-collapse");return rr&&!Ft||!rr});st.addElement(an);const tn=(0,a.c)(),Jt=ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Jt.length>0&&tn.addElement(Jt);const En=(0,a.c)();En.addElement(fe(ue).querySelector(".toolbar-background"));const nr=(0,a.c)(),lr=ue.querySelector("ion-back-button");if(lr&&nr.addElement(lr),Se.addAnimation([ce,st,tn,nr,En]),Le.addAnimation(Se),nr.fromTo(J,.99,0),st.fromTo(J,.99,0),tn.fromTo(J,.99,0),Ge){if(Ft||ce.fromTo("transform",`translateX(${be})`,Ie?"translateX(-100%)":"translateX(100%)").fromTo(J,.99,0),tn.fromTo("transform",`translateX(${be})`,Ie?"translateX(-100%)":"translateX(100%)"),En.beforeClearStyles([J,"transform"]),(null==Xe?void 0:Xe.translucent)?En.fromTo("transform","translateX(0px)",Ie?"translateX(-100%)":"translateX(100%)"):En.fromTo(J,"var(--opacity)",0),lr&&!Ut){const rr=(0,a.c)();rr.addElement(fe(lr).querySelector(".button-text")).fromTo("transform",`translateX(${be})`,`translateX(${(Ie?-124:124)+"px"})`),Se.addAnimation(rr)}}else Ft||ce.fromTo("transform",`translateX(${be})`,`translateX(${Ne})`).fromTo(J,.99,0).afterClearStyles([xe,J]),tn.fromTo("transform",`translateX(${be})`,`translateX(${Ne})`).afterClearStyles([xe,J]),nr.afterClearStyles([J]),ce.afterClearStyles([J]),st.afterClearStyles([J])})}return Le}catch(le){throw le}}},6409:(un,ut,D)=>{"use strict";D.r(ut),D.d(ut,{mdTransitionAnimation:()=>Y});var a=D(6304),P=D(358);D(2361);const Y=(he,fe)=>{const ee="back"===fe.direction,re=fe.leavingEl,we=(0,P.g)(fe.enteringEl),oe=we.querySelector("ion-toolbar"),Ae=(0,a.c)();if(Ae.addElement(we).fill("both").beforeRemoveClass("ion-page-invisible"),ee?Ae.duration(fe.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ae.duration(fe.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),oe){const le=(0,a.c)();le.addElement(oe),Ae.addAnimation(le)}if(re&&ee){Ae.duration(fe.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const le=(0,a.c)();le.addElement((0,P.g)(re)).onFinish(J=>{1===J&&le.elements.length>0&&le.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ae.addAnimation(le)}return Ae}},3986:(un,ut,D)=>{"use strict";D.d(ut,{B:()=>ue,a:()=>q,b:()=>ee,c:()=>oe,d:()=>Fe,e:()=>le,f:()=>Re,g:()=>Ut,h:()=>fe,i:()=>_t,j:()=>_e,k:()=>ht,l:()=>W,m:()=>re,s:()=>Z,t:()=>Ae});var a=D(5861),P=D(8686),L=D(527),Y=D(206);let he=0;const fe=new WeakMap,se=Se=>({create:ce=>J(Se,ce),dismiss:(ce,st,mt)=>xt(document,ce,st,Se,mt),getTop:()=>(0,a.Z)(function*(){return ht(document,Se)})()}),q=se("ion-alert"),ee=se("ion-action-sheet"),W=se("ion-loading"),re=se("ion-modal"),oe=se("ion-popover"),Ae=se("ion-toast"),le=Se=>{"undefined"!=typeof document&&nt(document);const ce=he++;Se.overlayIndex=ce,Se.hasAttribute("id")||(Se.id=`ion-overlay-${ce}`)},J=(Se,ce)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Se).then(()=>{const st=document.createElement(Se);return st.classList.add("overlay-hidden"),Object.assign(st,Object.assign(Object.assign({},ce),{hasController:!0})),it(document).appendChild(st),new Promise(mt=>(0,Y.c)(st,mt))}):Promise.resolve(),xe='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',be="input:not([type=hidden]), textarea, button, select",_e=(Se,ce)=>{let st=Se.querySelector(xe);const mt=st&&st.shadowRoot;mt&&(st=mt.querySelector(be)||st),st?(0,Y.f)(st):ce.focus()},ke=(Se,ce)=>{const st=Array.from(Se.querySelectorAll(xe));let mt=st.length>0?st[st.length-1]:null;const Xe=mt&&mt.shadowRoot;Xe&&(mt=Xe.querySelector(be)||mt),mt?mt.focus():ce.focus()},nt=Se=>{0===he&&(he=1,Se.addEventListener("focus",ce=>{((Se,ce)=>{const st=ht(ce,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),mt=Se.target;st&&mt&&!st.classList.contains("ion-disable-focus-trap")&&(st.shadowRoot?(()=>{if(st.contains(mt))st.lastFocus=mt;else{const an=st.lastFocus;_e(st,st),an===ce.activeElement&&ke(st,st),st.lastFocus=ce.activeElement}})():(()=>{if(st===mt)st.lastFocus=void 0;else{const an=(0,Y.g)(st);if(!an.contains(mt))return;const tn=an.querySelector(".ion-overlay-wrapper");if(!tn)return;if(tn.contains(mt))st.lastFocus=mt;else{const Jt=st.lastFocus;_e(tn,st),Jt===ce.activeElement&&ke(tn,st),st.lastFocus=ce.activeElement}}})())})(ce,Se)},!0),Se.addEventListener("ionBackButton",ce=>{const st=ht(Se);st&&st.backdropDismiss&&ce.detail.register(L.OVERLAY_BACK_BUTTON_PRIORITY,()=>st.dismiss(void 0,ue))}),Se.addEventListener("keyup",ce=>{if("Escape"===ce.key){const st=ht(Se);st&&st.backdropDismiss&&st.dismiss(void 0,ue)}}))},xt=(Se,ce,st,mt,Xe)=>{const Ft=ht(Se,mt,Xe);return Ft?Ft.dismiss(ce,st):Promise.reject("overlay does not exist")},ht=(Se,ce,st)=>{const mt=((Se,ce)=>(void 0===ce&&(ce="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Se.querySelectorAll(ce)).filter(st=>st.overlayIndex>0)))(Se,ce).filter(Xe=>!(Se=>Se.classList.contains("overlay-hidden"))(Xe));return void 0===st?mt[mt.length-1]:mt.find(Xe=>Xe.id===st)},Ue=(Se=!1)=>{const st=it(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!st||(Se?st.setAttribute("aria-hidden","true"):st.removeAttribute("aria-hidden"))},Fe=function(){var Se=(0,a.Z)(function*(ce,st,mt,Xe,Ft){var an,tn;if(ce.presented)return;Ue(!0),ce.presented=!0,ce.willPresent.emit(),null===(an=ce.willPresentShorthand)||void 0===an||an.emit();const Jt=(0,P.b)(ce),En=ce.enterAnimation?ce.enterAnimation:P.c.get(st,"ios"===Jt?mt:Xe);(yield je(ce,En,ce.el,Ft))&&(ce.didPresent.emit(),null===(tn=ce.didPresentShorthand)||void 0===tn||tn.emit()),"ION-TOAST"!==ce.el.tagName&&Le(ce.el),ce.keyboardClose&&ce.el.focus()});return function(st,mt,Xe,Ft,an){return Se.apply(this,arguments)}}(),Le=function(){var Se=(0,a.Z)(function*(ce){let st=document.activeElement;if(!st)return;const mt=st&&st.shadowRoot;mt&&(st=mt.querySelector(be)||st),yield ce.onDidDismiss(),st.focus()});return function(st){return Se.apply(this,arguments)}}(),Re=function(){var Se=(0,a.Z)(function*(ce,st,mt,Xe,Ft,an,tn){var Jt,En;if(!ce.presented)return!1;Ue(!1),ce.presented=!1;try{ce.el.style.setProperty("pointer-events","none"),ce.willDismiss.emit({data:st,role:mt}),null===(Jt=ce.willDismissShorthand)||void 0===Jt||Jt.emit({data:st,role:mt});const nr=(0,P.b)(ce),lr=ce.leaveAnimation?ce.leaveAnimation:P.c.get(Xe,"ios"===nr?Ft:an);"gesture"!==mt&&(yield je(ce,lr,ce.el,tn)),ce.didDismiss.emit({data:st,role:mt}),null===(En=ce.didDismissShorthand)||void 0===En||En.emit({data:st,role:mt}),fe.delete(ce),ce.el.classList.add("overlay-hidden"),ce.el.style.removeProperty("pointer-events")}catch(nr){console.error(nr)}return ce.el.remove(),!0});return function(st,mt,Xe,Ft,an,tn,Jt){return Se.apply(this,arguments)}}(),it=Se=>Se.querySelector("ion-app")||Se.body,je=function(){var Se=(0,a.Z)(function*(ce,st,mt,Xe){mt.classList.remove("overlay-hidden");const an=st(ce.el,Xe);(!ce.animated||!P.c.getBoolean("animated",!0))&&an.duration(0),ce.keyboardClose&&an.beforeAddWrite(()=>{const Jt=mt.ownerDocument.activeElement;Jt&&Jt.matches("input,ion-input, ion-textarea")&&Jt.blur()});const tn=fe.get(ce)||[];return fe.set(ce,[...tn,an]),yield an.play(),!0});return function(st,mt,Xe,Ft){return Se.apply(this,arguments)}}(),Ut=(Se,ce)=>{let st;const mt=new Promise(Xe=>st=Xe);return Lt(Se,ce,Xe=>{st(Xe.detail)}),mt},Lt=(Se,ce,st)=>{const mt=Xe=>{(0,Y.b)(Se,ce,mt),st(Xe)};(0,Y.a)(Se,ce,mt)},_t=Se=>"cancel"===Se||Se===ue,ve=Se=>Se(),Z=(Se,ce)=>{if("function"==typeof Se)return P.c.get("_zoneGate",ve)(()=>{try{return Se(ce)}catch(mt){throw mt}})},ue="backdrop"},1332:(un,ut,D)=>{"use strict";D.d(ut,{e:()=>a});var a=(()=>{return(P=a||(a={})).UID="uid",P.TABS="/tabs",P.LOGIN="/login",P.ADMIN="/admin",P.TYPE="user",a;var P})()},4872:(un,ut,D)=>{"use strict";D.d(ut,{n:()=>a});class a{constructor(L,Y,he,fe,se,q){this.email=L,this.phone=Y,this.name=he,this.uid=fe,this.type=se,this.status=q}}},5593:(un,ut,D)=>{"use strict";D.d(ut,{s:()=>Rn});var a=D(655),P=D(127),L=D(3942),Y=D(5525),he=D(2090),fe=D(4859);function ee(ct,K){if(void 0===K)return{merge:!1};if(void 0!==K.mergeFields&&void 0!==K.merge)throw new Y.WA("invalid-argument",`Invalid options passed to function ${ct}(): You cannot specify both "merge" and "mergeFields".`);return K}function W(){if("undefined"==typeof Uint8Array)throw new Y.WA("unimplemented","Uint8Arrays are not available in this environment.")}function re(){if(!(0,Y.Me)())throw new Y.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class we{constructor(K){this._delegate=K}static fromBase64String(K){return re(),new we(Y.Jj.fromBase64String(K))}static fromUint8Array(K){return W(),new we(Y.Jj.fromUint8Array(K))}toBase64(){return re(),this._delegate.toBase64()}toUint8Array(){return W(),this._delegate.toUint8Array()}isEqual(K){return this._delegate.isEqual(K._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oe(ct){return function Ae(ct,K){if("object"!=typeof ct||null===ct)return!1;const de=ct;for(const gt of K)if(gt in de&&"function"==typeof de[gt])return!0;return!1}(ct,["next","error","complete"])}class le{enableIndexedDbPersistence(K,de){return(0,Y.ST)(K._delegate,{forceOwnership:de})}enableMultiTabIndexedDbPersistence(K){return(0,Y.fH)(K._delegate)}clearIndexedDbPersistence(K){return(0,Y.Fc)(K._delegate)}}class J{constructor(K,de,gt){this._delegate=de,this._persistenceProvider=gt,this.INTERNAL={delete:()=>this.terminate()},K instanceof Y.l7||(this._appCompat=K)}get _databaseId(){return this._delegate._databaseId}settings(K){const de=this._delegate._getSettings();!K.merge&&de.host!==K.host&&(0,Y.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),K.merge&&delete(K=Object.assign(Object.assign({},de),K)).merge,this._delegate._setSettings(K)}useEmulator(K,de,gt={}){(0,Y.at)(this._delegate,K,de,gt)}enableNetwork(){return(0,Y.Ix)(this._delegate)}disableNetwork(){return(0,Y.TF)(this._delegate)}enablePersistence(K){let de=!1,gt=!1;return K&&(de=!!K.synchronizeTabs,gt=!!K.experimentalForceOwningTab,(0,Y.Wi)("synchronizeTabs",de,"experimentalForceOwningTab",gt)),de?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,gt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Y.Mx)(this._delegate)}onSnapshotsInSync(K){return(0,Y.sc)(this._delegate,K)}get app(){if(!this._appCompat)throw new Y.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(K){try{return new it(this,(0,Y.hJ)(this._delegate,K))}catch(de){throw nt(de,"collection()","Firestore.collection()")}}doc(K){try{return new Ne(this,(0,Y.JU)(this._delegate,K))}catch(de){throw nt(de,"doc()","Firestore.doc()")}}collectionGroup(K){try{return new Fe(this,(0,Y.B$)(this._delegate,K))}catch(de){throw nt(de,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(K){return(0,Y.i3)(this._delegate,de=>K(new _e(this,de)))}batch(){return(0,Y.qY)(this._delegate),new Ie(new Y.PU(this._delegate,K=>(0,Y.GL)(this._delegate,K)))}loadBundle(K){return(0,Y.Pb)(this._delegate,K)}namedQuery(K){return(0,Y.L$)(this._delegate,K).then(de=>de?new Fe(this,de):null)}}class xe extends Y.u7{constructor(K){super(),this.firestore=K}convertBytes(K){return new we(new Y.Jj(K))}convertReference(K){const de=this.convertDocumentKey(K,this.firestore._databaseId);return Ne.forKey(de,this.firestore,null)}}class _e{constructor(K,de){this._firestore=K,this._delegate=de,this._userDataWriter=new xe(K)}get(K){const de=je(K);return this._delegate.get(de).then(gt=>new ht(this._firestore,new Y.xU(this._firestore._delegate,this._userDataWriter,gt._key,gt._document,gt.metadata,de.converter)))}set(K,de,gt){const Tt=je(K);return gt?(ee("Transaction.set",gt),this._delegate.set(Tt,de,gt)):this._delegate.set(Tt,de),this}update(K,de,gt,...Tt){const xn=je(K);return 2===arguments.length?this._delegate.update(xn,de):this._delegate.update(xn,de,gt,...Tt),this}delete(K){const de=je(K);return this._delegate.delete(de),this}}class Ie{constructor(K){this._delegate=K}set(K,de,gt){const Tt=je(K);return gt?(ee("WriteBatch.set",gt),this._delegate.set(Tt,de,gt)):this._delegate.set(Tt,de),this}update(K,de,gt,...Tt){const xn=je(K);return 2===arguments.length?this._delegate.update(xn,de):this._delegate.update(xn,de,gt,...Tt),this}delete(K){const de=je(K);return this._delegate.delete(de),this}commit(){return this._delegate.commit()}}class ke{constructor(K,de,gt){this._firestore=K,this._userDataWriter=de,this._delegate=gt}fromFirestore(K,de){const gt=new Y.$q(this._firestore._delegate,this._userDataWriter,K._key,K._document,K.metadata,null);return this._delegate.fromFirestore(new Ue(this._firestore,gt),null!=de?de:{})}toFirestore(K,de){return de?this._delegate.toFirestore(K,de):this._delegate.toFirestore(K)}static getInstance(K,de){const gt=ke.INSTANCES;let Tt=gt.get(K);Tt||(Tt=new WeakMap,gt.set(K,Tt));let xn=Tt.get(de);return xn||(xn=new ke(K,new xe(K),de),Tt.set(de,xn)),xn}}ke.INSTANCES=new WeakMap;class Ne{constructor(K,de){this.firestore=K,this._delegate=de,this._userDataWriter=new xe(K)}static forPath(K,de,gt){if(K.length%2!=0)throw new Y.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${K.canonicalString()} has ${K.length}`);return new Ne(de,new Y.my(de._delegate,gt,new Y.Ky(K)))}static forKey(K,de,gt){return new Ne(de,new Y.my(de._delegate,gt,K))}get id(){return this._delegate.id}get parent(){return new it(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(K){try{return new it(this.firestore,(0,Y.hJ)(this._delegate,K))}catch(de){throw nt(de,"collection()","DocumentReference.collection()")}}isEqual(K){return(K=(0,he.m9)(K))instanceof Y.my&&(0,Y.Eo)(this._delegate,K)}set(K,de){de=ee("DocumentReference.set",de);try{return de?(0,Y.pl)(this._delegate,K,de):(0,Y.pl)(this._delegate,K)}catch(gt){throw nt(gt,"setDoc()","DocumentReference.set()")}}update(K,de,...gt){try{return 1===arguments.length?(0,Y.r7)(this._delegate,K):(0,Y.r7)(this._delegate,K,de,...gt)}catch(Tt){throw nt(Tt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Y.oe)(this._delegate)}onSnapshot(...K){const de=xt(K),gt=Ge(K,Tt=>new ht(this.firestore,new Y.xU(this.firestore._delegate,this._userDataWriter,Tt._key,Tt._document,Tt.metadata,this._delegate.converter)));return(0,Y.cf)(this._delegate,de,gt)}get(K){let de;return de="cache"===(null==K?void 0:K.source)?(0,Y.kl)(this._delegate):"server"===(null==K?void 0:K.source)?(0,Y.Xk)(this._delegate):(0,Y.QT)(this._delegate),de.then(gt=>new ht(this.firestore,new Y.xU(this.firestore._delegate,this._userDataWriter,gt._key,gt._document,gt.metadata,this._delegate.converter)))}withConverter(K){return new Ne(this.firestore,this._delegate.withConverter(K?ke.getInstance(this.firestore,K):null))}}function nt(ct,K,de){return ct.message=ct.message.replace(K,de),ct}function xt(ct){for(const K of ct)if("object"==typeof K&&!oe(K))return K;return{}}function Ge(ct,K){var de,gt;let Tt;return Tt=oe(ct[0])?ct[0]:oe(ct[1])?ct[1]:"function"==typeof ct[0]?{next:ct[0],error:ct[1],complete:ct[2]}:{next:ct[1],error:ct[2],complete:ct[3]},{next:xn=>{Tt.next&&Tt.next(K(xn))},error:null===(de=Tt.error)||void 0===de?void 0:de.bind(Tt),complete:null===(gt=Tt.complete)||void 0===gt?void 0:gt.bind(Tt)}}class ht{constructor(K,de){this._firestore=K,this._delegate=de}get ref(){return new Ne(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(K){return this._delegate.data(K)}get(K,de){return this._delegate.get(K,de)}isEqual(K){return(0,Y.qK)(this._delegate,K._delegate)}}class Ue extends ht{data(K){const de=this._delegate.data(K);return(0,Y.K9)(void 0!==de,"Document in a QueryDocumentSnapshot should exist"),de}}class Fe{constructor(K,de){this.firestore=K,this._delegate=de,this._userDataWriter=new xe(K)}where(K,de,gt){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.ar)(K,de,gt)))}catch(Tt){throw nt(Tt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(K,de){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.Xo)(K,de)))}catch(gt){throw nt(gt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(K){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.b9)(K)))}catch(de){throw nt(de,"limit()","Query.limit()")}}limitToLast(K){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.vh)(K)))}catch(de){throw nt(de,"limitToLast()","Query.limitToLast()")}}startAt(...K){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.e0)(...K)))}catch(de){throw nt(de,"startAt()","Query.startAt()")}}startAfter(...K){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.TQ)(...K)))}catch(de){throw nt(de,"startAfter()","Query.startAfter()")}}endBefore(...K){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.Lx)(...K)))}catch(de){throw nt(de,"endBefore()","Query.endBefore()")}}endAt(...K){try{return new Fe(this.firestore,(0,Y.IO)(this._delegate,(0,Y.Wu)(...K)))}catch(de){throw nt(de,"endAt()","Query.endAt()")}}isEqual(K){return(0,Y.iE)(this._delegate,K._delegate)}get(K){let de;return de="cache"===(null==K?void 0:K.source)?(0,Y.UQ)(this._delegate):"server"===(null==K?void 0:K.source)?(0,Y.zN)(this._delegate):(0,Y.PL)(this._delegate),de.then(gt=>new Re(this.firestore,new Y.W(this.firestore._delegate,this._userDataWriter,this._delegate,gt._snapshot)))}onSnapshot(...K){const de=xt(K),gt=Ge(K,Tt=>new Re(this.firestore,new Y.W(this.firestore._delegate,this._userDataWriter,this._delegate,Tt._snapshot)));return(0,Y.cf)(this._delegate,de,gt)}withConverter(K){return new Fe(this.firestore,this._delegate.withConverter(K?ke.getInstance(this.firestore,K):null))}}class Le{constructor(K,de){this._firestore=K,this._delegate=de}get type(){return this._delegate.type}get doc(){return new Ue(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Re{constructor(K,de){this._firestore=K,this._delegate=de}get query(){return new Fe(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(K=>new Ue(this._firestore,K))}docChanges(K){return this._delegate.docChanges(K).map(de=>new Le(this._firestore,de))}forEach(K,de){this._delegate.forEach(gt=>{K.call(de,new Ue(this._firestore,gt))})}isEqual(K){return(0,Y.qK)(this._delegate,K._delegate)}}class it extends Fe{constructor(K,de){super(K,de),this.firestore=K,this._delegate=de}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const K=this._delegate.parent;return K?new Ne(this.firestore,K):null}doc(K){try{return new Ne(this.firestore,void 0===K?(0,Y.JU)(this._delegate):(0,Y.JU)(this._delegate,K))}catch(de){throw nt(de,"doc()","CollectionReference.doc()")}}add(K){return(0,Y.ET)(this._delegate,K).then(de=>new Ne(this.firestore,de))}isEqual(K){return(0,Y.Eo)(this._delegate,K._delegate)}withConverter(K){return new it(this.firestore,this._delegate.withConverter(K?ke.getInstance(this.firestore,K):null))}}function je(ct){return(0,Y.Cf)(ct,Y.my)}class Ut{constructor(...K){this._delegate=new Y.Lz(...K)}static documentId(){return new Ut(Y.Xb.keyField().canonicalString())}isEqual(K){return(K=(0,he.m9)(K))instanceof Y.Lz&&this._delegate._internalPath.isEqual(K._internalPath)}}class Lt{constructor(K){this._delegate=K}static serverTimestamp(){const K=(0,Y.Bt)();return K._methodName="FieldValue.serverTimestamp",new Lt(K)}static delete(){const K=(0,Y.AK)();return K._methodName="FieldValue.delete",new Lt(K)}static arrayUnion(...K){const de=(0,Y.vr)(...K);return de._methodName="FieldValue.arrayUnion",new Lt(de)}static arrayRemove(...K){const de=(0,Y.Ab)(...K);return de._methodName="FieldValue.arrayRemove",new Lt(de)}static increment(K){const de=(0,Y.nP)(K);return de._methodName="FieldValue.increment",new Lt(de)}isEqual(K){return this._delegate.isEqual(K._delegate)}}const _t={Firestore:J,GeoPoint:Y.F8,Timestamp:Y.EK,Blob:we,Transaction:_e,WriteBatch:Ie,DocumentReference:Ne,DocumentSnapshot:ht,Query:Fe,QueryDocumentSnapshot:Ue,QuerySnapshot:Re,CollectionReference:it,FieldPath:Ut,FieldValue:Lt,setLogLevel:function be(ct){(0,Y.Ub)(ct)},CACHE_SIZE_UNLIMITED:Y.IX};!function Z(ct){(function ve(ct,K){ct.INTERNAL.registerComponent(new fe.wA("firestore-compat",de=>{const gt=de.getProvider("app-compat").getImmediate(),Tt=de.getProvider("firestore").getImmediate();return K(gt,Tt)},"PUBLIC").setServiceProps(Object.assign({},_t)))})(ct,(K,de)=>new J(K,de,new le)),ct.registerVersion("@firebase/firestore-compat","0.1.16")}(L.Z);var ue=D(3883),Se=D(3562),ce=D(2731),st=D(6591),mt=D(2480),Xe=D(9863),Ft=D(353),an=D(2916),tn=D(5254),Jt=D(1086),En=D(9500),nr=D(1059),lr=D(3489);function Jn(){return ct=>ct.lift(new rr)}class rr{call(K,de){return de.subscribe(new or(K))}}class or extends lr.L{constructor(K){super(K),this.hasPrev=!1}_next(K){let de;this.hasPrev?de=[this.prev,K]:this.hasPrev=!0,this.prev=K,de&&this.destination.next(de)}}var Hn=D(4850),Vn=D(2014),Zt=D(5778),cr=D(2198),ar=D(2011),Mt=D(9808),$e=(D(5881),D(8929)),Pt=D(6787),bt=D(7770),zt=D(7545),Kt=D(341),Gn=D(2654),Wn=D(5279),Qn=D(5283);class mr extends $e.xQ{constructor(K=Number.POSITIVE_INFINITY,de=Number.POSITIVE_INFINITY,gt){super(),this.scheduler=gt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=K<1?1:K,this._windowTime=de<1?1:de,de===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(K){if(!this.isStopped){const de=this._events;de.push(K),de.length>this._bufferSize&&de.shift()}super.next(K)}nextTimeWindow(K){this.isStopped||(this._events.push(new dr(this._getNow(),K)),this._trimBufferThenGetEvents()),super.next(K)}_subscribe(K){const de=this._infiniteTimeWindow,gt=de?this._events:this._trimBufferThenGetEvents(),Tt=this.scheduler,xn=gt.length;let On;if(this.closed)throw new Wn.N;if(this.isStopped||this.hasError?On=Gn.w.EMPTY:(this.observers.push(K),On=new Qn.W(this,K)),Tt&&K.add(K=new bt.ht(K,Tt)),de)for(let Sn=0;Sn<xn&&!K.closed;Sn++)K.next(gt[Sn]);else for(let Sn=0;Sn<xn&&!K.closed;Sn++)K.next(gt[Sn].value);return this.hasError?K.error(this.thrownError):this.isStopped&&K.complete(),On}_getNow(){return(this.scheduler||Kt.c).now()}_trimBufferThenGetEvents(){const K=this._getNow(),de=this._bufferSize,gt=this._windowTime,Tt=this._events,xn=Tt.length;let On=0;for(;On<xn&&!(K-Tt[On].time<gt);)On++;return xn>de&&(On=Math.max(On,xn-de)),On>0&&Tt.splice(0,On),Tt}}class dr{constructor(K,de){this.time=K,this.value=de}}function bn(ct,K,de){let gt;return gt=ct&&"object"==typeof ct?ct:{bufferSize:ct,windowTime:K,refCount:!1,scheduler:de},Tt=>Tt.lift(function Nn({bufferSize:ct=Number.POSITIVE_INFINITY,windowTime:K=Number.POSITIVE_INFINITY,refCount:de,scheduler:gt}){let Tt,On,xn=0,Sn=!1,fr=!1;return function(Br){let Rr;xn++,!Tt||Sn?(Sn=!1,Tt=new mr(ct,K,gt),Rr=Tt.subscribe(this),On=Br.subscribe({next(N){Tt.next(N)},error(N){Sn=!0,Tt.error(N)},complete(){fr=!0,On=void 0,Tt.complete()}}),fr&&(On=void 0)):Rr=Tt.subscribe(this),this.add(()=>{xn--,Rr.unsubscribe(),Rr=void 0,On&&!fr&&de&&0===xn&&(On.unsubscribe(),On=void 0,Tt=void 0)})}}(gt))}var ur=D(7224);function dn(ct,K){return K?(0,zt.w)(()=>ct,K):(0,zt.w)(()=>ct)}var Nt=D(8915),Dt=D(7128);const Tn=new Xe.OlP("angularfire2.auth.use-emulator"),Kn=new Xe.OlP("angularfire2.auth.settings"),$n=new Xe.OlP("angularfire2.auth.tenant-id"),Ke=new Xe.OlP("angularfire2.auth.langugage-code"),Be=new Xe.OlP("angularfire2.auth.use-device-language"),Qe=new Xe.OlP("angularfire.auth.persistence"),vt=(ct,K,de,gt,Tt,xn,On,Sn)=>(0,ar.cc)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const fr=K.runOutsideAngular(()=>ct.auth());if(de&&fr.useEmulator(...de),gt&&(fr.tenantId=gt),fr.languageCode=Tt,xn&&fr.useDeviceLanguage(),On)for(const[Cr,Br]of Object.entries(On))fr.settings[Cr]=Br;return Sn&&fr.setPersistence(Sn),fr},[de,gt,Tt,xn,On,Sn]);let ye=(()=>{class ct{constructor(de,gt,Tt,xn,On,Sn,fr,Cr,Br,Rr,N,U){const V=new $e.xQ,ne=(0,Jt.of)(void 0).pipe((0,bt.QV)(On.outsideAngular),(0,zt.w)(()=>xn.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,5881)))),(0,Hn.U)(()=>(0,ar.on)(de,xn,gt)),(0,Hn.U)(De=>vt(De,xn,Sn,Cr,Br,Rr,fr,N)),bn({bufferSize:1,refCount:!1}));if((0,Mt.PM)(Tt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Jt.of)(null);else{ne.pipe((0,ur.P)()).subscribe();const Je=ne.pipe((0,zt.w)(yt=>yt.getRedirectResult().then($t=>$t,()=>null)),En.iC,bn({bufferSize:1,refCount:!1})),Et=ne.pipe((0,zt.w)(yt=>new an.y($t=>({unsubscribe:xn.runOutsideAngular(()=>yt.onAuthStateChanged(wn=>$t.next(wn),wn=>$t.error(wn),()=>$t.complete()))})))),St=ne.pipe((0,zt.w)(yt=>new an.y($t=>({unsubscribe:xn.runOutsideAngular(()=>yt.onIdTokenChanged(wn=>$t.next(wn),wn=>$t.error(wn),()=>$t.complete()))}))));this.authState=Je.pipe(dn(Et),(0,Nt.R)(On.outsideAngular),(0,bt.QV)(On.insideAngular)),this.user=Je.pipe(dn(St),(0,Nt.R)(On.outsideAngular),(0,bt.QV)(On.insideAngular)),this.idToken=this.user.pipe((0,zt.w)(yt=>yt?(0,tn.D)(yt.getIdToken()):(0,Jt.of)(null))),this.idTokenResult=this.user.pipe((0,zt.w)(yt=>yt?(0,tn.D)(yt.getIdTokenResult()):(0,Jt.of)(null))),this.credential=(0,Pt.T)(Je,V,this.authState.pipe((0,cr.h)(yt=>!yt))).pipe((0,Hn.U)(yt=>(null==yt?void 0:yt.user)?yt:null),(0,Nt.R)(On.outsideAngular),(0,bt.QV)(On.insideAngular))}return(0,ar.pX)(this,ne,xn,{spy:{apply:(De,Je,Et)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&Et.then(St=>V.next(St))}}})}}return ct.\u0275fac=function(de){return new(de||ct)(Xe.LFG(ar.Dh),Xe.LFG(ar.xv,8),Xe.LFG(Xe.Lbi),Xe.LFG(Xe.R0b),Xe.LFG(En.HU),Xe.LFG(Tn,8),Xe.LFG(Kn,8),Xe.LFG($n,8),Xe.LFG(Ke,8),Xe.LFG(Be,8),Xe.LFG(Qe,8),Xe.LFG(Dt.nm,8))},ct.\u0275prov=Xe.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"any"}),ct})();function wt(ct,K){return function Te(ct,K=Ft.z){return new an.y(de=>{let gt;return null!=K?K.schedule(()=>{gt=ct.onSnapshot({includeMetadataChanges:!0},de)}):gt=ct.onSnapshot({includeMetadataChanges:!0},de),()=>{null!=gt&&gt()}})}(ct,K)}function vn(ct,K){return wt(ct,K).pipe((0,Hn.U)(de=>({payload:de,type:"query"})))}function Zn(ct,K){return vn(ct,K).pipe((0,nr.O)(void 0),Jn(),(0,Hn.U)(([de,gt])=>{const Tt=gt.payload.docChanges(),xn=Tt.map(On=>({type:On.type,payload:On}));return de&&JSON.stringify(de.payload.metadata)!==JSON.stringify(gt.payload.metadata)&&gt.payload.docs.forEach((On,Sn)=>{const fr=Tt.find(Br=>Br.doc.ref.isEqual(On.ref)),Cr=null==de?void 0:de.payload.docs.find(Br=>Br.ref.isEqual(On.ref));fr&&JSON.stringify(fr.doc.metadata)===JSON.stringify(On.metadata)||!fr&&Cr&&JSON.stringify(Cr.metadata)===JSON.stringify(On.metadata)||xn.push({type:"modified",payload:{oldIndex:Sn,newIndex:Sn,type:"modified",doc:On}})}),xn}))}function gn(ct,K,de){return Zn(ct,de).pipe((0,Vn.R)((gt,Tt)=>function zn(ct,K,de){return K.forEach(gt=>{de.indexOf(gt.type)>-1&&(ct=function Tr(ct,K){switch(K.type){case"added":if(!ct[K.newIndex]||!ct[K.newIndex].doc.ref.isEqual(K.doc.ref))return ir(ct,K.newIndex,0,K);break;case"modified":if(null==ct[K.oldIndex]||ct[K.oldIndex].doc.ref.isEqual(K.doc.ref)){if(K.oldIndex!==K.newIndex){const de=ct.slice();return de.splice(K.oldIndex,1),de.splice(K.newIndex,0,K),de}return ir(ct,K.newIndex,1,K)}break;case"removed":if(ct[K.oldIndex]&&ct[K.oldIndex].doc.ref.isEqual(K.doc.ref))return ir(ct,K.oldIndex,1)}return ct}(ct,gt))}),ct}(gt,Tt.map(xn=>xn.payload),K),[]),(0,Zt.x)(),(0,Hn.U)(gt=>gt.map(Tt=>({type:Tt.type,payload:Tt}))))}function ir(ct,K,de,...gt){const Tt=ct.slice();return Tt.splice(K,de,...gt),Tt}function Ht(ct){return(!ct||0===ct.length)&&(ct=["added","removed","modified"]),ct}class Oe{constructor(K,de,gt){this.ref=K,this.query=de,this.afs=gt}stateChanges(K){let de=Zn(this.query,this.afs.schedulers.outsideAngular);return K&&K.length>0&&(de=de.pipe((0,Hn.U)(gt=>gt.filter(Tt=>K.indexOf(Tt.type)>-1)))),de.pipe((0,nr.O)(void 0),Jn(),(0,cr.h)(([gt,Tt])=>Tt.length>0||!gt),(0,Hn.U)(([gt,Tt])=>Tt),En.iC)}auditTrail(K){return this.stateChanges(K).pipe((0,Vn.R)((de,gt)=>[...de,...gt],[]))}snapshotChanges(K){const de=Ht(K);return gn(this.query,de,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(K={}){return vn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Hn.U)(de=>de.payload.docs.map(gt=>K.idField?Object.assign(Object.assign({},gt.data()),{[K.idField]:gt.id}):gt.data())),En.iC)}get(K){return(0,tn.D)(this.query.get(K)).pipe(En.iC)}add(K){return this.ref.add(K)}doc(K){return new ot(this.ref.doc(K),this.afs)}}class ot{constructor(K,de){this.ref=K,this.afs=de}set(K,de){return this.ref.set(K,de)}update(K){return this.ref.update(K)}delete(){return this.ref.delete()}collection(K,de){const gt=this.ref.collection(K),{ref:Tt,query:xn}=Gt(gt,de);return new Oe(Tt,xn,this.afs)}snapshotChanges(){return function Qt(ct,K){return wt(ct,K).pipe((0,nr.O)(void 0),Jn(),(0,Hn.U)(([de,gt])=>gt.exists?(null==de?void 0:de.exists)?{payload:gt,type:"modified"}:{payload:gt,type:"added"}:{payload:gt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(K={}){return this.snapshotChanges().pipe((0,Hn.U)(({payload:de})=>K.idField?Object.assign(Object.assign({},de.data()),{[K.idField]:de.id}):de.data()))}get(K){return(0,tn.D)(this.ref.get(K)).pipe(En.iC)}}class qt{constructor(K,de){this.query=K,this.afs=de}stateChanges(K){return K&&0!==K.length?Zn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Hn.U)(de=>de.filter(gt=>K.indexOf(gt.type)>-1)),(0,cr.h)(de=>de.length>0),En.iC):Zn(this.query,this.afs.schedulers.outsideAngular).pipe(En.iC)}auditTrail(K){return this.stateChanges(K).pipe((0,Vn.R)((de,gt)=>[...de,...gt],[]))}snapshotChanges(K){const de=Ht(K);return gn(this.query,de,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(K={}){return vn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Hn.U)(gt=>gt.payload.docs.map(Tt=>K.idField?Object.assign({[K.idField]:Tt.id},Tt.data()):Tt.data())),En.iC)}get(K){return(0,tn.D)(this.query.get(K)).pipe(En.iC)}}const on=new Xe.OlP("angularfire2.enableFirestorePersistence"),mn=new Xe.OlP("angularfire2.firestore.persistenceSettings"),ze=new Xe.OlP("angularfire2.firestore.settings"),At=new Xe.OlP("angularfire2.firestore.use-emulator");function Gt(ct,K=(de=>de)){return{query:K(ct),ref:ct}}let Rt=(()=>{class ct{constructor(de,gt,Tt,xn,On,Sn,fr,Cr,Br,Rr,N,U,V,ne,De,Je,Et){this.schedulers=fr;const St=(0,ar.on)(de,Sn,gt),yt=Br;Rr&&vt(St,Sn,N,V,ne,De,U,Je),[this.firestore,this.persistenceEnabled$]=(0,ar.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const $t=Sn.runOutsideAngular(()=>St.firestore());if(xn&&$t.settings(xn),yt&&$t.useEmulator(...yt),Tt&&!(0,Mt.PM)(On)){const wn=()=>{try{return(0,tn.D)($t.enablePersistence(Cr||void 0).then(()=>!0,()=>!1))}catch(Pn){return"undefined"!=typeof console&&console.warn(Pn),(0,Jt.of)(!1)}};return[$t,Sn.runOutsideAngular(wn)]}return[$t,(0,Jt.of)(!1)]},[xn,yt,Tt])}collection(de,gt){let Tt;Tt="string"==typeof de?this.firestore.collection(de):de;const{ref:xn,query:On}=Gt(Tt,gt),Sn=this.schedulers.ngZone.run(()=>xn);return new Oe(Sn,On,this)}collectionGroup(de,gt){const Tt=gt||(On=>On),xn=this.firestore.collectionGroup(de);return new qt(Tt(xn),this)}doc(de){let gt;gt="string"==typeof de?this.firestore.doc(de):de;const Tt=this.schedulers.ngZone.run(()=>gt);return new ot(Tt,this)}createId(){return this.firestore.collection("_").doc().id}}return ct.\u0275fac=function(de){return new(de||ct)(Xe.LFG(ar.Dh),Xe.LFG(ar.xv,8),Xe.LFG(on,8),Xe.LFG(ze,8),Xe.LFG(Xe.Lbi),Xe.LFG(Xe.R0b),Xe.LFG(En.HU),Xe.LFG(mn,8),Xe.LFG(At,8),Xe.LFG(ye,8),Xe.LFG(Tn,8),Xe.LFG(Kn,8),Xe.LFG($n,8),Xe.LFG(Ke,8),Xe.LFG(Be,8),Xe.LFG(Qe,8),Xe.LFG(Dt.nm,8))},ct.\u0275prov=Xe.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"any"}),ct})(),Rn=(()=>{class ct{constructor(de,gt,Tt){this.adb=de,this.firestore=gt,this.storage=Tt,this.radius=20,this.firestoreDB=P.Z.firestore(),this.db=(0,ce.ad)(),this.GeoFirestore=ue.initializeApp(this.firestoreDB)}getGeoPoint(de,gt){return new ce.F8(de,gt)}collectionRef(de){return(0,Se.hJ)(this.firestore,de)}docRef(de){return(0,Se.JU)(this.firestore,de)}document(de){return(0,Se.JU)(this.db,de)}collectionDataQuery(de,gt){let xn,Tt=this.collectionRef(de);return xn=gt?(0,Se.BS)(Tt,{idField:"id"}):(0,Se.BS)(Tt),xn}getDocs(de,gt){let Tt=this.collectionRef(de);return gt&&(Tt=(0,Se.IO)(Tt,gt)),(0,Se.PL)(Tt)}searchRestaurantByName(de,gt){let Tt=this.collectionRef("restaurants");const xn=(0,Se.IO)(Tt,(0,Se.Xo)("short_name"),(0,Se.e0)(de),(0,Se.Wu)(gt));return(0,Se.PL)(xn)}getDocById(de){const gt=this.docRef(de);return(0,Se.QT)(gt)}getDocByReference(de){return(0,Se.QT)(de)}addDocument(de,gt){const Tt=this.collectionRef(de);return(0,Se.ET)(Tt,gt)}setDocument(de,gt){const Tt=this.docRef(de);return(0,Se.pl)(Tt,gt)}updateDocument(de,gt){const Tt=this.docRef(de);return(0,Se.r7)(Tt,gt)}deleteDocument(de){const gt=this.docRef(de);return(0,Se.oe)(gt)}limitQuery(de){return(0,Se.b9)(de)}whereQuery(de,gt,Tt){return(0,Se.ar)(de,gt,Tt)}uploadImage(de,gt){return(0,a.mG)(this,void 0,void 0,function*(){try{const Tt=(0,st.iH)(this.storage,gt);return yield(0,mt.KV)(Tt,de),(0,st.Jt)(Tt)}catch(Tt){throw Tt}})}geoCollection(de){return this.GeoFirestore.collection(de)}randomString(){return Math.floor(1e8+9e8*Math.random()).toString()}getCities(){return(0,a.mG)(this,void 0,void 0,function*(){try{const gt=yield(yield this.getDocs("cities")).docs.map(Tt=>{let xn=Tt.data();return xn.uid=Tt.id,xn});return console.log(gt),gt}catch(de){throw de}})}}return ct.\u0275fac=function(de){return new(de||ct)(Xe.LFG(Rt),Xe.LFG(Se.gg),Xe.LFG(st.Ke))},ct.\u0275prov=Xe.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})()},1228:(un,ut,D)=>{"use strict";D.d(ut,{e:()=>we});var a=D(655),P=D(7667),L=D(591),Y=D(1332),he=D(4872),fe=D(2340),se=D(9863),q=D(2998),ee=D(5593),W=D(520);class re{constructor(Ae){this.uid=Ae}}let we=(()=>{class oe{constructor(le,J,xe,be){this.storage=le,this.fireAuth=J,this.apiService=xe,this.http=be,this._uid=new L.X(oe.UNKNOWN_USER)}login(le,J){return(0,a.mG)(this,void 0,void 0,function*(){try{const xe=yield(0,P.e5)(this.fireAuth,le,J);if(console.log(xe),xe.user){const be=yield this.getUserData(xe.user.uid);return(null==be?void 0:be.type)==Y.e.TYPE||"admin"==(null==be?void 0:be.type)?(this.setUserData(xe.user.uid),be.type):(yield this.logout(),!1)}}catch(xe){throw xe}})}getId(){return(0,a.mG)(this,void 0,void 0,function*(){const le=this._uid.value;return console.log("auth user id: ",null==le?void 0:le.uid),(null==le?void 0:le.uid)?le.uid:(yield this.storage.getStorage(Y.e.UID)).value})}setUserData(le){this.storage.setStorage(Y.e.UID,le),this._uid.next(new re(le))}register(le,J){return(0,a.mG)(this,void 0,void 0,function*(){try{const xe=yield(0,P.Xb)(this.fireAuth,le.email,le.password);console.log("registered user: ",xe);const be=new he.n(le.email,le.phone,le.name,xe.user.uid,J||"user","active");return yield this.apiService.setDocument(`users/${xe.user.uid}`,Object.assign({},be)),(!J||"restaurant"!=J)&&(yield this.setUserData(xe.user.uid)),{id:xe.user.uid,type:J||"user"}}catch(xe){throw xe}})}createUser(le,J){return(0,a.mG)(this,void 0,void 0,function*(){try{const xe=yield this.http.post(`https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${fe.N.firebase.apiKey}`,{email:le.email,password:le.password}).toPromise();console.log("registered user: ",xe);const be=xe.localId,_e=new he.n(le.email,le.phone,le.name,be,J,"active");return yield this.apiService.setDocument(`users/${be}`,Object.assign({},_e)),{id:be,type:J}}catch(xe){throw xe}})}resetPassword(le){return(0,a.mG)(this,void 0,void 0,function*(){try{yield(0,P.LS)(this.fireAuth,le)}catch(J){throw J}})}logout(){return(0,a.mG)(this,void 0,void 0,function*(){try{return yield this.fireAuth.signOut(),yield this.storage.removeStorage(Y.e.UID),this._uid.next(oe.UNKNOWN_USER),!0}catch(le){throw le}})}updateEmail(le,J,xe){return(0,a.mG)(this,void 0,void 0,function*(){try{const be=yield(0,P.e5)(this.fireAuth,le,xe);yield(0,P.s)(be.user,J)}catch(be){throw console.log(be),be}})}checkAuth(){return new Promise((le,J)=>{(0,P.Aj)(this.fireAuth,xe=>{console.log("auth user: ",xe),le(xe)})})}checkUserAuth(){return(0,a.mG)(this,void 0,void 0,function*(){try{const le=yield this.checkAuth();if(le){this.setUserData(le.uid);const J=yield this.getUserData(le.uid);return!!J&&J.type}return!1}catch(le){throw le}})}getUserData(le){return(0,a.mG)(this,void 0,void 0,function*(){const J=yield this.apiService.getDocById(`users/${le}`);if(null==J?void 0:J.exists())return J.data();throw"No such document exists"})}}return oe.UNKNOWN_USER=null,oe.\u0275fac=function(le){return new(le||oe)(se.LFG(q.V),se.LFG(P.gx),se.LFG(ee.s),se.LFG(W.eN))},oe.\u0275prov=se.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},7020:(un,ut,D)=>{"use strict";D.d(ut,{U:()=>re});var a=D(655),P=D(4464),L=D(7423),Y=(()=>{return(we=Y||(Y={})).Dark="DARK",we.Light="LIGHT",we.Default="DEFAULT",Y;var we})();const q=(0,L.fo)("StatusBar");var ee=D(9863),W=D(7110);let re=(()=>{class we{constructor(Ae,le,J,xe){this.alertCtrl=Ae,this.toastCtrl=le,this.loadingCtrl=J,this.modalCtrl=xe,this.isLoading=!1}setLoader(){this.isLoading=!this.isLoading}showAlert(Ae,le,J,xe){this.alertCtrl.create({header:le||"Authentication failed",message:Ae,inputs:xe||[],buttons:J||["Okay"]}).then(be=>be.present())}showToast(Ae,le,J,xe=3e3){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:Ae,duration:xe,color:le,position:J})).present()})}errorToast(Ae,le=4e3){this.showToast(Ae||"No Internet Connection","danger","bottom",le)}successToast(Ae){this.showToast(Ae,"success","bottom")}showLoader(Ae,le){return this.isLoading||this.setLoader(),this.loadingCtrl.create({message:Ae,spinner:le||"bubbles"}).then(J=>{J.present().then(()=>{this.isLoading||J.dismiss().then(()=>{console.log("abort presenting")})})}).catch(J=>{console.log("show loading error: ",J)})}hideLoader(){return this.isLoading&&this.setLoader(),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(Ae=>console.log("error hide loader: ",Ae))}createModal(Ae){return(0,a.mG)(this,void 0,void 0,function*(){const le=yield this.modalCtrl.create(Ae);yield le.present();const{data:J}=yield le.onWillDismiss();if(console.log(J),J)return J})}modalDismiss(Ae){let le=Ae||null;console.log("data",le),this.modalCtrl.dismiss(le)}getIcon(Ae){switch(Ae.toLowerCase()){case"home":return"home-outline";case"work":return"briefcase-outline";default:return"location-outline"}}customStatusbar(Ae){return(0,a.mG)(this,void 0,void 0,function*(){"web"!=L.dV.getPlatform()&&(yield q.setStyle({style:Ae?Y.Dark:Y.Light}),(0,P.n$)("android")&&q.setBackgroundColor({color:Ae?"#de0f17":"#ffffff"}))})}}return we.\u0275fac=function(Ae){return new(Ae||we)(ee.LFG(W.Br),ee.LFG(W.yF),ee.LFG(W.HT),ee.LFG(W.IN))},we.\u0275prov=ee.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},2998:(un,ut,D)=>{"use strict";D.d(ut,{V:()=>Y});const P=(0,D(7423).fo)("Storage",{web:()=>D.e(8913).then(D.bind(D,8913)).then(he=>new he.StorageWeb)});var L=D(9863);let Y=(()=>{class he{constructor(){}setStorage(se,q){P.set({key:se,value:q})}getStorage(se){return P.get({key:se})}removeStorage(se){P.remove({key:se})}clearStorage(){P.clear()}}return he.\u0275fac=function(se){return new(se||he)},he.\u0275prov=L.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},2340:(un,ut,D)=>{"use strict";D.d(ut,{N:()=>a});const a={production:!0,firebase:{projectId:"foodely",appId:"1:690076438465:web:2c819972a71e3575922940",storageBucket:"foodely.appspot.com",locationId:"",apiKey:"AIzaSyBp4y47TmE5Q7PQSOHuB6srFSVd4z-2ZzY",authDomain:"foodely.firebaseapp.com",messagingSenderId:"690076438465",measurementId:"G-S0K5XLS03L"},googleMapsApiKey:"AIzaSyBQ2zIaeVYCkkUy-YsD7GDdyCdYkTdIkhM"}},6958:(un,ut,D)=>{"use strict";var a=D(9808),P=D(9863);class L extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y extends L{static makeCurrent(){(0,a.HT)(new Y)}onAndCancel(me,te,rt){return me.addEventListener(te,rt,!1),()=>{me.removeEventListener(te,rt,!1)}}dispatchEvent(me,te){me.dispatchEvent(te)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,te){return(te=te||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,te){return"window"===te?window:"document"===te?me:"body"===te?me.body:null}getBaseHref(me){const te=function fe(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==te?null:function q(Ee){se=se||document.createElement("a"),se.setAttribute("href",Ee);const me=se.pathname;return"/"===me.charAt(0)?me:`/${me}`}(te)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,a.Mx)(document.cookie,me)}}let se,he=null;const ee=new P.OlP("TRANSITION_ID"),re=[{provide:P.ip1,useFactory:function W(Ee,me,te){return()=>{te.get(P.CZH).donePromise.then(()=>{const rt=(0,a.q)(),It=me.querySelectorAll(`style[ng-transition="${Ee}"]`);for(let An=0;An<It.length;An++)rt.remove(It[An])})}},deps:[ee,a.K0,P.zs3],multi:!0}];class we{static init(){(0,P.VLi)(new we)}addToWindow(me){P.dqk.getAngularTestability=(rt,It=!0)=>{const An=me.findTestabilityInTree(rt,It);if(null==An)throw new Error("Could not find testability for element.");return An},P.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),P.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),P.dqk.frameworkStabilizers||(P.dqk.frameworkStabilizers=[]),P.dqk.frameworkStabilizers.push(rt=>{const It=P.dqk.getAllAngularTestabilities();let An=It.length,tr=!1;const xr=function(qr){tr=tr||qr,An--,0==An&&rt(tr)};It.forEach(function(qr){qr.whenStable(xr)})})}findTestabilityInTree(me,te,rt){if(null==te)return null;const It=me.getTestability(te);return null!=It?It:rt?(0,a.q)().isShadowRoot(te)?this.findTestabilityInTree(me,te.host,!0):this.findTestabilityInTree(me,te.parentElement,!0):null}}let oe=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ae=new P.OlP("EventManagerPlugins");let le=(()=>{class Ee{constructor(te,rt){this._zone=rt,this._eventNameToPlugin=new Map,te.forEach(It=>It.manager=this),this._plugins=te.slice().reverse()}addEventListener(te,rt,It){return this._findPluginFor(rt).addEventListener(te,rt,It)}addGlobalEventListener(te,rt,It){return this._findPluginFor(rt).addGlobalEventListener(te,rt,It)}getZone(){return this._zone}_findPluginFor(te){const rt=this._eventNameToPlugin.get(te);if(rt)return rt;const It=this._plugins;for(let An=0;An<It.length;An++){const tr=It[An];if(tr.supports(te))return this._eventNameToPlugin.set(te,tr),tr}throw new Error(`No event manager plugin found for event ${te}`)}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(Ae),P.LFG(P.R0b))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class J{constructor(me){this._doc=me}addGlobalEventListener(me,te,rt){const It=(0,a.q)().getGlobalEventTarget(this._doc,me);if(!It)throw new Error(`Unsupported event target ${It} for event ${te}`);return this.addEventListener(It,te,rt)}}let xe=(()=>{class Ee{constructor(){this._stylesSet=new Set}addStyles(te){const rt=new Set;te.forEach(It=>{this._stylesSet.has(It)||(this._stylesSet.add(It),rt.add(It))}),this.onStylesAdded(rt)}onStylesAdded(te){}getAllStyles(){return Array.from(this._stylesSet)}}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),be=(()=>{class Ee extends xe{constructor(te){super(),this._doc=te,this._hostNodes=new Map,this._hostNodes.set(te.head,[])}_addStylesToHost(te,rt,It){te.forEach(An=>{const tr=this._doc.createElement("style");tr.textContent=An,It.push(rt.appendChild(tr))})}addHost(te){const rt=[];this._addStylesToHost(this._stylesSet,te,rt),this._hostNodes.set(te,rt)}removeHost(te){const rt=this._hostNodes.get(te);rt&&rt.forEach(_e),this._hostNodes.delete(te)}onStylesAdded(te){this._hostNodes.forEach((rt,It)=>{this._addStylesToHost(te,It,rt)})}ngOnDestroy(){this._hostNodes.forEach(te=>te.forEach(_e))}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(a.K0))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();function _e(Ee){(0,a.q)().remove(Ee)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g;function Fe(Ee,me,te){for(let rt=0;rt<me.length;rt++){let It=me[rt];Array.isArray(It)?Fe(Ee,It,te):(It=It.replace(ke,Ee),te.push(It))}return te}function Le(Ee){return me=>{if("__ngUnwrap__"===me)return Ee;!1===Ee(me)&&(me.preventDefault(),me.returnValue=!1)}}let it=(()=>{class Ee{constructor(te,rt,It){this.eventManager=te,this.sharedStylesHost=rt,this.appId=It,this.rendererByCompId=new Map,this.defaultRenderer=new je(te)}createRenderer(te,rt){if(!te||!rt)return this.defaultRenderer;switch(rt.encapsulation){case P.ifc.Emulated:{let It=this.rendererByCompId.get(rt.id);return It||(It=new _t(this.eventManager,this.sharedStylesHost,rt,this.appId),this.rendererByCompId.set(rt.id,It)),It.applyToHost(te),It}case 1:case P.ifc.ShadowDom:return new ve(this.eventManager,this.sharedStylesHost,te,rt);default:if(!this.rendererByCompId.has(rt.id)){const It=Fe(rt.id,rt.styles,[]);this.sharedStylesHost.addStyles(It),this.rendererByCompId.set(rt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(le),P.LFG(be),P.LFG(P.AFp))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class je{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,te){return te?document.createElementNS(Ie[te]||te,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,te){me.appendChild(te)}insertBefore(me,te,rt){me&&me.insertBefore(te,rt)}removeChild(me,te){me&&me.removeChild(te)}selectRootElement(me,te){let rt="string"==typeof me?document.querySelector(me):me;if(!rt)throw new Error(`The selector "${me}" did not match any elements`);return te||(rt.textContent=""),rt}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,te,rt,It){if(It){te=It+":"+te;const An=Ie[It];An?me.setAttributeNS(An,te,rt):me.setAttribute(te,rt)}else me.setAttribute(te,rt)}removeAttribute(me,te,rt){if(rt){const It=Ie[rt];It?me.removeAttributeNS(It,te):me.removeAttribute(`${rt}:${te}`)}else me.removeAttribute(te)}addClass(me,te){me.classList.add(te)}removeClass(me,te){me.classList.remove(te)}setStyle(me,te,rt,It){It&(P.JOm.DashCase|P.JOm.Important)?me.style.setProperty(te,rt,It&P.JOm.Important?"important":""):me.style[te]=rt}removeStyle(me,te,rt){rt&P.JOm.DashCase?me.style.removeProperty(te):me.style[te]=""}setProperty(me,te,rt){me[te]=rt}setValue(me,te){me.nodeValue=te}listen(me,te,rt){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,te,Le(rt)):this.eventManager.addEventListener(me,te,Le(rt))}}class _t extends je{constructor(me,te,rt,It){super(me),this.component=rt;const An=Fe(It+"-"+rt.id,rt.styles,[]);te.addStyles(An),this.contentAttr=function ht(Ee){return"_ngcontent-%COMP%".replace(ke,Ee)}(It+"-"+rt.id),this.hostAttr=function Ue(Ee){return"_nghost-%COMP%".replace(ke,Ee)}(It+"-"+rt.id)}applyToHost(me){super.setAttribute(me,this.hostAttr,"")}createElement(me,te){const rt=super.createElement(me,te);return super.setAttribute(rt,this.contentAttr,""),rt}}class ve extends je{constructor(me,te,rt,It){super(me),this.sharedStylesHost=te,this.hostEl=rt,this.shadowRoot=rt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const An=Fe(It.id,It.styles,[]);for(let tr=0;tr<An.length;tr++){const xr=document.createElement("style");xr.textContent=An[tr],this.shadowRoot.appendChild(xr)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(me,te){return super.appendChild(this.nodeOrShadowRoot(me),te)}insertBefore(me,te,rt){return super.insertBefore(this.nodeOrShadowRoot(me),te,rt)}removeChild(me,te){return super.removeChild(this.nodeOrShadowRoot(me),te)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}}let Z=(()=>{class Ee extends J{constructor(te){super(te)}supports(te){return!0}addEventListener(te,rt,It){return te.addEventListener(rt,It,!1),()=>this.removeEventListener(te,rt,It)}removeEventListener(te,rt,It){return te.removeEventListener(rt,It)}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(a.K0))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ue=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let Xe=(()=>{class Ee extends J{constructor(te){super(te)}supports(te){return null!=Ee.parseEventName(te)}addEventListener(te,rt,It){const An=Ee.parseEventName(rt),tr=Ee.eventCallback(An.fullKey,It,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(te,An.domEventName,tr))}static parseEventName(te){const rt=te.toLowerCase().split("."),It=rt.shift();if(0===rt.length||"keydown"!==It&&"keyup"!==It)return null;const An=Ee._normalizeKey(rt.pop());let tr="";if(ue.forEach(qr=>{const is=rt.indexOf(qr);is>-1&&(rt.splice(is,1),tr+=qr+".")}),tr+=An,0!=rt.length||0===An.length)return null;const xr={};return xr.domEventName=It,xr.fullKey=tr,xr}static getEventFullKey(te){let rt="",It=function Ft(Ee){let me=Ee.key;if(null==me){if(me=Ee.keyIdentifier,null==me)return"Unidentified";me.startsWith("U+")&&(me=String.fromCharCode(parseInt(me.substring(2),16)),3===Ee.location&&st.hasOwnProperty(me)&&(me=st[me]))}return ce[me]||me}(te);return It=It.toLowerCase()," "===It?It="space":"."===It&&(It="dot"),ue.forEach(An=>{An!=It&&mt[An](te)&&(rt+=An+".")}),rt+=It,rt}static eventCallback(te,rt,It){return An=>{Ee.getEventFullKey(An)===te&&It.runGuarded(()=>rt(An))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(a.K0))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const nr=(0,P.eFA)(P._c5,"browser",[{provide:P.Lbi,useValue:a.bD},{provide:P.g9A,useValue:function an(){Y.makeCurrent(),we.init()},multi:!0},{provide:a.K0,useFactory:function Jt(){return(0,P.RDi)(document),document},deps:[]}]),lr=[{provide:P.zSh,useValue:"root"},{provide:P.qLn,useFactory:function tn(){return new P.qLn},deps:[]},{provide:Ae,useClass:Z,multi:!0,deps:[a.K0,P.R0b,P.Lbi]},{provide:Ae,useClass:Xe,multi:!0,deps:[a.K0]},{provide:it,useClass:it,deps:[le,be,P.AFp]},{provide:P.FYo,useExisting:it},{provide:xe,useExisting:be},{provide:be,useClass:be,deps:[a.K0]},{provide:P.dDg,useClass:P.dDg,deps:[P.R0b]},{provide:le,useClass:le,deps:[Ae,P.R0b]},{provide:a.JF,useClass:oe,deps:[]}];let Jn=(()=>{class Ee{constructor(te){if(te)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(te){return{ngModule:Ee,providers:[{provide:P.AFp,useValue:te.appId},{provide:ee,useExisting:P.AFp},re]}}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(Ee,12))},Ee.\u0275mod=P.oAB({type:Ee}),Ee.\u0275inj=P.cJS({providers:lr,imports:[a.ez,P.hGG]}),Ee})();"undefined"!=typeof window&&window;var Te=D(1143),wt=D(7110),Qt=D(7020);let vn=(()=>{class Ee{constructor(te,rt){this.platform=te,this.global=rt}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.Y36(wt.t4),P.Y36(Qt.U))},Ee.\u0275cmp=P.Xpm({type:Ee,selectors:[["app-root"]],decls:2,vars:0,template:function(te,rt){1&te&&(P.TgZ(0,"ion-app"),P._UZ(1,"ion-router-outlet"),P.qZA())},directives:[wt.dr,wt.jP],styles:[""]}),Ee})();var Zn=D(655),gn=D(1332),zn=D(1228);let ir=(()=>{class Ee{constructor(te,rt,It){this.alertCtrl=te,this.authService=rt,this.router=It}canLoad(te,rt){return(0,Zn.mG)(this,void 0,void 0,function*(){const It=te.data.type;try{const An=yield this.authService.checkUserAuth();if(console.log(An),An){if(An==It)return!0;{let tr=gn.e.TABS;"admin"==An&&(tr=gn.e.ADMIN),this.navigate(tr)}}else this.checkForAlert(It)}catch(An){console.log(An),this.checkForAlert(It)}})}navigate(te){return this.router.navigateByUrl(te,{replaceUrl:!0}),!1}checkForAlert(te){return(0,Zn.mG)(this,void 0,void 0,function*(){const rt=yield this.authService.getId();rt?(console.log("alert: ",rt),this.showAlert(te)):(this.authService.logout(),this.navigate(gn.e.LOGIN))})}showAlert(te){this.alertCtrl.create({header:"Authentication Failed",message:"Please check your Internet Connectivity and tr again",buttons:[{text:"Logout",handler:()=>{this.authService.logout(),this.navigate(gn.e.LOGIN)}},{text:"Retry",handler:()=>{let rt=gn.e.TABS;"admin"==te&&(rt=gn.e.ADMIN),this.navigate(rt)}}]}).then(rt=>rt.present())}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(wt.Br),P.LFG(zn.e),P.LFG(Te.F0))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const Ht=[{path:"",redirectTo:"tabs",pathMatch:"full"},{path:"tabs",loadChildren:()=>D.e(5879).then(D.bind(D,5879)).then(Ee=>Ee.TabsPageModule),canLoad:[ir],data:{type:"user"}},{path:"login",loadChildren:()=>D.e(8802).then(D.bind(D,8802)).then(Ee=>Ee.LoginPageModule),canLoad:[(()=>{class Ee{constructor(te,rt){this.authService=te,this.router=rt}canLoad(te,rt){return(0,Zn.mG)(this,void 0,void 0,function*(){try{const It=yield this.authService.getId();return console.log(It),!It||(this.router.navigateByUrl(gn.e.TABS,{replaceUrl:!0}),!1)}catch(It){return console.log(It),!0}})}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(zn.e),P.LFG(Te.F0))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()]},{path:"admin",loadChildren:()=>D.e(9125).then(D.bind(D,9125)).then(Ee=>Ee.AdminPageModule),canLoad:[ir],data:{type:"admin"}}];let Oe=(()=>{class Ee{}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=P.oAB({type:Ee}),Ee.\u0275inj=P.cJS({imports:[[Te.Bz.forRoot(Ht,{preloadingStrategy:Te.wm})],Te.Bz]}),Ee})();var ot=D(3692),qt=D(2340),on=D(7667),mn=D(3562),ze=D(9500),At=D(5867),Gt=D(7128),Rt=D(5861),yn=D(9681),Rn=D(2090),ct=D(4859);const On="functions";class Rr{constructor(me,te,rt){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=me.getImmediate({optional:!0}),this.messaging=te.getImmediate({optional:!0}),this.auth||me.get().then(It=>this.auth=It,()=>{}),this.messaging||te.get().then(It=>this.messaging=It,()=>{}),this.appCheck||rt.get().then(It=>this.appCheck=It,()=>{})}getAuthToken(){var me=this;return(0,Rt.Z)(function*(){if(me.auth)try{const te=yield me.auth.getToken();return null==te?void 0:te.accessToken}catch(te){return}})()}getMessagingToken(){var me=this;return(0,Rt.Z)(function*(){if(me.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield me.messaging.getToken()}catch(te){return}})()}getAppCheckToken(){var me=this;return(0,Rt.Z)(function*(){if(me.appCheck){const te=yield me.appCheck.getToken();return te.error?null:te.token}return null})()}getContext(){var me=this;return(0,Rt.Z)(function*(){return{authToken:yield me.getAuthToken(),messagingToken:yield me.getMessagingToken(),appCheckToken:yield me.getAppCheckToken()}})()}}const N="us-central1";class V{constructor(me,te,rt,It,An=N,tr){this.app=me,this.fetchImpl=tr,this.emulatorOrigin=null,this.contextProvider=new Rr(te,rt,It),this.cancelAllRequests=new Promise(xr=>{this.deleteService=()=>Promise.resolve(xr())});try{const xr=new URL(An);this.customDomain=xr.origin,this.region=N}catch(xr){this.customDomain=null,this.region=An}}_delete(){return this.deleteService()}_url(me){const te=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${te}/${this.region}/${me}`:null!==this.customDomain?`${this.customDomain}/${me}`:`https://${this.region}-${te}.cloudfunctions.net/${me}`}}const $t="@firebase/functions";function Fr(Ee=(0,yn.getApp)(),me=N){return(0,yn._getProvider)((0,Rn.m9)(Ee),On).getImmediate({identifier:me})}!function ti(Ee,me){(0,yn._registerComponent)(new ct.wA(On,(rt,{instanceIdentifier:It})=>{const An=rt.getProvider("app").getImmediate(),tr=rt.getProvider("auth-internal"),xr=rt.getProvider("messaging-internal"),qr=rt.getProvider("app-check-internal");return new V(An,tr,xr,qr,It,Ee)},"PUBLIC").setMultipleInstances(!0)),(0,yn.registerVersion)($t,"0.7.10",me),(0,yn.registerVersion)($t,"0.7.10","esm2017")}(fetch.bind(self));class vi{constructor(me){return me}}const Qr="functions",ui=new P.OlP("angularfire2.functions-instances");function Ti(Ee){return(me,te)=>{const rt=me.runOutsideAngular(()=>Ee(te));return new vi(rt)}}const mi={provide:class Gi{constructor(){return(0,ze.vb)(Qr)}},deps:[[new P.FiY,ui]]},Xr={provide:vi,useFactory:function Ui(Ee,me){const te=(0,ze.JM)(Qr,Ee,me);return te&&new vi(te)},deps:[[new P.FiY,ui],ot.Ot]};let ki=(()=>{class Ee{constructor(){(0,At.KN)("angularfire",ze.q4.full,"fn")}}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=P.oAB({type:Ee}),Ee.\u0275inj=P.cJS({providers:[Xr,mi]}),Ee})();function Si(Ee,...me){return{ngModule:ki,providers:[{provide:ui,useFactory:Ti(Ee),multi:!0,deps:[P.R0b,P.zs3,ze.HU,ot.z6,[new P.FiY,on.dh],[new P.FiY,Gt.nm],...me]}]}}const si=(0,ze.u3)(Fr,!0);var Ai=D(2375);class ls{constructor(me){return me}}const oi="messaging",Jr=new P.OlP("angularfire2.messaging-instances");function We(Ee){return(me,te)=>{if(!ze.n1.sync())return null;const rt=me.runOutsideAngular(()=>Ee(te));return new ls(rt)}}const at={provide:class Ur{constructor(){return(0,ze.vb)(oi)}},deps:[[new P.FiY,Jr]]},Bt={provide:ls,useFactory:function tt(Ee,me){if(!ze.n1.sync())return null;const te=(0,ze.JM)(oi,Ee,me);return te&&new ls(te)},deps:[[new P.FiY,Jr],ot.Ot]};let $=(()=>{class Ee{constructor(){(0,At.KN)("angularfire",ze.q4.full,"fcm")}}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=P.oAB({type:Ee}),Ee.\u0275inj=P.cJS({providers:[Bt,at,{provide:P.ip1,useValue:ze.n1.async,multi:!0}]}),Ee})();function F(Ee,...me){return{ngModule:$,providers:[{provide:Jr,useFactory:We(Ee),multi:!0,deps:[P.R0b,P.zs3,ze.HU,ot.z6,...me]}]}}const lt=(0,ze.u3)(Ai.KL,!0);var Fn=D(6591),kn=D(2011),hr=D(520),br=D(8514),wr=D(1737),k=D(3753),X=D(1086),d=D(1221),_=D(8929),g=D(2916),C=D(7876);const z=new g.y(C.Z);var nn=D(6787),hn=D(4850),Un=D(2198),jn=D(7545),Dr=D(2536),kr=D(2986),li=D(2994),_i=D(353),wi=D(3489),B=D(9312);class R{constructor(me,te){this.delay=me,this.scheduler=te}call(me,te){return te.subscribe(new pe(me,this.delay,this.scheduler))}}class pe extends wi.L{constructor(me,te,rt){super(me),this.delay=te,this.scheduler=rt,this.queue=[],this.active=!1,this.errored=!1}static dispatch(me){const te=me.source,rt=te.queue,It=me.scheduler,An=me.destination;for(;rt.length>0&&rt[0].time-It.now()<=0;)rt.shift().notification.observe(An);if(rt.length>0){const tr=Math.max(0,rt[0].time-It.now());this.schedule(me,tr)}else this.unsubscribe(),te.active=!1}_schedule(me){this.active=!0,this.destination.add(me.schedule(pe.dispatch,this.delay,{source:this,destination:this.destination,scheduler:me}))}scheduleNotification(me){if(!0===this.errored)return;const te=this.scheduler,rt=new Wt(te.now()+this.delay,me);this.queue.push(rt),!1===this.active&&this._schedule(te)}_next(me){this.scheduleNotification(B.P.createNext(me))}_error(me){this.errored=!0,this.queue=[],this.destination.error(me),this.unsubscribe()}_complete(){this.scheduleNotification(B.P.createComplete()),this.unsubscribe()}}class Wt{constructor(me,te){this.time=me,this.notification=te}}const Xn="Service workers are disabled or not supported by this browser";class Nr{constructor(me){if(this.serviceWorker=me,me){const rt=(0,k.R)(me,"controllerchange").pipe((0,hn.U)(()=>me.controller)),It=(0,br.P)(()=>(0,X.of)(me.controller)),An=(0,d.z)(It,rt);this.worker=An.pipe((0,Un.h)(Ii=>!!Ii)),this.registration=this.worker.pipe((0,jn.w)(()=>me.getRegistration()));const is=(0,k.R)(me,"message").pipe((0,hn.U)(Ii=>Ii.data)).pipe((0,Un.h)(Ii=>Ii&&Ii.type)).pipe(function sr(Ee){return Ee?(0,Dr.O)(()=>new _.xQ,Ee):(0,Dr.O)(new _.xQ)}());is.connect(),this.events=is}else this.worker=this.events=this.registration=function ai(Ee){return(0,br.P)(()=>(0,wr._)(new Error(Ee)))}(Xn)}postMessage(me,te){return this.worker.pipe((0,kr.q)(1),(0,li.b)(rt=>{rt.postMessage(Object.assign({action:me},te))})).toPromise().then(()=>{})}postMessageWithOperation(me,te,rt){const It=this.waitForOperationCompleted(rt),An=this.postMessage(me,te);return Promise.all([An,It]).then(([,tr])=>tr)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(me){let te;return te="string"==typeof me?rt=>rt.type===me:rt=>me.includes(rt.type),this.events.pipe((0,Un.h)(te))}nextEventOfType(me){return this.eventsOfType(me).pipe((0,kr.q)(1))}waitForOperationCompleted(me){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Un.h)(te=>te.nonce===me),(0,kr.q)(1),(0,hn.U)(te=>{if(void 0!==te.result)return te.result;throw new Error(te.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let _s=(()=>{class Ee{constructor(te){if(this.sw=te,this.subscriptionChanges=new _.xQ,!te.isEnabled)return this.messages=z,this.notificationClicks=z,void(this.subscription=z);this.messages=this.sw.eventsOfType("PUSH").pipe((0,hn.U)(It=>It.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,hn.U)(It=>It.data)),this.pushManager=this.sw.registration.pipe((0,hn.U)(It=>It.pushManager));const rt=this.pushManager.pipe((0,jn.w)(It=>It.getSubscription()));this.subscription=(0,nn.T)(rt,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(te){if(!this.sw.isEnabled)return Promise.reject(new Error(Xn));const rt={userVisibleOnly:!0};let It=this.decodeBase64(te.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),An=new Uint8Array(new ArrayBuffer(It.length));for(let tr=0;tr<It.length;tr++)An[tr]=It.charCodeAt(tr);return rt.applicationServerKey=An,this.pushManager.pipe((0,jn.w)(tr=>tr.subscribe(rt)),(0,kr.q)(1)).toPromise().then(tr=>(this.subscriptionChanges.next(tr),tr))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,kr.q)(1),(0,jn.w)(rt=>{if(null===rt)throw new Error("Not subscribed to push notifications.");return rt.unsubscribe().then(It=>{if(!It)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xn))}decodeBase64(te){return atob(te)}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(Nr))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),sn=(()=>{class Ee{constructor(te){if(this.sw=te,!te.isEnabled)return this.versionUpdates=z,this.available=z,this.activated=z,void(this.unrecoverable=z);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Un.h)(rt=>"VERSION_READY"===rt.type),(0,hn.U)(rt=>({type:"UPDATE_AVAILABLE",current:rt.currentVersion,available:rt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xn));const te=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:te},te)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xn));const te=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:te},te)}}return Ee.\u0275fac=function(te){return new(te||Ee)(P.LFG(Nr))},Ee.\u0275prov=P.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Pr{}const ks=new P.OlP("NGSW_REGISTER_SCRIPT");function ii(Ee,me,te,rt){return()=>{if(!(0,a.NF)(rt)||!("serviceWorker"in navigator)||!1===te.enabled)return;let An;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof te.registrationStrategy)An=te.registrationStrategy();else{const[xr,...qr]=(te.registrationStrategy||"registerWhenStable:30000").split(":");switch(xr){case"registerImmediately":An=(0,X.of)(null);break;case"registerWithDelay":An=Do(+qr[0]||0);break;case"registerWhenStable":An=qr[0]?(0,nn.T)(Es(Ee),Do(+qr[0])):Es(Ee);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${te.registrationStrategy}`)}}Ee.get(P.R0b).runOutsideAngular(()=>An.pipe((0,kr.q)(1)).subscribe(()=>navigator.serviceWorker.register(me,{scope:te.scope}).catch(xr=>console.error("Service worker registration failed with:",xr))))}}function Do(Ee){return(0,X.of)(null).pipe(function x(Ee,me=_i.P){const rt=function ei(Ee){return Ee instanceof Date&&!isNaN(+Ee)}(Ee)?+Ee-me.now():Math.abs(Ee);return It=>It.lift(new R(rt,me))}(Ee))}function Es(Ee){return Ee.get(P.z2F).isStable.pipe((0,Un.h)(te=>te))}function cs(Ee,me){return new Nr((0,a.NF)(me)&&!1!==Ee.enabled?navigator.serviceWorker:void 0)}let Ks=(()=>{class Ee{static register(te,rt={}){return{ngModule:Ee,providers:[{provide:ks,useValue:te},{provide:Pr,useValue:rt},{provide:Nr,useFactory:cs,deps:[Pr,P.Lbi]},{provide:P.ip1,useFactory:ii,deps:[P.zs3,ks,Pr,P.Lbi],multi:!0}]}}}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=P.oAB({type:Ee}),Ee.\u0275inj=P.cJS({providers:[_s,sn]}),Ee})(),Ys=(()=>{class Ee{}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=P.oAB({type:Ee,bootstrap:[vn]}),Ee.\u0275inj=P.cJS({providers:[{provide:Te.wN,useClass:wt.r4}],imports:[[Jn,wt.Pc.forRoot(),Oe,hr.JF,kn.hO.initializeApp(qt.N.firebase),(0,ot.hX)(()=>(0,ot.ZF)(qt.N.firebase)),(0,on.AR)(()=>(0,on.v0)()),(0,mn.Cm)(()=>(0,mn.ad)()),Si(()=>si()),F(()=>lt()),(0,Fn.Vq)(()=>(0,Fn.cF)()),Ks.register("ngsw-worker.js",{enabled:qt.N.production,registrationStrategy:"registerWhenStable:30000"})]]}),Ee})();qt.N.production&&(0,P.G48)(),nr().bootstrapModule(Ys).catch(Ee=>console.log(Ee))},5867:(un,ut,D)=>{"use strict";D.d(ut,{Mq:()=>a.getApp,C6:()=>a.getApps,ZF:()=>a.initializeApp,KN:()=>a.registerVersion});var a=D(9681);(0,a.registerVersion)("firebase","9.6.10","app")},127:(un,ut,D)=>{"use strict";D.d(ut,{Z:()=>a.Z});var a=D(3942);a.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(un,ut,D)=>{"use strict";D.r(ut);var a=D(5861),P=D(3942),L=D(424),Y=D(2090),se=(D(9681),D(1877),D(4859));function q(){return window}function re(){return(re=(0,a.Z)(function*(ye,Me,Te){var wt;const{BuildInfo:Qt}=q();(0,L.ap)(Me.sessionId,"AuthEvent did not contain a session ID");const vn=yield be(Me.sessionId),Zn={};return(0,L.aq)()?Zn.ibi=Qt.packageName:(0,L.ar)()?Zn.apn=Qt.packageName:(0,L.as)(ye,"operation-not-supported-in-this-environment"),Qt.displayName&&(Zn.appDisplayName=Qt.displayName),Zn.sessionId=vn,(0,L.at)(ye,Te,Me.type,void 0,null!==(wt=Me.eventId)&&void 0!==wt?wt:void 0,Zn)})).apply(this,arguments)}function oe(){return(oe=(0,a.Z)(function*(ye){const{BuildInfo:Me}=q(),Te={};(0,L.aq)()?Te.iosBundleId=Me.packageName:(0,L.ar)()?Te.androidPackageName=Me.packageName:(0,L.as)(ye,"operation-not-supported-in-this-environment"),yield(0,L.au)(ye,Te)})).apply(this,arguments)}function J(){return(J=(0,a.Z)(function*(ye,Me,Te){const{cordova:wt}=q();let Qt=()=>{};try{yield new Promise((vn,Zn)=>{let gn=null;function zn(){var Ht;vn();const Oe=null===(Ht=wt.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Oe&&Oe(),"function"==typeof(null==Te?void 0:Te.close)&&Te.close()}function ir(){gn||(gn=window.setTimeout(()=>{Zn((0,L.av)(ye,"redirect-cancelled-by-user"))},2e3))}function Tr(){"visible"===(null==document?void 0:document.visibilityState)&&ir()}Me.addPassiveListener(zn),document.addEventListener("resume",ir,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",Tr,!1),Qt=()=>{Me.removePassiveListener(zn),document.removeEventListener("resume",ir,!1),document.removeEventListener("visibilitychange",Tr,!1),gn&&window.clearTimeout(gn)}})}finally{Qt()}})).apply(this,arguments)}function be(ye){return _e.apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(ye){const Me=Ie(ye),Te=yield crypto.subtle.digest("SHA-256",Me);return Array.from(new Uint8Array(Te)).map(Qt=>Qt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ie(ye){if((0,L.ap)(/[0-9a-zA-Z]+/.test(ye),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ye);const Me=new ArrayBuffer(ye.length),Te=new Uint8Array(Me);for(let wt=0;wt<ye.length;wt++)Te[wt]=ye.charCodeAt(wt);return Te}class Ne extends L.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Me=>{this.resolveInialized=Me})}addPassiveListener(Me){this.passiveListeners.add(Me)}removePassiveListener(Me){this.passiveListeners.delete(Me)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Me){return this.resolveInialized(),this.passiveListeners.forEach(Te=>Te(Me)),super.onEvent(Me)}initialized(){var Me=this;return(0,a.Z)(function*(){yield Me.initPromise})()}}function Ge(ye){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(ye){const Me=yield Le()._get(Re(ye));return Me&&(yield Le()._remove(Re(ye))),Me})).apply(this,arguments)}function Fe(){const ye=[],Me="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Te=0;Te<20;Te++){const wt=Math.floor(Math.random()*Me.length);ye.push(Me.charAt(wt))}return ye.join("")}function Le(){return(0,L.ax)(L.b)}function Re(ye){return(0,L.ay)("authEvent",ye.config.apiKey,ye.name)}function Ut(ye){if(!(null==ye?void 0:ye.includes("?")))return{};const[Me,...Te]=ye.split("?");return(0,Y.zd)(Te.join("?"))}function Z(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.av)("no-auth-event")}}function mt(){var ye;return(null===(ye=null==self?void 0:self.location)||void 0===ye?void 0:ye.protocol)||null}function Ft(ye=(0,Y.z$)()){return!("file:"!==mt()&&"ionic:"!==mt()||!ye.toLowerCase().match(/iphone|ipad|ipod|android/))}function nr(){try{const ye=self.localStorage,Me=L.aG();if(ye)return ye.setItem(Me,"1"),ye.removeItem(Me),!function En(ye=(0,Y.z$)()){return function tn(){return(0,Y.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Jt(ye=(0,Y.z$)()){return/Edge\/\d+/.test(ye)}(ye)}()||(0,Y.hl)()}catch(ye){return lr()&&(0,Y.hl)()}return!1}function lr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function Xe(){return"http:"===mt()||"https:"===mt()}()||(0,Y.ru)()||Ft())&&!function an(){return(0,Y.b$)()||(0,Y.UG)()}()&&nr()&&!lr()}function rr(){return Ft()&&"undefined"!=typeof document}function Hn(){return(Hn=(0,a.Z)(function*(){return!!rr()&&new Promise(ye=>{const Me=setTimeout(()=>{ye(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Me),ye(!0)})})})).apply(this,arguments)}const Zt={LOCAL:"local",NONE:"none",SESSION:"session"},cr=L.aw,ar="persistence";function Ye(ye){return $e.apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(ye){yield ye._initializationPromise;const Me=bt(),Te=L.ay(ar,ye.config.apiKey,ye.name);Me&&Me.setItem(Te,ye._getPersistence())})).apply(this,arguments)}function bt(){var ye;try{return(null===(ye=function Vn(){return"undefined"!=typeof window?window:null}())||void 0===ye?void 0:ye.sessionStorage)||null}catch(Me){return null}}const zt=L.aw;class Kt{constructor(){this.browserResolver=L.ax(L.k),this.cordovaResolver=L.ax(class _t{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aA}_initialize(Me){var Te=this;return(0,a.Z)(function*(){const wt=Me._key();let Qt=Te.eventManagers.get(wt);return Qt||(Qt=new Ne(Me),Te.eventManagers.set(wt,Qt),Te.attachCallbackListeners(Me,Qt)),Qt})()}_openPopup(Me){(0,L.as)(Me,"operation-not-supported-in-this-environment")}_openRedirect(Me,Te,wt,Qt){var vn=this;return(0,a.Z)(function*(){!function xe(ye){var Me,Te,wt,Qt,vn,Zn,gn,zn,ir,Tr;const Ht=q();(0,L.aw)("function"==typeof(null===(Me=null==Ht?void 0:Ht.universalLinks)||void 0===Me?void 0:Me.subscribe),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aw)(void 0!==(null===(Te=null==Ht?void 0:Ht.BuildInfo)||void 0===Te?void 0:Te.packageName),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aw)("function"==typeof(null===(vn=null===(Qt=null===(wt=null==Ht?void 0:Ht.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===vn?void 0:vn.openUrl),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(zn=null===(gn=null===(Zn=null==Ht?void 0:Ht.cordova)||void 0===Zn?void 0:Zn.plugins)||void 0===gn?void 0:gn.browsertab)||void 0===zn?void 0:zn.isAvailable),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(Tr=null===(ir=null==Ht?void 0:Ht.cordova)||void 0===ir?void 0:ir.InAppBrowser)||void 0===Tr?void 0:Tr.open),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Me);const Zn=yield vn._initialize(Me);yield Zn.initialized(),Zn.resetRedirect(),(0,L.aB)(),yield vn._originValidation(Me);const gn=function nt(ye,Me,Te=null){return{type:Me,eventId:Te,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:ye.tenantId,error:(0,L.av)(ye,"no-auth-event")}}(Me,wt,Qt);yield function xt(ye,Me){return Le()._set(Re(ye),Me)}(Me,gn);const zn=yield function W(ye,Me,Te){return re.apply(this,arguments)}(Me,gn,Te),ir=yield function Ae(ye){const{cordova:Me}=q();return new Promise(Te=>{Me.plugins.browsertab.isAvailable(wt=>{let Qt=null;wt?Me.plugins.browsertab.openUrl(ye):Qt=Me.InAppBrowser.open(ye,(0,L.ao)()?"_blank":"_system","location=yes"),Te(Qt)})})}(zn);return function le(ye,Me,Te){return J.apply(this,arguments)}(Me,Zn,ir)})()}_isIframeWebStorageSupported(Me,Te){throw new Error("Method not implemented.")}_originValidation(Me){const Te=Me._key();return this.originValidationPromises[Te]||(this.originValidationPromises[Te]=function we(ye){return oe.apply(this,arguments)}(Me)),this.originValidationPromises[Te]}attachCallbackListeners(Me,Te){const{universalLinks:wt,handleOpenURL:Qt,BuildInfo:vn}=q(),Zn=setTimeout((0,a.Z)(function*(){yield Ge(Me),Te.onEvent(Z())}),500),gn=function(){var Tr=(0,a.Z)(function*(Ht){clearTimeout(Zn);const Oe=yield Ge(Me);let ot=null;Oe&&(null==Ht?void 0:Ht.url)&&(ot=function Ue(ye,Me){var Te,wt;const Qt=function je(ye){const Me=Ut(ye),Te=Me.link?decodeURIComponent(Me.link):void 0,wt=Ut(Te).link,Qt=Me.deep_link_id?decodeURIComponent(Me.deep_link_id):void 0;return Ut(Qt).link||Qt||wt||Te||ye}(Me);if(Qt.includes("/__/auth/callback")){const vn=Ut(Qt),Zn=vn.firebaseError?function it(ye){try{return JSON.parse(ye)}catch(Me){return null}}(decodeURIComponent(vn.firebaseError)):null,gn=null===(wt=null===(Te=null==Zn?void 0:Zn.code)||void 0===Te?void 0:Te.split("auth/"))||void 0===wt?void 0:wt[1],zn=gn?(0,L.av)(gn):null;return zn?{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,error:zn,urlResponse:null,sessionId:null,postBody:null}:{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,sessionId:ye.sessionId,urlResponse:Qt,postBody:null}}return null}(Oe,Ht.url)),Te.onEvent(ot||Z())});return function(Oe){return Tr.apply(this,arguments)}}();void 0!==wt&&"function"==typeof wt.subscribe&&wt.subscribe(null,gn);const zn=Qt,ir=`${vn.packageName.toLowerCase()}://`;q().handleOpenURL=function(){var Tr=(0,a.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(ir)&&gn({url:Ht}),"function"==typeof zn)try{zn(Ht)}catch(Oe){console.error(Oe)}});return function(Ht){return Tr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aA}_initialize(Me){var Te=this;return(0,a.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._initialize(Me)})()}_openPopup(Me,Te,wt,Qt){var vn=this;return(0,a.Z)(function*(){return yield vn.selectUnderlyingResolver(),vn.assertedUnderlyingResolver._openPopup(Me,Te,wt,Qt)})()}_openRedirect(Me,Te,wt,Qt){var vn=this;return(0,a.Z)(function*(){return yield vn.selectUnderlyingResolver(),vn.assertedUnderlyingResolver._openRedirect(Me,Te,wt,Qt)})()}_isIframeWebStorageSupported(Me,Te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Me,Te)}_originValidation(Me){return this.assertedUnderlyingResolver._originValidation(Me)}get _shouldInitProactively(){return rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Me=this;return(0,a.Z)(function*(){if(Me.underlyingResolver)return;const Te=yield function or(){return Hn.apply(this,arguments)}();Me.underlyingResolver=Te?Me.cordovaResolver:Me.browserResolver})()}}function Gn(ye){return ye.unwrap()}function Qn(ye){return dr(ye)}function dr(ye){const{_tokenResponse:Me}=ye instanceof Y.ZR?ye.customData:ye;if(!Me)return null;if(!(ye instanceof Y.ZR)&&"temporaryProof"in Me&&"phoneNumber"in Me)return L.P.credentialFromResult(ye);const Te=Me.providerId;if(!Te||Te===L.o.PASSWORD)return null;let wt;switch(Te){case L.o.GOOGLE:wt=L.N;break;case L.o.FACEBOOK:wt=L.M;break;case L.o.GITHUB:wt=L.Q;break;case L.o.TWITTER:wt=L.V;break;default:const{oauthIdToken:Qt,oauthAccessToken:vn,oauthTokenSecret:Zn,pendingToken:gn,nonce:zn}=Me;return vn||Zn||Qt||gn?gn?Te.startsWith("saml.")?L.aJ._create(Te,gn):L.I._fromParams({providerId:Te,signInMethod:Te,pendingToken:gn,idToken:Qt,accessToken:vn}):new L.T(Te).credential({idToken:Qt,accessToken:vn,rawNonce:zn}):null}return ye instanceof Y.ZR?wt.credentialFromError(ye):wt.credentialFromResult(ye)}function bn(ye,Me){return Me.catch(Te=>{throw Te instanceof Y.ZR&&function mr(ye,Me){var Te;const wt=null===(Te=Me.customData)||void 0===Te?void 0:Te._tokenResponse;if("auth/multi-factor-auth-required"===Me.code)Me.resolver=new dn(ye,L.am(ye,Me));else if(wt){const Qt=dr(Me),vn=Me;Qt&&(vn.credential=Qt,vn.tenantId=wt.tenantId||void 0,vn.email=wt.email||void 0,vn.phoneNumber=wt.phoneNumber||void 0)}}(ye,Te),Te}).then(Te=>{const Qt=Te.user;return{operationType:Te.operationType,credential:Qn(Te),additionalUserInfo:L.ak(Te),user:Nt.getOrCreate(Qt)}})}function Nn(ye,Me){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(ye,Me){const Te=yield Me;return{verificationId:Te.verificationId,confirm:wt=>bn(ye,Te.confirm(wt))}})).apply(this,arguments)}class dn{constructor(Me,Te){this.resolver=Te,this.auth=function Wn(ye){return ye.wrapped()}(Me)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Me){return bn(Gn(this.auth),this.resolver.resolveSignIn(Me))}}class Nt{constructor(Me){this._delegate=Me,this.multiFactor=L.an(Me)}static getOrCreate(Me){return Nt.USER_MAP.has(Me)||Nt.USER_MAP.set(Me,new Nt(Me)),Nt.USER_MAP.get(Me)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Me){return this._delegate.getIdTokenResult(Me)}getIdToken(Me){return this._delegate.getIdToken(Me)}linkAndRetrieveDataWithCredential(Me){return this.linkWithCredential(Me)}linkWithCredential(Me){var Te=this;return(0,a.Z)(function*(){return bn(Te.auth,L.Y(Te._delegate,Me))})()}linkWithPhoneNumber(Me,Te){var wt=this;return(0,a.Z)(function*(){return Nn(wt.auth,L.l(wt._delegate,Me,Te))})()}linkWithPopup(Me){var Te=this;return(0,a.Z)(function*(){return bn(Te.auth,L.d(Te._delegate,Me,Kt))})()}linkWithRedirect(Me){var Te=this;return(0,a.Z)(function*(){return yield Ye(L.aC(Te.auth)),L.g(Te._delegate,Me,Kt)})()}reauthenticateAndRetrieveDataWithCredential(Me){return this.reauthenticateWithCredential(Me)}reauthenticateWithCredential(Me){var Te=this;return(0,a.Z)(function*(){return bn(Te.auth,L.Z(Te._delegate,Me))})()}reauthenticateWithPhoneNumber(Me,Te){return Nn(this.auth,L.r(this._delegate,Me,Te))}reauthenticateWithPopup(Me){return bn(this.auth,L.e(this._delegate,Me,Kt))}reauthenticateWithRedirect(Me){var Te=this;return(0,a.Z)(function*(){return yield Ye(L.aC(Te.auth)),L.h(Te._delegate,Me,Kt)})()}sendEmailVerification(Me){return L.aa(this._delegate,Me)}unlink(Me){var Te=this;return(0,a.Z)(function*(){return yield L.aj(Te._delegate,Me),Te})()}updateEmail(Me){return L.af(this._delegate,Me)}updatePassword(Me){return L.ag(this._delegate,Me)}updatePhoneNumber(Me){return L.u(this._delegate,Me)}updateProfile(Me){return L.ae(this._delegate,Me)}verifyBeforeUpdateEmail(Me,Te){return L.ab(this._delegate,Me,Te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nt.USER_MAP=new WeakMap;const Dt=L.aw;let fn=(()=>{class ye{constructor(Te,wt){if(this.app=Te,wt.isInitialized())return this._delegate=wt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qt}=Te.options;Dt(Qt,"invalid-api-key",{appName:Te.name}),Dt(Qt,"invalid-api-key",{appName:Te.name});const vn="undefined"!=typeof window?Kt:void 0;this._delegate=wt.initialize({options:{persistence:Kn(Qt,Te.name),popupRedirectResolver:vn}}),this._delegate._updateErrorMap(L.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Te){this._delegate.languageCode=Te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Te){this._delegate.tenantId=Te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Te,wt){L.E(this._delegate,Te,wt)}applyActionCode(Te){return L.a1(this._delegate,Te)}checkActionCode(Te){return L.a2(this._delegate,Te)}confirmPasswordReset(Te,wt){return L.a0(this._delegate,Te,wt)}createUserWithEmailAndPassword(Te,wt){var Qt=this;return(0,a.Z)(function*(){return bn(Qt._delegate,L.a4(Qt._delegate,Te,wt))})()}fetchProvidersForEmail(Te){return this.fetchSignInMethodsForEmail(Te)}fetchSignInMethodsForEmail(Te){return L.a9(this._delegate,Te)}isSignInWithEmailLink(Te){return L.a7(this._delegate,Te)}getRedirectResult(){var Te=this;return(0,a.Z)(function*(){Dt(Jn(),Te._delegate,"operation-not-supported-in-this-environment");const wt=yield L.j(Te._delegate,Kt);return wt?bn(Te._delegate,Promise.resolve(wt)):{credential:null,user:null}})()}addFrameworkForLogging(Te){!function ue(ye,Me){(0,L.aC)(ye)._logFramework(Me)}(this._delegate,Te)}onAuthStateChanged(Te,wt,Qt){const{next:vn,error:Zn,complete:gn}=Tn(Te,wt,Qt);return this._delegate.onAuthStateChanged(vn,Zn,gn)}onIdTokenChanged(Te,wt,Qt){const{next:vn,error:Zn,complete:gn}=Tn(Te,wt,Qt);return this._delegate.onIdTokenChanged(vn,Zn,gn)}sendSignInLinkToEmail(Te,wt){return L.a6(this._delegate,Te,wt)}sendPasswordResetEmail(Te,wt){return L.$(this._delegate,Te,wt||void 0)}setPersistence(Te){var wt=this;return(0,a.Z)(function*(){let Qt;switch(function Mt(ye,Me){cr(Object.values(Zt).includes(Me),ye,"invalid-persistence-type"),(0,Y.b$)()?cr(Me!==Zt.SESSION,ye,"unsupported-persistence-type"):(0,Y.UG)()?cr(Me===Zt.NONE,ye,"unsupported-persistence-type"):lr()?cr(Me===Zt.NONE||Me===Zt.LOCAL&&(0,Y.hl)(),ye,"unsupported-persistence-type"):cr(Me===Zt.NONE||nr(),ye,"unsupported-persistence-type")}(wt._delegate,Te),Te){case Zt.SESSION:Qt=L.a;break;case Zt.LOCAL:Qt=(yield L.ax(L.i)._isAvailable())?L.i:L.b;break;case Zt.NONE:Qt=L.K;break;default:return L.as("argument-error",{appName:wt._delegate.name})}return wt._delegate.setPersistence(Qt)})()}signInAndRetrieveDataWithCredential(Te){return this.signInWithCredential(Te)}signInAnonymously(){return bn(this._delegate,L.W(this._delegate))}signInWithCredential(Te){return bn(this._delegate,L.X(this._delegate,Te))}signInWithCustomToken(Te){return bn(this._delegate,L._(this._delegate,Te))}signInWithEmailAndPassword(Te,wt){return bn(this._delegate,L.a5(this._delegate,Te,wt))}signInWithEmailLink(Te,wt){return bn(this._delegate,L.a8(this._delegate,Te,wt))}signInWithPhoneNumber(Te,wt){return Nn(this._delegate,L.s(this._delegate,Te,wt))}signInWithPopup(Te){var wt=this;return(0,a.Z)(function*(){return Dt(Jn(),wt._delegate,"operation-not-supported-in-this-environment"),bn(wt._delegate,L.c(wt._delegate,Te,Kt))})()}signInWithRedirect(Te){var wt=this;return(0,a.Z)(function*(){return Dt(Jn(),wt._delegate,"operation-not-supported-in-this-environment"),yield Ye(wt._delegate),L.f(wt._delegate,Te,Kt)})()}updateCurrentUser(Te){return this._delegate.updateCurrentUser(Te)}verifyPasswordResetCode(Te){return L.a3(this._delegate,Te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ye.Persistence=Zt,ye})();function Tn(ye,Me,Te){let wt=ye;"function"!=typeof ye&&({next:wt,error:Me,complete:Te}=ye);const Qt=wt;return{next:Zn=>Qt(Zn&&Nt.getOrCreate(Zn)),error:Me,complete:Te}}function Kn(ye,Me){const Te=function Pt(ye,Me){const Te=bt();if(!Te)return[];const wt=L.ay(ar,ye,Me);switch(Te.getItem(wt)){case Zt.NONE:return[L.K];case Zt.LOCAL:return[L.i,L.a];case Zt.SESSION:return[L.a];default:return[]}}(ye,Me);if("undefined"!=typeof self&&!Te.includes(L.i)&&Te.push(L.i),"undefined"!=typeof window)for(const wt of[L.b,L.a])Te.includes(wt)||Te.push(wt);return Te.includes(L.K)||Te.push(L.K),Te}class $n{constructor(){this.providerId="phone",this._delegate=new L.P(Gn(P.Z.auth()))}static credential(Me,Te){return L.P.credential(Me,Te)}verifyPhoneNumber(Me,Te){return this._delegate.verifyPhoneNumber(Me,Te)}unwrap(){return this._delegate}}$n.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,$n.PROVIDER_ID=L.P.PROVIDER_ID;const Ke=L.aw;class Be{constructor(Me,Te,wt=P.Z.app()){var Qt;Ke(null===(Qt=wt.options)||void 0===Qt?void 0:Qt.apiKey,"invalid-api-key",{appName:wt.name}),this._delegate=new L.R(Me,Te,wt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vt(ye){ye.INTERNAL.registerComponent(new se.wA("auth-compat",Me=>{const Te=Me.getProvider("app-compat").getImmediate(),wt=Me.getProvider("auth");return new fn(Te,wt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.L,FacebookAuthProvider:L.M,GithubAuthProvider:L.Q,GoogleAuthProvider:L.N,OAuthProvider:L.T,SAMLAuthProvider:L.U,PhoneAuthProvider:$n,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:Be,TwitterAuthProvider:L.V,Auth:fn,AuthCredential:L.G,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ye.registerVersion("@firebase/auth-compat","0.2.11")}(P.Z)},2731:(un,ut,D)=>{"use strict";D.d(ut,{F8:()=>a.F8,ET:()=>a.ET,hJ:()=>a.hJ,oe:()=>a.oe,JU:()=>a.JU,Wu:()=>a.Wu,QT:()=>a.QT,PL:()=>a.PL,ad:()=>a.ad,b9:()=>a.b9,cf:()=>a.cf,Xo:()=>a.Xo,IO:()=>a.IO,pl:()=>a.pl,e0:()=>a.e0,r7:()=>a.r7,ar:()=>a.ar});var a=D(5525)},2375:(un,ut,D)=>{"use strict";D.d(ut,{KL:()=>gn,Gb:()=>Te});var a=D(5861),L=(D(2833),D(4859)),Y=D(2090),he=D(9681);const fe="/firebase-messaging-sw.js",se="/firebase-cloud-messaging-push-scope",q="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",W="google.c.a.c_id",re="google.c.a.c_l",we="google.c.a.ts",oe="google.c.a.e";var le=(()=>{return(Oe=le||(le={})).PUSH_RECEIVED="push-received",Oe.NOTIFICATION_CLICKED="notification-clicked",le;var Oe})();function J(Oe){const ot=new Uint8Array(Oe);return btoa(String.fromCharCode(...ot)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xe(Oe){const qt=(Oe+"=".repeat((4-Oe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),on=atob(qt),mn=new Uint8Array(on.length);for(let ze=0;ze<on.length;++ze)mn[ze]=on.charCodeAt(ze);return mn}const be="fcm_token_details_db",Ie="fcm_token_object_Store";function ke(Oe){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,a.Z)(function*(Oe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ze=>ze.name).includes(be))return null;let ot=null;return(yield(0,Y.X3)(be,5,function(){var on=(0,a.Z)(function*(mn,ze,At,Gt){var Rt;if(ze<2||!mn.objectStoreNames.contains(Ie))return;const yn=Gt.objectStore(Ie),Rn=yield yn.index("fcmSenderId").get(Oe);if(yield yn.clear(),Rn)if(2===ze){const ct=Rn;if(!ct.auth||!ct.p256dh||!ct.endpoint)return;ot={token:ct.fcmToken,createTime:null!==(Rt=ct.createTime)&&void 0!==Rt?Rt:Date.now(),subscriptionOptions:{auth:ct.auth,p256dh:ct.p256dh,endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:"string"==typeof ct.vapidKey?ct.vapidKey:J(ct.vapidKey)}}}else if(3===ze){const ct=Rn;ot={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:J(ct.auth),p256dh:J(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:J(ct.vapidKey)}}}else if(4===ze){const ct=Rn;ot={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:J(ct.auth),p256dh:J(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:J(ct.vapidKey)}}}});return function(mn,ze,At,Gt){return on.apply(this,arguments)}}())).close(),yield(0,Y.Lj)(be),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),nt(ot)?ot:null}),Ne.apply(this,arguments)}function nt(Oe){if(!Oe||!Oe.subscriptionOptions)return!1;const{subscriptionOptions:ot}=Oe;return"number"==typeof Oe.createTime&&Oe.createTime>0&&"string"==typeof Oe.token&&Oe.token.length>0&&"string"==typeof ot.auth&&ot.auth.length>0&&"string"==typeof ot.p256dh&&ot.p256dh.length>0&&"string"==typeof ot.endpoint&&ot.endpoint.length>0&&"string"==typeof ot.swScope&&ot.swScope.length>0&&"string"==typeof ot.vapidKey&&ot.vapidKey.length>0}const ht="firebase-messaging-store";let Ue=null;function Fe(){return Ue||(Ue=(0,Y.X3)("firebase-messaging-database",1,(Oe,ot)=>{0===ot&&Oe.createObjectStore(ht)})),Ue}function Le(Oe){return Re.apply(this,arguments)}function Re(){return(Re=(0,a.Z)(function*(Oe){const ot=_t(Oe),on=yield(yield Fe()).transaction(ht).objectStore(ht).get(ot);if(on)return on;{const mn=yield ke(Oe.appConfig.senderId);if(mn)return yield it(Oe,mn),mn}})).apply(this,arguments)}function it(Oe,ot){return je.apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(Oe,ot){const qt=_t(Oe),mn=(yield Fe()).transaction(ht,"readwrite");return yield mn.objectStore(ht).put(ot,qt),yield mn.complete,ot})).apply(this,arguments)}function Ut(Oe){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(Oe){const ot=_t(Oe),on=(yield Fe()).transaction(ht,"readwrite");yield on.objectStore(ht).delete(ot),yield on.complete})).apply(this,arguments)}function _t({appConfig:Oe}){return Oe.appId}const Z=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ue(Oe,ot){return Se.apply(this,arguments)}function Se(){return(Se=(0,a.Z)(function*(Oe,ot){const qt=yield an(Oe),on=Jt(ot),mn={method:"POST",headers:qt,body:JSON.stringify(on)};let ze;try{ze=yield(yield fetch(Ft(Oe.appConfig),mn)).json()}catch(At){throw Z.create("token-subscribe-failed",{errorInfo:At})}if(ze.error)throw Z.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw Z.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function ce(Oe,ot){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(Oe,ot){const qt=yield an(Oe),on=Jt(ot.subscriptionOptions),mn={method:"PATCH",headers:qt,body:JSON.stringify(on)};let ze;try{ze=yield(yield fetch(`${Ft(Oe.appConfig)}/${ot.token}`,mn)).json()}catch(At){throw Z.create("token-update-failed",{errorInfo:At})}if(ze.error)throw Z.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw Z.create("token-update-no-token");return ze.token})).apply(this,arguments)}function mt(Oe,ot){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(function*(Oe,ot){const on={method:"DELETE",headers:yield an(Oe)};try{const ze=yield(yield fetch(`${Ft(Oe.appConfig)}/${ot}`,on)).json();if(ze.error)throw Z.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(mn){throw Z.create("token-unsubscribe-failed",{errorInfo:mn})}})).apply(this,arguments)}function Ft({projectId:Oe}){return`https://fcmregistrations.googleapis.com/v1/projects/${Oe}/registrations`}function an(Oe){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*({appConfig:Oe,installations:ot}){const qt=yield ot.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Oe.apiKey,"x-goog-firebase-installations-auth":`FIS ${qt}`})})).apply(this,arguments)}function Jt({p256dh:Oe,auth:ot,endpoint:qt,vapidKey:on}){const mn={web:{endpoint:qt,auth:ot,p256dh:Oe}};return on!==q&&(mn.web.applicationPubKey=on),mn}const En=6048e5;function nr(Oe){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(Oe){const ot=yield cr(Oe.swRegistration,Oe.vapidKey),qt={vapidKey:Oe.vapidKey,swScope:Oe.swRegistration.scope,endpoint:ot.endpoint,auth:J(ot.getKey("auth")),p256dh:J(ot.getKey("p256dh"))},on=yield Le(Oe.firebaseDependencies);if(on){if(Mt(on.subscriptionOptions,qt))return Date.now()>=on.createTime+En?or(Oe,{token:on.token,createTime:Date.now(),subscriptionOptions:qt}):on.token;try{yield mt(Oe.firebaseDependencies,on.token)}catch(mn){console.warn(mn)}return Vn(Oe.firebaseDependencies,qt)}return Vn(Oe.firebaseDependencies,qt)})).apply(this,arguments)}function Jn(Oe){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(Oe){const ot=yield Le(Oe.firebaseDependencies);ot&&(yield mt(Oe.firebaseDependencies,ot.token),yield Ut(Oe.firebaseDependencies));const qt=yield Oe.swRegistration.pushManager.getSubscription();return!qt||qt.unsubscribe()})).apply(this,arguments)}function or(Oe,ot){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,a.Z)(function*(Oe,ot){try{const qt=yield ce(Oe.firebaseDependencies,ot),on=Object.assign(Object.assign({},ot),{token:qt,createTime:Date.now()});return yield it(Oe.firebaseDependencies,on),qt}catch(qt){throw yield Jn(Oe),qt}})).apply(this,arguments)}function Vn(Oe,ot){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(Oe,ot){const on={token:yield ue(Oe,ot),createTime:Date.now(),subscriptionOptions:ot};return yield it(Oe,on),on.token})).apply(this,arguments)}function cr(Oe,ot){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(Oe,ot){return(yield Oe.pushManager.getSubscription())||Oe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xe(ot)})})).apply(this,arguments)}function Mt(Oe,ot){return ot.vapidKey===Oe.vapidKey&&ot.endpoint===Oe.endpoint&&ot.auth===Oe.auth&&ot.p256dh===Oe.p256dh}function Ye(Oe){const ot={from:Oe.from,collapseKey:Oe.collapse_key,messageId:Oe.fcmMessageId};return function $e(Oe,ot){if(!ot.notification)return;Oe.notification={};const qt=ot.notification.title;qt&&(Oe.notification.title=qt);const on=ot.notification.body;on&&(Oe.notification.body=on);const mn=ot.notification.image;mn&&(Oe.notification.image=mn)}(ot,Oe),function Pt(Oe,ot){!ot.data||(Oe.data=ot.data)}(ot,Oe),function bt(Oe,ot){if(!ot.fcmOptions)return;Oe.fcmOptions={};const qt=ot.fcmOptions.link;qt&&(Oe.fcmOptions.link=qt);const on=ot.fcmOptions.analytics_label;on&&(Oe.fcmOptions.analyticsLabel=on)}(ot,Oe),ot}function zt(Oe){return"object"==typeof Oe&&!!Oe&&W in Oe}function Kt(Oe,ot){const qt=[];for(let on=0;on<Oe.length;on++)qt.push(Oe.charAt(on)),on<ot.length&&qt.push(ot.charAt(on));return qt.join("")}function Wn(Oe){return Z.create("missing-app-config-values",{valueName:Oe})}Kt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Kt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qn{constructor(ot,qt,on){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const mn=function Gn(Oe){if(!Oe||!Oe.options)throw Wn("App Configuration Object");if(!Oe.name)throw Wn("App Name");const ot=["projectId","apiKey","appId","messagingSenderId"],{options:qt}=Oe;for(const on of ot)if(!qt[on])throw Wn(on);return{appName:Oe.name,projectId:qt.projectId,apiKey:qt.apiKey,appId:qt.appId,senderId:qt.messagingSenderId}}(ot);this.firebaseDependencies={app:ot,appConfig:mn,installations:qt,analyticsProvider:on}}_delete(){return Promise.resolve()}}function mr(Oe){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(Oe){try{Oe.swRegistration=yield navigator.serviceWorker.register(fe,{scope:se}),Oe.swRegistration.update().catch(()=>{})}catch(ot){throw Z.create("failed-service-worker-registration",{browserErrorMessage:ot.message})}})).apply(this,arguments)}function bn(Oe,ot){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(Oe,ot){if(!ot&&!Oe.swRegistration&&(yield mr(Oe)),ot||!Oe.swRegistration){if(!(ot instanceof ServiceWorkerRegistration))throw Z.create("invalid-sw-registration");Oe.swRegistration=ot}})).apply(this,arguments)}function ur(Oe,ot){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(Oe,ot){ot?Oe.vapidKey=ot:Oe.vapidKey||(Oe.vapidKey=q)})).apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(Oe,ot){if(!navigator)throw Z.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Z.create("permission-blocked");return yield ur(Oe,null==ot?void 0:ot.vapidKey),yield bn(Oe,null==ot?void 0:ot.serviceWorkerRegistration),nr(Oe)})).apply(this,arguments)}function fn(Oe,ot,qt){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(Oe,ot,qt){const on=Kn(ot);(yield Oe.firebaseDependencies.analyticsProvider.get()).logEvent(on,{message_id:qt[W],message_name:qt[re],message_time:qt[we],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kn(Oe){switch(Oe){case le.NOTIFICATION_CLICKED:return"notification_open";case le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ke(){return(Ke=(0,a.Z)(function*(Oe,ot){const qt=ot.data;if(!qt.isFirebaseMessaging)return;Oe.onMessageHandler&&qt.messageType===le.PUSH_RECEIVED&&("function"==typeof Oe.onMessageHandler?Oe.onMessageHandler(Ye(qt)):Oe.onMessageHandler.next(Ye(qt)));const on=qt.data;zt(on)&&"1"===on[oe]&&(yield fn(Oe,qt.messageType,on))})).apply(this,arguments)}const Be="@firebase/messaging",vt=Oe=>{const ot=new Qn(Oe.getProvider("app").getImmediate(),Oe.getProvider("installations-internal").getImmediate(),Oe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",qt=>function $n(Oe,ot){return Ke.apply(this,arguments)}(ot,qt)),ot},ye=Oe=>{const ot=Oe.getProvider("messaging").getImmediate();return{getToken:on=>function Nt(Oe,ot){return Dt.apply(this,arguments)}(ot,on)}};function Te(){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(){try{yield(0,Y.eu)()}catch(Oe){return!1}return"undefined"!=typeof window&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function gn(Oe=(0,he.getApp)()){return Te().then(ot=>{if(!ot)throw Z.create("unsupported-browser")},ot=>{throw Z.create("indexed-db-unsupported")}),(0,he._getProvider)((0,Y.m9)(Oe),"messaging").getImmediate()}!function Me(){(0,he._registerComponent)(new L.wA("messaging",vt,"PUBLIC")),(0,he._registerComponent)(new L.wA("messaging-internal",ye,"PRIVATE")),(0,he.registerVersion)(Be,"0.9.11"),(0,he.registerVersion)(Be,"0.9.11","esm2017")}()},2480:(un,ut,D)=>{"use strict";D.d(ut,{Jt:()=>Ai,cF:()=>ji,iH:()=>oi,KV:()=>Xr});var a=D(5861),P=D(9681),L=D(2090),Y=D(4859);const he="firebasestorage.googleapis.com",fe="storageBucket";class ee extends L.ZR{constructor(F,Ce){super(W(F),`Firebase Storage: ${Ce} (${W(F)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}_codeEquals(F){return W(F)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(F){this.customData.serverResponse=F,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function W($){return"storage/"+$}function re(){return new ee("unknown","An unknown error occurred, please check the error payload for server response.")}function Ge($){return new ee("invalid-argument",$)}function ht(){return new ee("app-deleted","The Firebase app was deleted.")}function Fe($,F){return new ee("invalid-format","String does not match format '"+$+"': "+F)}function Le($){throw new ee("internal-error","Internal error: "+$)}class Re{constructor(F,Ce){this.bucket=F,this.path_=Ce}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const F=encodeURIComponent;return"/b/"+F(this.bucket)+"/o/"+F(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(F,Ce){let Ve;try{Ve=Re.makeFromUrl(F,Ce)}catch(lt){return new Re(F,"")}if(""===Ve.path)return Ve;throw function Ie($){return new ee("invalid-default-bucket","Invalid default bucket '"+$+"'.")}(F)}static makeFromUrl(F,Ce){let Ve=null;const lt="([A-Za-z0-9.\\-_]+)",Fn=new RegExp("^gs://"+lt+"(/(.*))?$","i");function hr(nn){nn.path_=decodeURIComponent(nn.path)}const wr=Ce.replace(/[.]/g,"\\."),dt=[{regex:Fn,indices:{bucket:1,path:3},postModify:function Ct(nn){"/"===nn.path.charAt(nn.path.length-1)&&(nn.path_=nn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wr}/v[A-Za-z0-9_]+/b/${lt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${Ce===he?"(?:storage.googleapis.com|storage.cloud.google.com)":Ce}/${lt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let nn=0;nn<dt.length;nn++){const hn=dt[nn],Un=hn.regex.exec(F);if(Un){let Dr=Un[hn.indices.path];Dr||(Dr=""),Ve=new Re(Un[hn.indices.bucket],Dr),hn.postModify(Ve);break}}if(null==Ve)throw function _e($){return new ee("invalid-url","Invalid URL '"+$+"'.")}(F);return Ve}}class it{constructor(F){this.promise_=Promise.reject(F)}getPromise(){return this.promise_}cancel(F=!1){}}function Z($){return"string"==typeof $||$ instanceof String}function ue($){return Se()&&$ instanceof Blob}function Se(){return"undefined"!=typeof Blob}function ce($,F,Ce,Ve){if(Ve<F)throw Ge(`Invalid value for '${$}'. Expected ${F} or greater.`);if(Ve>Ce)throw Ge(`Invalid value for '${$}'. Expected ${Ce} or less.`)}function st($,F,Ce){let Ve=F;return null==Ce&&(Ve=`https://${F}`),`${Ce}://${Ve}/v0${$}`}function mt($){const F=encodeURIComponent;let Ce="?";for(const Ve in $)$.hasOwnProperty(Ve)&&(Ce=Ce+(F(Ve)+"=")+F($[Ve])+"&");return Ce=Ce.slice(0,-1),Ce}var Xe=(()=>{return($=Xe||(Xe={}))[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT",Xe;var $})();class Ft{constructor(F,Ce,Ve,lt,Ct,ln,Fn,kn,hr,br,wr){this.url_=F,this.method_=Ce,this.headers_=Ve,this.body_=lt,this.successCodes_=Ct,this.additionalRetryCodes_=ln,this.callback_=Fn,this.errorCallback_=kn,this.timeout_=hr,this.progressCallback_=br,this.connectionFactory_=wr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,X)=>{this.resolve_=k,this.reject_=X,this.start_()})}start_(){const Ce=(Ve,lt)=>{const Ct=this.resolve_,ln=this.reject_,Fn=lt.connection;if(lt.wasSuccessCode)try{const kn=this.callback_(Fn,Fn.getResponse());!function Lt($){return void 0!==$}(kn)?Ct():Ct(kn)}catch(kn){ln(kn)}else if(null!==Fn){const kn=re();kn.serverResponse=Fn.getErrorText(),ln(this.errorCallback_?this.errorCallback_(Fn,kn):kn)}else ln(lt.canceled?this.appDelete_?ht():function be(){return new ee("canceled","User canceled the upload/download.")}():function xe(){return new ee("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?Ce(0,new an(!1,null,!0)):this.backoffId_=function je($,F,Ce){let Ve=1,lt=null,Ct=null,ln=!1,Fn=0;function kn(){return 2===Fn}let hr=!1;function br(...g){hr||(hr=!0,F.apply(null,g))}function wr(g){lt=setTimeout(()=>{lt=null,$(X,kn())},g)}function k(){Ct&&clearTimeout(Ct)}function X(g,...C){if(hr)return void k();if(g)return k(),void br.call(null,g,...C);if(kn()||ln)return k(),void br.call(null,g,...C);let dt;Ve<64&&(Ve*=2),1===Fn?(Fn=2,dt=0):dt=1e3*(Ve+Math.random()),wr(dt)}let d=!1;function _(g){d||(d=!0,k(),!hr&&(null!==lt?(g||(Fn=2),clearTimeout(lt),wr(0)):g||(Fn=1)))}return wr(0),Ct=setTimeout(()=>{ln=!0,_(!0)},Ce),_}((Ve,lt)=>{if(lt)return void Ve(!1,new an(!1,null,!0));const Ct=this.connectionFactory_();this.pendingConnection_=Ct;const ln=Fn=>{null!==this.progressCallback_&&this.progressCallback_(Fn.loaded,Fn.lengthComputable?Fn.total:-1)};null!==this.progressCallback_&&Ct.addUploadProgressListener(ln),Ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ct.removeUploadProgressListener(ln),this.pendingConnection_=null;const Fn=Ct.getErrorCode()===Xe.NO_ERROR,kn=Ct.getStatus();if(!Fn||this.isRetryStatusCode_(kn)){const br=Ct.getErrorCode()===Xe.ABORT;return void Ve(!1,new an(!1,null,br))}const hr=-1!==this.successCodes_.indexOf(kn);Ve(!0,new an(hr,Ct))})},Ce,this.timeout_)}getPromise(){return this.promise_}cancel(F){this.canceled_=!0,this.appDelete_=F||!1,null!==this.backoffId_&&function Ut($){$(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(F){const Ce=F>=500&&F<600,lt=-1!==[408,429].indexOf(F),Ct=-1!==this.additionalRetryCodes_.indexOf(F);return Ce||lt||Ct}}class an{constructor(F,Ce,Ve){this.wasSuccessCode=F,this.connection=Ce,this.canceled=!!Ve}}function rr(...$){const F=function Jn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==F){const Ce=new F;for(let Ve=0;Ve<$.length;Ve++)Ce.append($[Ve]);return Ce.getBlob()}if(Se())return new Blob($);throw new ee("unsupported-environment","This browser doesn't seem to support creating Blobs")}class Zt{constructor(F,Ce){this.data=F,this.contentType=Ce||null}}function ar($){const F=[];for(let Ce=0;Ce<$.length;Ce++){let Ve=$.charCodeAt(Ce);Ve<=127?F.push(Ve):Ve<=2047?F.push(192|Ve>>6,128|63&Ve):55296==(64512&Ve)?Ce<$.length-1&&56320==(64512&$.charCodeAt(Ce+1))?(Ve=65536|(1023&Ve)<<10|1023&$.charCodeAt(++Ce),F.push(240|Ve>>18,128|Ve>>12&63,128|Ve>>6&63,128|63&Ve)):F.push(239,191,189):56320==(64512&Ve)?F.push(239,191,189):F.push(224|Ve>>12,128|Ve>>6&63,128|63&Ve)}return new Uint8Array(F)}function Ye($,F){switch($){case"base64":{const lt=-1!==F.indexOf("-"),Ct=-1!==F.indexOf("_");if(lt||Ct)throw Fe($,"Invalid character '"+(lt?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const lt=-1!==F.indexOf("+"),Ct=-1!==F.indexOf("/");if(lt||Ct)throw Fe($,"Invalid character '"+(lt?"+":"/")+"' found: is it base64 encoded?");F=F.replace(/-/g,"+").replace(/_/g,"/");break}}let Ce;try{Ce=function Hn($){return atob($)}(F)}catch(lt){throw Fe($,"Invalid character found")}const Ve=new Uint8Array(Ce.length);for(let lt=0;lt<Ce.length;lt++)Ve[lt]=Ce.charCodeAt(lt);return Ve}class $e{constructor(F){this.base64=!1,this.contentType=null;const Ce=F.match(/^data:([^,]+)?,/);if(null===Ce)throw Fe("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const Ve=Ce[1]||null;null!=Ve&&(this.base64=function zt($,F){return $.length>=F.length&&$.substring($.length-F.length)===F}(Ve,";base64"),this.contentType=this.base64?Ve.substring(0,Ve.length-7):Ve),this.rest=F.substring(F.indexOf(",")+1)}}class Kt{constructor(F,Ce){let Ve=0,lt="";ue(F)?(this.data_=F,Ve=F.size,lt=F.type):F instanceof ArrayBuffer?(Ce?this.data_=new Uint8Array(F):(this.data_=new Uint8Array(F.byteLength),this.data_.set(new Uint8Array(F))),Ve=this.data_.length):F instanceof Uint8Array&&(Ce?this.data_=F:(this.data_=new Uint8Array(F.length),this.data_.set(F)),Ve=F.length),this.size_=Ve,this.type_=lt}size(){return this.size_}type(){return this.type_}slice(F,Ce){if(ue(this.data_)){const lt=function or($,F,Ce){return $.webkitSlice?$.webkitSlice(F,Ce):$.mozSlice?$.mozSlice(F,Ce):$.slice?$.slice(F,Ce):null}(this.data_,F,Ce);return null===lt?null:new Kt(lt)}{const Ve=new Uint8Array(this.data_.buffer,F,Ce-F);return new Kt(Ve,!0)}}static getBlob(...F){if(Se()){const Ce=F.map(Ve=>Ve instanceof Kt?Ve.data_:Ve);return new Kt(rr.apply(null,Ce))}{const Ce=F.map(ln=>Z(ln)?function cr($,F){switch($){case"raw":return new Zt(ar(F));case"base64":case"base64url":return new Zt(Ye($,F));case"data_url":return new Zt(function Pt($){const F=new $e($);return F.base64?Ye("base64",F.rest):function Mt($){let F;try{F=decodeURIComponent($)}catch(Ce){throw Fe("data_url","Malformed data URL.")}return ar(F)}(F.rest)}(F),function bt($){return new $e($).contentType}(F))}throw re()}("raw",ln).data:ln.data_);let Ve=0;Ce.forEach(ln=>{Ve+=ln.byteLength});const lt=new Uint8Array(Ve);let Ct=0;return Ce.forEach(ln=>{for(let Fn=0;Fn<ln.length;Fn++)lt[Ct++]=ln[Fn]}),new Kt(lt,!0)}}uploadData(){return this.data_}}function Gn($){let F;try{F=JSON.parse($)}catch(Ce){return null}return function ve($){return"object"==typeof $&&!Array.isArray($)}(F)?F:null}function mr($){const F=$.lastIndexOf("/",$.length-2);return-1===F?$:$.slice(F+1)}function dr($,F){return F}class bn{constructor(F,Ce,Ve,lt){this.server=F,this.local=Ce||F,this.writable=!!Ve,this.xform=lt||dr}}let Nn=null;function dn(){if(Nn)return Nn;const $=[];$.push(new bn("bucket")),$.push(new bn("generation")),$.push(new bn("metageneration")),$.push(new bn("name","fullPath",!0));const Ce=new bn("name");Ce.xform=function F(Ct,ln){return function ur($){return!Z($)||$.length<2?$:mr($)}(ln)},$.push(Ce);const lt=new bn("size");return lt.xform=function Ve(Ct,ln){return void 0!==ln?Number(ln):ln},$.push(lt),$.push(new bn("timeCreated")),$.push(new bn("updated")),$.push(new bn("md5Hash",null,!0)),$.push(new bn("cacheControl",null,!0)),$.push(new bn("contentDisposition",null,!0)),$.push(new bn("contentEncoding",null,!0)),$.push(new bn("contentLanguage",null,!0)),$.push(new bn("contentType",null,!0)),$.push(new bn("metadata","customMetadata",!0)),Nn=$,Nn}function fn($,F,Ce){const Ve=Gn(F);return null===Ve?null:function Dt($,F,Ce){const Ve={type:"file"},lt=Ce.length;for(let Ct=0;Ct<lt;Ct++){const ln=Ce[Ct];Ve[ln.local]=ln.xform(Ve,F[ln.server])}return function Nt($,F){Object.defineProperty($,"ref",{get:function Ce(){const Ct=new Re($.bucket,$.fullPath);return F._makeStorageReference(Ct)}})}(Ve,$),Ve}($,Ve,Ce)}class vt{constructor(F,Ce,Ve,lt){this.url=F,this.method=Ce,this.handler=Ve,this.timeout=lt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ye($){if(!$)throw re()}function Qt($){return function F(Ce,Ve){let lt;return lt=401===Ce.getStatus()?Ce.getErrorText().includes("Firebase App Check token is invalid")?function le(){return new ee("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ae(){return new ee("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ce.getStatus()?function oe($){return new ee("quota-exceeded","Quota for bucket '"+$+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}($.bucket):403===Ce.getStatus()?function J($){return new ee("unauthorized","User does not have permission to access '"+$+"'.")}($.path):Ve,lt.serverResponse=Ve.serverResponse,lt}}function qt($,F,Ce,Ve,lt){const Ct=F.bucketOnlyServerUrl(),ln={"X-Goog-Upload-Protocol":"multipart"},kn=function Fn(){let dt="";for(let nn=0;nn<2;nn++)dt+=Math.random().toString().slice(2);return dt}();ln["Content-Type"]="multipart/related; boundary="+kn;const hr=function ot($,F,Ce){const Ve=Object.assign({},Ce);return Ve.fullPath=$.path,Ve.size=F.size(),Ve.contentType||(Ve.contentType=function Oe($,F){return $&&$.contentType||F&&F.type()||"application/octet-stream"}(null,F)),Ve}(F,Ve,lt),br=function Kn($,F){const Ce={},Ve=F.length;for(let lt=0;lt<Ve;lt++){const Ct=F[lt];Ct.writable&&(Ce[Ct.server]=$[Ct.local])}return JSON.stringify(Ce)}(hr,Ce),X=Kt.getBlob("--"+kn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+br+"\r\n--"+kn+"\r\nContent-Type: "+hr.contentType+"\r\n\r\n",Ve,"\r\n--"+kn+"--");if(null===X)throw function Ne(){return new ee("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const d={name:hr.fullPath},_=st(Ct,$.host,$._protocol),C=$.maxUploadRetryTime,z=new vt(_,"POST",function Me($,F){return function Ce(Ve,lt){const Ct=fn($,lt,F);return ye(null!==Ct),Ct}}($,Ce),C);return z.urlParams=d,z.headers=ln,z.body=X.uploadData(),z.errorHandler=Qt(F),z}class xn extends class Tt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xe.NO_ERROR,this.sendPromise_=new Promise(F=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xe.ABORT,F()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xe.NETWORK_ERROR,F()}),this.xhr_.addEventListener("load",()=>{F()})})}send(F,Ce,Ve,lt){if(this.sent_)throw Le("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ce,F,!0),void 0!==lt)for(const Ct in lt)lt.hasOwnProperty(Ct)&&this.xhr_.setRequestHeader(Ct,lt[Ct].toString());return void 0!==Ve?this.xhr_.send(Ve):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Le("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Le("cannot .getStatus() before sending");try{return this.xhr_.status}catch(F){return-1}}getResponse(){if(!this.sent_)throw Le("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Le("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(F){return this.xhr_.getResponseHeader(F)}addUploadProgressListener(F){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",F)}removeUploadProgressListener(F){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",F)}}{initXhr(){this.xhr_.responseType="text"}}function On(){return new xn}class N{constructor(F,Ce){this._service=F,this._location=Ce instanceof Re?Ce:Re.makeFromUrl(Ce,F.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(F,Ce){return new N(F,Ce)}get root(){const F=new Re(this._location.bucket,"");return this._newRef(this._service,F)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mr(this._location.path)}get storage(){return this._service}get parent(){const F=function Wn($){if(0===$.length)return null;const F=$.lastIndexOf("/");return-1===F?"":$.slice(0,F)}(this._location.path);if(null===F)return null;const Ce=new Re(this._location.bucket,F);return new N(this._service,Ce)}_throwIfRoot(F){if(""===this._location.path)throw function Ue($){return new ee("invalid-root-operation","The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(F)}}function qn($){$._throwIfRoot("getDownloadURL");const F=function ir($,F,Ce){const lt=st(F.fullServerUrl(),$.host,$._protocol),ln=$.maxOperationRetryTime,Fn=new vt(lt,"GET",function wt($,F){return function Ce(Ve,lt){const Ct=fn($,lt,F);return ye(null!==Ct),function Tn($,F,Ce,Ve){const lt=Gn(F);if(null===lt||!Z(lt.downloadTokens))return null;const Ct=lt.downloadTokens;if(0===Ct.length)return null;const ln=encodeURIComponent;return Ct.split(",").map(hr=>{const wr=$.fullPath;return st("/b/"+ln($.bucket)+"/o/"+ln(wr),Ce,Ve)+mt({alt:"media",token:hr})})[0]}(Ct,lt,$.host,$._protocol)}}($,Ce),ln);return Fn.errorHandler=function vn($){const F=Qt($);return function Ce(Ve,lt){let Ct=F(Ve,lt);return 404===Ve.getStatus()&&(Ct=function we($){return new ee("object-not-found","Object '"+$+"' does not exist.")}($.path)),Ct.serverResponse=lt.serverResponse,Ct}}(F),Fn}($.storage,$._location,dn());return $.storage.makeRequestWithTokens(F,On).then(Ce=>{if(null===Ce)throw function xt(){return new ee("no-download-url","The given file does not have any download URLs.")}();return Ce})}function ni($,F){if($ instanceof Ni){const Ce=$;if(null==Ce._bucket)throw function ke(){return new ee("no-default-bucket","No default bucket found. Did you set the '"+fe+"' property when initializing the app?")}();const Ve=new N(Ce,Ce._bucket);return null!=F?ni(Ve,F):Ve}return void 0!==F?function ti($,F){const Ce=function Qn($,F){const Ce=F.split("/").filter(Ve=>Ve.length>0).join("/");return 0===$.length?Ce:$+"/"+Ce}($._location.path,F),Ve=new Re($._location.bucket,Ce);return new N($.storage,Ve)}($,F):$}function Qr($,F){const Ce=null==F?void 0:F[fe];return null==Ce?null:Re.makeFromBucketSpec(Ce,$)}class Ni{constructor(F,Ce,Ve,lt,Ct){this.app=F,this._authProvider=Ce,this._appCheckProvider=Ve,this._url=lt,this._firebaseVersion=Ct,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=lt?Re.makeFromBucketSpec(lt,this._host):Qr(this._host,this.app.options)}get host(){return this._host}set host(F){this._host=F,this._bucket=null!=this._url?Re.makeFromBucketSpec(this._url,F):Qr(F,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(F){ce("time",0,Number.POSITIVE_INFINITY,F),this._maxUploadRetryTime=F}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(F){ce("time",0,Number.POSITIVE_INFINITY,F),this._maxOperationRetryTime=F}_getAuthToken(){var F=this;return(0,a.Z)(function*(){if(F._overrideAuthToken)return F._overrideAuthToken;const Ce=F._authProvider.getImmediate({optional:!0});if(Ce){const Ve=yield Ce.getToken();if(null!==Ve)return Ve.accessToken}return null})()}_getAppCheckToken(){var F=this;return(0,a.Z)(function*(){const Ce=F._appCheckProvider.getImmediate({optional:!0});return Ce?(yield Ce.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(F=>F.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(F){return new N(this,F)}_makeRequest(F,Ce,Ve,lt){if(this._deleted)return new it(ht());{const Ct=function lr($,F,Ce,Ve,lt,Ct){const ln=mt($.urlParams),Fn=$.url+ln,kn=Object.assign({},$.headers);return function En($,F){F&&($["X-Firebase-GMPID"]=F)}(kn,F),function tn($,F){null!==F&&F.length>0&&($.Authorization="Firebase "+F)}(kn,Ce),function Jt($,F){$["X-Firebase-Storage-Version"]="webjs/"+(null!=F?F:"AppManager")}(kn,Ct),function nr($,F){null!==F&&($["X-Firebase-AppCheck"]=F)}(kn,Ve),new Ft(Fn,$.method,kn,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,lt)}(F,this._appId,Ve,lt,Ce,this._firebaseVersion);return this._requests.add(Ct),Ct.getPromise().then(()=>this._requests.delete(Ct),()=>this._requests.delete(Ct)),Ct}}makeRequestWithTokens(F,Ce){var Ve=this;return(0,a.Z)(function*(){const[lt,Ct]=yield Promise.all([Ve._getAuthToken(),Ve._getAppCheckToken()]);return Ve._makeRequest(F,Ce,lt,Ct).getPromise()})()}}const ui="@firebase/storage",Ti="storage";function Xr($,F,Ce){return function ne($,F,Ce){$._throwIfRoot("uploadBytes");const Ve=qt($.storage,$._location,dn(),new Kt(F,!0),Ce);return $.storage.makeRequestWithTokens(Ve,On).then(lt=>({metadata:lt,ref:$}))}($=(0,L.m9)($),F,Ce)}function Ai($){return qn($=(0,L.m9)($))}function oi($,F){return function vi($,F){if(F&&function Fr($){return/^[A-Za-z]+:\/\//.test($)}(F)){if($ instanceof Ni)return function zr($,F){return new N($,F)}($,F);throw Ge("To use ref(service, url), the first argument must be a Storage instance.")}return ni($,F)}($=(0,L.m9)($),F)}function ji($=(0,P.getApp)(),F){return $=(0,L.m9)($),(0,P._getProvider)($,Ti).getImmediate({identifier:F})}function at($,{instanceIdentifier:F}){const Ce=$.getProvider("app").getImmediate(),Ve=$.getProvider("auth-internal"),lt=$.getProvider("app-check-internal");return new Ni(Ce,Ve,lt,F,P.SDK_VERSION)}!function Bt(){(0,P._registerComponent)(new Y.wA(Ti,at,"PUBLIC").setMultipleInstances(!0)),(0,P.registerVersion)(ui,"0.9.4",""),(0,P.registerVersion)(ui,"0.9.4","esm2017")}()},3883:function(un,ut){!function(D){"use strict";const a="0123456789bcdefghjkmnpqrstuvwxyz";function P(ve){return ve*Math.PI/180}function L(ve,Z=!1){let ue;if("string"!=typeof ve)ue="geohash must be a string";else if(0===ve.length)ue="geohash cannot be the empty string";else for(const Se of ve)-1===a.indexOf(Se)&&(ue="geohash cannot contain '"+Se+"'");if(void 0===ue||Z)return!ue;throw new Error("Invalid geohash '"+ve+"': "+ue)}function Y(ve,Z=!1){const ue=[];if(ve)if(void 0===ve.lat)ue.push("Latitude must exist on coordinates");else if(void 0===ve.lng)ue.push("Longitude must exist on coordinates");else{const Se=ve.lat,ce=ve.lng;"number"!=typeof Se||isNaN(Se)?ue.push("Latitude must be a number."):Se<-90||Se>90?ue.push("Latitude must be within the range [-90, 90]."):"number"!=typeof ce||isNaN(ce)?ue.push("Longitude must be a number"):(ce<-180||ce>180)&&ue.push("Longitude must be within the range [-180, 180]")}else ue.push("Coordinates must exist.");if(ue.length>0&&!Z)throw new Error("Invalid coordinates: "+ue.join(" "));return!ue}function he(ve,Z=10){if(Y(ve),"number"!=typeof Z||isNaN(Z))throw new Error("Precision must be a number");if(Z<=0)throw new Error("Precision must be greater than 0");if(Z>22)throw new Error("Precision cannot be greater than 22");if(Math.round(Z)!==Z)throw new Error("Precision must be an integer");const ue=[-90,90],Se=[-180,180];let ce="",st=0,mt=0,Xe=1;for(;ce.length<Z;){const an=Xe?Se:ue,tn=(an[0]+an[1])/2;(Xe?ve.lng:ve.lat)>tn?(st=1+(st<<1),an[0]=tn):(st=0+(st<<1),an[1]=tn),Xe=!Xe,mt<4?mt++:(mt=0,ce+=a.charAt(st),st=0)}return ce}function fe(ve,Z=!1){let ue;if("[object Object]"!==Object.prototype.toString.call(ve)?ue="no document found":"g"in ve?(ue=L(ve.g.geohash,!0)?ue:"invalid geohash on object",ue=q(ve.g.geopoint,!0)?ue:"invalid location on object"):ue="no `g` field found in object",void 0===ue||Z)return!ue;throw new Error("Invalid GeoFirestore object: "+ue)}function se(ve,Z=!1){let ue;if("number"!=typeof ve||isNaN(ve)?ue="limit must be a number":ve<0&&(ue="limit must be greater than or equal to 0"),void 0===ue||Z)return!ue;throw new Error(ue)}function q(ve,Z=!1){let ue;if(ve)if(void 0===ve.latitude)ue="latitude must exist on GeoPoint";else if(void 0===ve.longitude)ue="longitude must exist on GeoPoint";else{const Se=ve.latitude,ce=ve.longitude;"number"!=typeof Se||isNaN(Se)?ue="latitude must be a number":Se<-90||Se>90?ue="latitude must be within the range [-90, 90]":"number"!=typeof ce||isNaN(ce)?ue="longitude must be a number":(ce<-180||ce>180)&&(ue="longitude must be within the range [-180, 180]")}else ue="GeoPoint must exist";if(void 0===ue||Z)return!ue;throw new Error("Invalid location: "+ue)}function ee(ve,Z=!1){if("object"!=typeof ve)throw new Error("QueryCriteria must be an object");if(void 0===ve.center&&void 0===ve.radius)throw new Error("radius and/or center must be specified");if(Z&&(void 0===ve.center||void 0===ve.radius))throw new Error("QueryCriteria for a new query must contain both a center and a radius");const ue=Object.keys(ve);for(const Se of ue)if(!["center","radius","limit"].includes(Se))throw new Error("Unexpected attribute '"+Se+"' found in query criteria");if(void 0!==ve.center&&q(ve.center),void 0!==ve.radius){if("number"!=typeof ve.radius||isNaN(ve.radius))throw new Error("radius must be a number");if(ve.radius<0)throw new Error("radius must be greater than or equal to 0")}void 0!==ve.limit&&se(ve.limit)}const W="0123456789bcdefghjkmnpqrstuvwxyz";function oe(ve,Z){return q(ve),q(Z),function(ue,Se,ce="km"){Y(ue),Y(Se);const st="miles"===ce.toLowerCase()?3963:6371,mt=P(Se.lat-ue.lat),Xe=P(Se.lng-ue.lng),Ft=P(ue.lat),an=P(Se.lat),tn=Math.sin(mt/2)*Math.sin(mt/2)+Math.sin(Xe/2)*Math.sin(Xe/2)*Math.cos(Ft)*Math.cos(an);return st*(2*Math.atan2(Math.sqrt(tn),Math.sqrt(1-tn)))}({lat:ve.latitude,lng:ve.longitude},{lat:Z.latitude,lng:Z.longitude})}function Ae(ve,Z,ue=!1){let Se,ce;if((Z=Z||"coordinates")in ve)ce=ve[Z];else{const st=Z.split(".");ce=ve;for(const mt of st){if(!(mt in ce)){ce=ve.coordinates;break}ce=ce[mt]}}if(ce||(Se="could not find GeoPoint"),ce&&!q(ce,!0)&&(Se="invalid GeoPoint"),Se&&!ue)throw new Error("Invalid GeoFirestore document: "+Se);return ce}function le(ve,Z){const ue=(ce=Z,fe(Se=ve.data(),!0)?{data:()=>Se,distance:ce?oe(Se.g.geopoint,ce):null}:{data:()=>Se,distance:null});var Se,ce;return Object.assign({exists:ve.exists,id:ve.id},ue)}function J(ve,Z){let ue=function(Se,ce){q(Se);const st=Math.max(1,function we(ve,Z){const ue=Z/110574,Se=Math.min(90,ve.latitude+ue),ce=Math.max(-90,ve.latitude-ue),st=2*Math.floor(Math.min(xe(20003930/Z),110)),Xe=2*Math.floor(be(Z,Se))-1,Ft=2*Math.floor(be(Z,ce))-1;return Math.min(st,Xe,Ft,110)}(Se,ce)),mt=Math.ceil(st/5),Xe=function(Ft,an){const tn=an/110574,Jt=Math.min(90,Ft.latitude+tn),En=Math.max(-90,Ft.latitude-tn),nr=_e(an,Jt),lr=_e(an,En),Jn=Math.max(nr,lr);return[ke(Ft.latitude,Ft.longitude),ke(Ft.latitude,Ne(Ft.longitude-Jn)),ke(Ft.latitude,Ne(Ft.longitude+Jn)),ke(Jt,Ft.longitude),ke(Jt,Ne(Ft.longitude-Jn)),ke(Jt,Ne(Ft.longitude+Jn)),ke(En,Ft.longitude),ke(En,Ne(Ft.longitude-Jn)),ke(En,Ne(Ft.longitude+Jn))]}(Se,ce).map(Ft=>function(an,tn){L(an);const Jt=Math.ceil(tn/5);if(an.length<Jt)return[an,an+"~"];const En=an.substring(0,Jt),nr=En.substring(0,En.length-1),lr=W.indexOf(En.charAt(En.length-1)),rr=5-(tn-5*nr.length),or=lr>>rr<<rr,Hn=or+(1<<rr);return Hn>31?[nr+W[or],nr+"~"]:[nr+W[or],nr+W[Hn]]}(he({lat:Ft.latitude,lng:Ft.longitude},mt),st));return Xe.filter((Ft,an)=>!Xe.some((tn,Jt)=>an>Jt&&Ft[0]===tn[0]&&Ft[1]===tn[1]))}(Z.center,1e3*Z.radius).map(Ie);return ue=ue.filter((Se,ce)=>ue.indexOf(Se)===ce),ue.map(Se=>{const ce=function(st){const mt=st.split(":");if(2!==mt.length)throw new Error("Invalid internal state! Not a valid geohash query: "+st);return mt}(Se);return ve.orderBy("g.geohash").startAt(ce[0]).endAt(ce[1])})}function xe(ve){return Math.log(ve)/Math.log(2)}function be(ve,Z){const ue=_e(ve,Z);return Math.abs(ue)>1e-6?Math.max(1,xe(360/ue)):1}function _e(ve,Z){const ue=function(ce){if("number"!=typeof ce||isNaN(ce))throw new Error("Error: degrees must be a number");return ce*Math.PI/180}(Z),Se=6378137*Math.cos(ue)*Math.PI/180*(1/Math.sqrt(1-.00669447819799*Math.sin(ue)*Math.sin(ue)));return Se<1e-12?ve>0?360:0:Math.min(360,ve/Se)}function Ie(ve){if(2!==ve.length)throw new Error("Not a valid geohash query: "+ve);return ve[0]+":"+ve[1]}function ke(ve,Z){const ue={latitude:ve,longitude:Z};return q(ue),ue}function Ne(ve){if(ve<=180&&ve>=-180)return ve;const Z=ve+180;return Z>0?Z%360-180:180- -Z%360}function nt(ve,Z){if("[object Object]"!==Object.prototype.toString.call(ve))throw new Error("document must be an object");const ue=Ae(ve,Z&&Z.customKey,Z&&(Z.merge||!!Z.mergeFields));return ue?Ge(ue,ve):ve}function xt(ve,Z){if("[object Object]"!==Object.prototype.toString.call(ve))throw new Error("document must be an object");const ue=Ae(ve,Z,!0);return ue?Ge(ue,ve):ve}function Ge(ve,Z){q(ve);const ue=he({lat:ve.latitude,lng:ve.longitude});return Object.assign(Object.assign({},Z),{g:{geopoint:ve,geohash:ue}})}class ht{constructor(Z,ue){this._querySnapshot=Z,this._center=ue,ue&&q(ue),this._docs=Z.docs.map(Se=>le(Se,ue))}get native(){return this._querySnapshot}get docs(){return this._docs}get size(){return this._docs.length}get empty(){return!this._docs.length}docChanges(){return(Array.isArray(this._querySnapshot.docChanges)?this._querySnapshot.docChanges:this._querySnapshot.docChanges()).map(Z=>({doc:le(Z.doc,this._center),newIndex:Z.newIndex,oldIndex:Z.oldIndex,type:Z.type}))}forEach(Z,ue){this.docs.forEach(Z,ue)}}class Ue{constructor(Z,ue){if(this._queryCriteria=ue,this._docs=new Map,ee(ue),Z.forEach(Se=>{Se.docs.forEach(ce=>{const st=oe(this._queryCriteria.center,ce.data().g.geopoint);this._queryCriteria.radius>=st&&this._docs.set(ce.id,ce)})}),this._queryCriteria.limit&&this._docs.size>this._queryCriteria.limit){const Se=Array.from(this._docs.values()).map(ce=>({distance:oe(this._queryCriteria.center,ce.data().g.geopoint),id:ce.id})).sort((ce,st)=>ce.distance-st.distance);for(let ce=this._queryCriteria.limit;ce<Se.length;ce++)this._docs.delete(Se[ce].id)}}getGeoQuerySnapshot(){const Z=Array.from(this._docs.values());return new ht({docs:Z,docChanges:()=>Z.map((ue,Se)=>({doc:ue,newIndex:Se,oldIndex:-1,type:"added"}))},this._queryCriteria.center)}}class Fe{constructor(Z,ue,Se,ce=(()=>{})){this._queries=Z,this._queryCriteria=ue,this._onNext=Se,this._onError=ce,this._docs=new Map,this._firstRoundResolved=!1,this._firstEmitted=!1,this._newValues=!1,this._subscriptions=[],this._queriesResolved=[],ee(ue),this._queriesResolved=new Array(Z.length).fill(0),Z.forEach((st,mt)=>{const Xe=st.onSnapshot(Ft=>this._processSnapshot(Ft,mt),Ft=>this._error=Ft);this._subscriptions.push(Xe)}),this._interval=setInterval(()=>this._emit(),100)}unsubscribe(){return()=>{clearInterval(this._interval),this._subscriptions.forEach(Z=>Z())}}_next(){if(this._queryCriteria.limit&&this._docs.size>this._queryCriteria.limit){const ce=Array.from(this._docs.values()).sort((st,mt)=>st.distance-mt.distance);for(let st=this._queryCriteria.limit;st<ce.length;st++)if(ce[st].emitted){const mt={change:Object.assign({},ce[st].change),distance:ce[st].distance,emitted:ce[st].emitted};mt.change.type="removed",this._docs.set(mt.change.doc.id,mt)}else this._docs.delete(ce[st].change.doc.id)}let Z=0;const ue=Array.from(this._docs.values()).map((ce,st)=>{const mt={type:ce.change.type,doc:ce.change.doc,oldIndex:ce.emitted?ce.change.newIndex:-1,newIndex:"removed"!==ce.change.type?st-Z:-1};return"removed"===mt.type?(Z--,this._docs.delete(mt.doc.id)):this._docs.set(mt.doc.id,{change:mt,distance:ce.distance,emitted:!0}),mt}),Se=ue.reduce((ce,st)=>(st.newIndex>=0?ce.push(st.doc):this._docs.delete(st.doc.id),ce),[]);this._firstEmitted=!0,this._onNext(new ht({docs:Se,docChanges:()=>ue.reduce((ce,st)=>(-1!==st.oldIndex&&"added"===st.type||ce.push(st),ce),[])},this._queryCriteria.center))}_emit(){this._error?(this._onError(this._error),this.unsubscribe()()):this._newValues&&this._firstRoundResolved?(this._newValues=!1,this._next()):this._firstRoundResolved||(this._firstRoundResolved=this._queriesResolved.reduce((Z,ue)=>Z+ue,0)===this._queries.length)}_processSnapshot(Z,ue){const Se=Array.isArray(Z.docChanges)?Z.docChanges:Z.docChanges();this._firstRoundResolved||(this._queriesResolved[ue]=1),Se.length?Se.forEach(ce=>{const st=ce.doc.data(),mt=fe(st,!0)?st.g.geopoint:null,Xe=mt?oe(this._queryCriteria.center,mt):null,Ft=ce.doc.id,an=this._docs.get(Ft),tn={change:{doc:ce.doc,oldIndex:an&&this._firstEmitted?an.change.oldIndex:-1,newIndex:an&&this._firstEmitted?an.change.newIndex:-1,type:an&&this._firstEmitted?ce.type:"added"},distance:Xe,emitted:!!this._firstEmitted&&!!an};if(this._queryCriteria.radius>=Xe){if(!an&&"removed"===tn.change.type)return;an||"modified"!==tn.change.type||(tn.change.type="added"),this._newValues=!0,this._docs.set(Ft,tn)}else an?(tn.change.type="removed",this._newValues=!0,this._docs.set(Ft,tn)):an||this._firstRoundResolved||(this._newValues=!0)}):this._firstRoundResolved||(this._newValues=!0)}}class Le{constructor(Z,ue){if(this._query=Z,"[object Object]"!==Object.prototype.toString.call(Z))throw new Error("Query must be an instance of a Firestore Query");this._isWeb="[object Function]"===Object.prototype.toString.call(Z.firestore.enablePersistence),ue&&("number"==typeof ue.limit&&(this._limit=ue.limit),ue.center&&"number"==typeof ue.radius&&(ee(ue),this._center=ue.center,this._radius=ue.radius))}get native(){return this._query}get firestore(){return new it(this._query.firestore)}get onSnapshot(){return Z=this._query,ue=this._queryCriteria,(Se,ce=(()=>{}))=>ue.center&&"number"==typeof ue.radius?new Fe(J(Z,ue),ue,Se,ce).unsubscribe():(Z=ue.limit?Z.limit(ue.limit):Z).onSnapshot(st=>Se(new ht(st)),ce);var Z,ue}get(Z={source:"default"}){return function(ue,Se,ce={source:"default"}){const st="[object Function]"===Object.prototype.toString.call(ue.firestore.enablePersistence);if(Se.center&&"number"==typeof Se.radius){const mt=J(ue,Se).map(Xe=>st?Xe.get(ce):Xe.get());return Promise.all(mt).then(Xe=>new Ue(Xe,Se).getGeoQuerySnapshot())}return ue=Se.limit?ue.limit(Se.limit):ue,(st?ue.get(ce):ue.get()).then(mt=>new ht(mt))}(this._query,this._queryCriteria,Z)}limit(Z){return se(Z),this._limit=Z,new Le(this._query,this._queryCriteria)}near(Z){return ee(Z,!0),this._center=Z.center,this._radius=Z.radius,new Le(this._query,this._queryCriteria)}where(Z,ue,Se){return new Le(this._query.where(Z,ue,Se),this._queryCriteria)}get _queryCriteria(){return{center:this._center,limit:this._limit,radius:this._radius}}}class Re{constructor(Z,ue){if(this._writeBatch=Z,this._customKey=ue,"[object Object]"!==Object.prototype.toString.call(Z))throw new Error("WriteBatch must be an instance of a Firestore WriteBatch")}get native(){return this._writeBatch}set(Z,ue,Se={}){const ce=Z instanceof Lt?Z._document:Z;return Se.customKey=Se.customKey||this._customKey,this._writeBatch.set(ce,nt(ue,Se),je(Se)),this}update(Z,ue,Se=this._customKey){return this._writeBatch.update(Z instanceof Lt?Z._document:Z,xt(ue,Se)),this}delete(Z){return this._writeBatch.delete(Z instanceof Lt?Z._document:Z),this}commit(){return this._writeBatch.commit()}}class it{constructor(Z){if(this._firestore=Z,"[object Object]"!==Object.prototype.toString.call(Z))throw new Error("Firestore must be an instance of Firestore")}get native(){return this._firestore}batch(Z){return new Re(this._firestore.batch(),Z)}collection(Z,ue){return new _t(this._firestore.collection(Z),ue)}collectionGroup(Z){return new Le(this._firestore.collectionGroup(Z))}doc(Z){return new Lt(this._firestore.doc(Z))}runTransaction(Z){return this._firestore.runTransaction(Z)}}function je(ve){const Z=Object.assign({},ve);return delete Z.customKey,Z}class Ut{constructor(Z){if(this._snapshot=Z,"[object Object]"!==Object.prototype.toString.call(Z))throw new Error("DocumentSnapshot must be an instance of a Firestore DocumentSnapshot");this._isWeb="[object Function]"===Object.prototype.toString.call(Z.ref.firestore.enablePersistence)}get native(){return this._snapshot}get exists(){return this._snapshot.exists}get id(){return this._snapshot.id}get ref(){return new Lt(this._snapshot.ref)}data(Z){return this._isWeb&&Z?this._snapshot.data(Z):this._snapshot.data()}get(Z,ue){return this._isWeb&&ue?this._snapshot.get(Z,ue):this._snapshot.get(Z)}isEqual(Z){return this._snapshot.isEqual(Z instanceof Ut?Z._snapshot:Z)}}class Lt{constructor(Z){if(this._document=Z,"[object Object]"!==Object.prototype.toString.call(Z))throw new Error("DocumentReference must be an instance of a Firestore DocumentReference");this._isWeb="[object Function]"===Object.prototype.toString.call(Z.firestore.enablePersistence)}get native(){return this._document}get id(){return this._document.id}get firestore(){return new it(this._document.firestore)}get onSnapshot(){return(Z,ue=(()=>{}))=>this._document.onSnapshot(Se=>Z(new Ut(Se)),Se=>ue(Se))}get parent(){return new _t(this._document.parent)}get path(){return this._document.path}collection(Z){return new _t(this._document.collection(Z))}delete(){return this._document.delete().then(()=>null)}get(Z={source:"default"}){return(this._isWeb?this._document.get(Z):this._document.get()).then(ue=>new Ut(ue))}isEqual(Z){return this._document.isEqual(Z instanceof Lt?Z._document:Z)}set(Z,ue){return this._document.set(nt(Z,ue),je(ue)).then(()=>null)}update(Z,ue){return this._document.update(xt(Z,ue)).then(()=>null)}}class _t extends Le{constructor(Z,ue){super(Z),this._collection=Z,this._customKey=ue}get native(){return this._collection}get id(){return this._collection.id}get parent(){return this._collection.parent?new Lt(this._collection.parent):null}get path(){return this._collection.path}add(Z,ue=this._customKey){return this._collection.add(function(Se,ce){if("[object Object]"!==Object.prototype.toString.call(Se))throw new Error("document must be an object");return Ge(Ae(Se,ce),Se)}(Z,ue)).then(Se=>new Lt(Se))}doc(Z){return new Lt(Z?this._collection.doc(Z):this._collection.doc())}}D.GeoCollectionReference=_t,D.GeoDocumentReference=Lt,D.GeoDocumentSnapshot=Ut,D.GeoFirestore=it,D.GeoQuery=Le,D.GeoTransaction=class{constructor(ve,Z){if(this._transaction=ve,this._customKey=Z,"[object Object]"!==Object.prototype.toString.call(ve))throw new Error("Transaction must be an instance of a Firestore Transaction")}get native(){return this._transaction}delete(ve){return this._transaction.delete(ve instanceof Lt?ve._document:ve),this}get(ve){return this._transaction.get(ve instanceof Lt?ve._document:ve).then(ue=>new Ut(ue))}set(ve,Z,ue={}){const Se=ve instanceof Lt?ve._document:ve;return ue.customKey=ue.customKey||this._customKey,this._transaction.set(Se,nt(Z,ue),je(ue)),this}update(ve,Z,ue=this._customKey){return this._transaction.update(ve instanceof Lt?ve._document:ve,xt(Z,ue)),this}},D.GeoWriteBatch=Re,D.initializeApp=function(ve){return new it(ve)},Object.defineProperty(D,"__esModule",{value:!0})}(ut)},591:(un,ut,D)=>{"use strict";D.d(ut,{X:()=>L});var a=D(8929),P=D(5279);class L extends a.xQ{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const fe=super._subscribe(he);return fe&&!fe.closed&&he.next(this._value),fe}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new P.N;return this._value}next(he){super.next(this._value=he)}}},9312:(un,ut,D)=>{"use strict";D.d(ut,{P:()=>he});var a=D(8896),P=D(1086),L=D(1737);class he{constructor(se,q,ee){this.kind=se,this.value=q,this.error=ee,this.hasValue="N"===se}observe(se){switch(this.kind){case"N":return se.next&&se.next(this.value);case"E":return se.error&&se.error(this.error);case"C":return se.complete&&se.complete()}}do(se,q,ee){switch(this.kind){case"N":return se&&se(this.value);case"E":return q&&q(this.error);case"C":return ee&&ee()}}accept(se,q,ee){return se&&"function"==typeof se.next?this.observe(se):this.do(se,q,ee)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return(0,L._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(se){return void 0!==se?new he("N",se):he.undefinedValueNotification}static createError(se){return new he("E",void 0,se)}static createComplete(){return he.completeNotification}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0)},2916:(un,ut,D)=>{"use strict";D.d(ut,{y:()=>re});var a=D(3489),L=D(7668),Y=D(3292),fe=D(3821),se=D(5379);var W=D(2830);let re=(()=>{class oe{constructor(le){this._isScalar=!1,le&&(this._subscribe=le)}lift(le){const J=new oe;return J.source=this,J.operator=le,J}subscribe(le,J,xe){const{operator:be}=this,_e=function he(oe,Ae,le){if(oe){if(oe instanceof a.L)return oe;if(oe[L.b])return oe[L.b]()}return oe||Ae||le?new a.L(oe,Ae,le):new a.L(Y.c)}(le,J,xe);if(_e.add(be?be.call(_e,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),W.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(le){try{return this._subscribe(le)}catch(J){W.v.useDeprecatedSynchronousErrorHandling&&(le.syncErrorThrown=!0,le.syncErrorValue=J),function P(oe){for(;oe;){const{closed:Ae,destination:le,isStopped:J}=oe;if(Ae||J)return!1;oe=le&&le instanceof a.L?le:null}return!0}(le)?le.error(J):console.warn(J)}}forEach(le,J){return new(J=we(J))((xe,be)=>{let _e;_e=this.subscribe(Ie=>{try{le(Ie)}catch(ke){be(ke),_e&&_e.unsubscribe()}},be,xe)})}_subscribe(le){const{source:J}=this;return J&&J.subscribe(le)}[fe.L](){return this}pipe(...le){return 0===le.length?this:function ee(oe){return 0===oe.length?se.y:1===oe.length?oe[0]:function(le){return oe.reduce((J,xe)=>xe(J),le)}}(le)(this)}toPromise(le){return new(le=we(le))((J,xe)=>{let be;this.subscribe(_e=>be=_e,_e=>xe(_e),()=>J(be))})}}return oe.create=Ae=>new oe(Ae),oe})();function we(oe){if(oe||(oe=W.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},3292:(un,ut,D)=>{"use strict";D.d(ut,{c:()=>L});var a=D(2830),P=D(2782);const L={closed:!0,next(Y){},error(Y){if(a.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,P.z)(Y)},complete(){}}},8929:(un,ut,D)=>{"use strict";D.d(ut,{Yc:()=>se,xQ:()=>q});var a=D(2916),P=D(3489),L=D(2654),Y=D(5279),he=D(5283),fe=D(7668);class se extends P.L{constructor(re){super(re),this.destination=re}}let q=(()=>{class W extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[fe.b](){return new se(this)}lift(we){const oe=new ee(this,this);return oe.operator=we,oe}next(we){if(this.closed)throw new Y.N;if(!this.isStopped){const{observers:oe}=this,Ae=oe.length,le=oe.slice();for(let J=0;J<Ae;J++)le[J].next(we)}}error(we){if(this.closed)throw new Y.N;this.hasError=!0,this.thrownError=we,this.isStopped=!0;const{observers:oe}=this,Ae=oe.length,le=oe.slice();for(let J=0;J<Ae;J++)le[J].error(we);this.observers.length=0}complete(){if(this.closed)throw new Y.N;this.isStopped=!0;const{observers:we}=this,oe=we.length,Ae=we.slice();for(let le=0;le<oe;le++)Ae[le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(we){if(this.closed)throw new Y.N;return super._trySubscribe(we)}_subscribe(we){if(this.closed)throw new Y.N;return this.hasError?(we.error(this.thrownError),L.w.EMPTY):this.isStopped?(we.complete(),L.w.EMPTY):(this.observers.push(we),new he.W(this,we))}asObservable(){const we=new a.y;return we.source=this,we}}return W.create=(re,we)=>new ee(re,we),W})();class ee extends q{constructor(re,we){super(),this.destination=re,this.source=we}next(re){const{destination:we}=this;we&&we.next&&we.next(re)}error(re){const{destination:we}=this;we&&we.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:we}=this;return we?this.source.subscribe(re):L.w.EMPTY}}},5283:(un,ut,D)=>{"use strict";D.d(ut,{W:()=>P});var a=D(2654);class P extends a.w{constructor(Y,he){super(),this.subject=Y,this.subscriber=he,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Y=this.subject,he=Y.observers;if(this.subject=null,!he||0===he.length||Y.isStopped||Y.closed)return;const fe=he.indexOf(this.subscriber);-1!==fe&&he.splice(fe,1)}}},3489:(un,ut,D)=>{"use strict";D.d(ut,{L:()=>se});var a=D(7043),P=D(3292),L=D(2654),Y=D(7668),he=D(2830),fe=D(2782);class se extends L.w{constructor(W,re,we){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=P.c;break;case 1:if(!W){this.destination=P.c;break}if("object"==typeof W){W instanceof se?(this.syncErrorThrowable=W.syncErrorThrowable,this.destination=W,W.add(this)):(this.syncErrorThrowable=!0,this.destination=new q(this,W));break}default:this.syncErrorThrowable=!0,this.destination=new q(this,W,re,we)}}[Y.b](){return this}static create(W,re,we){const oe=new se(W,re,we);return oe.syncErrorThrowable=!1,oe}next(W){this.isStopped||this._next(W)}error(W){this.isStopped||(this.isStopped=!0,this._error(W))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(W){this.destination.next(W)}_error(W){this.destination.error(W),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:W}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=W,this}}class q extends se{constructor(W,re,we,oe){super(),this._parentSubscriber=W;let Ae,le=this;(0,a.m)(re)?Ae=re:re&&(Ae=re.next,we=re.error,oe=re.complete,re!==P.c&&(le=Object.create(re),(0,a.m)(le.unsubscribe)&&this.add(le.unsubscribe.bind(le)),le.unsubscribe=this.unsubscribe.bind(this))),this._context=le,this._next=Ae,this._error=we,this._complete=oe}next(W){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;he.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,W)&&this.unsubscribe():this.__tryOrUnsub(this._next,W)}}error(W){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:we}=he.v;if(this._error)we&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,W),this.unsubscribe()):(this.__tryOrUnsub(this._error,W),this.unsubscribe());else if(re.syncErrorThrowable)we?(re.syncErrorValue=W,re.syncErrorThrown=!0):(0,fe.z)(W),this.unsubscribe();else{if(this.unsubscribe(),we)throw W;(0,fe.z)(W)}}}complete(){if(!this.isStopped){const{_parentSubscriber:W}=this;if(this._complete){const re=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?(this.__tryOrSetError(W,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(W,re){try{W.call(this._context,re)}catch(we){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw we;(0,fe.z)(we)}}__tryOrSetError(W,re,we){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,we)}catch(oe){return he.v.useDeprecatedSynchronousErrorHandling?(W.syncErrorValue=oe,W.syncErrorThrown=!0,!0):((0,fe.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:W}=this;this._context=null,this._parentSubscriber=null,W.unsubscribe()}}},2654:(un,ut,D)=>{"use strict";D.d(ut,{w:()=>fe});var a=D(6688),P=D(7830),L=D(7043);const he=(()=>{function q(ee){return Error.call(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((W,re)=>`${re+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee,this}return q.prototype=Object.create(Error.prototype),q})();class fe{constructor(ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=ee)}unsubscribe(){let ee;if(this.closed)return;let{_parentOrParents:W,_ctorUnsubscribe:re,_unsubscribe:we,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,W instanceof fe)W.remove(this);else if(null!==W)for(let Ae=0;Ae<W.length;++Ae)W[Ae].remove(this);if((0,L.m)(we)){re&&(this._unsubscribe=void 0);try{we.call(this)}catch(Ae){ee=Ae instanceof he?se(Ae.errors):[Ae]}}if((0,a.k)(oe)){let Ae=-1,le=oe.length;for(;++Ae<le;){const J=oe[Ae];if((0,P.K)(J))try{J.unsubscribe()}catch(xe){ee=ee||[],xe instanceof he?ee=ee.concat(se(xe.errors)):ee.push(xe)}}}if(ee)throw new he(ee)}add(ee){let W=ee;if(!ee)return fe.EMPTY;switch(typeof ee){case"function":W=new fe(ee);case"object":if(W===this||W.closed||"function"!=typeof W.unsubscribe)return W;if(this.closed)return W.unsubscribe(),W;if(!(W instanceof fe)){const oe=W;W=new fe,W._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+ee+" added to Subscription.")}let{_parentOrParents:re}=W;if(null===re)W._parentOrParents=this;else if(re instanceof fe){if(re===this)return W;W._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return W;re.push(this)}const we=this._subscriptions;return null===we?this._subscriptions=[W]:we.push(W),W}remove(ee){const W=this._subscriptions;if(W){const re=W.indexOf(ee);-1!==re&&W.splice(re,1)}}}var q;function se(q){return q.reduce((ee,W)=>ee.concat(W instanceof he?W.errors:W),[])}fe.EMPTY=((q=new fe).closed=!0,q)},2830:(un,ut,D)=>{"use strict";D.d(ut,{v:()=>P});let a=!1;const P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const Y=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Y.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=L},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(un,ut,D)=>{"use strict";D.d(ut,{IY:()=>Y,Ds:()=>fe,ft:()=>q});var a=D(3489),P=D(2916),L=D(9249);class Y extends a.L{constructor(W){super(),this.parent=W}_next(W){this.parent.notifyNext(W)}_error(W){this.parent.notifyError(W),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class fe extends a.L{notifyNext(W){this.destination.next(W)}notifyError(W){this.destination.error(W)}notifyComplete(){this.destination.complete()}}function q(ee,W){if(W.closed)return;if(ee instanceof P.y)return ee.subscribe(W);let re;try{re=(0,L.s)(ee)(W)}catch(we){W.error(we)}return re}},1762:(un,ut,D)=>{"use strict";D.d(ut,{c:()=>he,N:()=>fe});var a=D(8929),P=D(2916),L=D(2654),Y=D(4327);class he extends P.y{constructor(re,we){super(),this.source=re,this.subjectFactory=we,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new L.w,re.add(this.source.subscribe(new se(this.getSubject(),this))),re.closed&&(this._connection=null,re=L.w.EMPTY)),re}refCount(){return(0,Y.x)()(this)}}const fe=(()=>{const W=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}}})();class se extends a.Yc{constructor(re,we){super(re),this.connectable=we}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const we=re._connection;re._refCount=0,re._subject=null,re._connection=null,we&&we.unsubscribe()}}}},3426:(un,ut,D)=>{"use strict";D.d(ut,{aj:()=>re});var a=D(2866),P=D(6688),L=D(3489);class Y extends L.L{notifyNext(le,J,xe,be,_e){this.destination.next(J)}notifyError(le,J){this.destination.error(le)}notifyComplete(le){this.destination.complete()}}class he extends L.L{constructor(le,J,xe){super(),this.parent=le,this.outerValue=J,this.outerIndex=xe,this.index=0}_next(le){this.parent.notifyNext(this.outerValue,le,this.outerIndex,this.index++,this)}_error(le){this.parent.notifyError(le,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fe=D(9249),se=D(2916);function q(Ae,le,J,xe,be=new he(Ae,J,xe)){if(!be.closed)return le instanceof se.y?le.subscribe(be):(0,fe.s)(le)(be)}var ee=D(3009);const W={};function re(...Ae){let le,J;return(0,a.K)(Ae[Ae.length-1])&&(J=Ae.pop()),"function"==typeof Ae[Ae.length-1]&&(le=Ae.pop()),1===Ae.length&&(0,P.k)(Ae[0])&&(Ae=Ae[0]),(0,ee.n)(Ae,J).lift(new we(le))}class we{constructor(le){this.resultSelector=le}call(le,J){return J.subscribe(new oe(le,this.resultSelector))}}class oe extends Y{constructor(le,J){super(le),this.resultSelector=J,this.active=0,this.values=[],this.observables=[]}_next(le){this.values.push(W),this.observables.push(le)}_complete(){const le=this.observables,J=le.length;if(0===J)this.destination.complete();else{this.active=J,this.toRespond=J;for(let xe=0;xe<J;xe++)this.add(q(this,le[xe],void 0,xe))}}notifyComplete(le){0==(this.active-=1)&&this.destination.complete()}notifyNext(le,J,xe){const be=this.values,Ie=this.toRespond?be[xe]===W?--this.toRespond:this.toRespond:0;be[xe]=J,0===Ie&&(this.resultSelector?this._tryResultSelector(be):this.destination.next(be.slice()))}_tryResultSelector(le){let J;try{J=this.resultSelector.apply(this,le)}catch(xe){return void this.destination.error(xe)}this.destination.next(J)}}},1221:(un,ut,D)=>{"use strict";D.d(ut,{z:()=>Y});var a=D(1086),P=D(9146);function Y(...he){return function L(){return(0,P.J)(1)}()((0,a.of)(...he))}},8514:(un,ut,D)=>{"use strict";D.d(ut,{P:()=>Y});var a=D(2916),P=D(5254),L=D(8896);function Y(he){return new a.y(fe=>{let se;try{se=he()}catch(ee){return void fe.error(ee)}return(se?(0,P.D)(se):(0,L.c)()).subscribe(fe)})}},8896:(un,ut,D)=>{"use strict";D.d(ut,{E:()=>P,c:()=>L});var a=D(2916);const P=new a.y(he=>he.complete());function L(he){return he?function Y(he){return new a.y(fe=>he.schedule(()=>fe.complete()))}(he):P}},5254:(un,ut,D)=>{"use strict";D.d(ut,{D:()=>le});var a=D(2916),P=D(9249),L=D(2654),Y=D(3821),se=D(6454),q=D(5430),re=D(8955),we=D(8515);function le(J,xe){return xe?function Ae(J,xe){if(null!=J){if(function W(J){return J&&"function"==typeof J[Y.L]}(J))return function he(J,xe){return new a.y(be=>{const _e=new L.w;return _e.add(xe.schedule(()=>{const Ie=J[Y.L]();_e.add(Ie.subscribe({next(ke){_e.add(xe.schedule(()=>be.next(ke)))},error(ke){_e.add(xe.schedule(()=>be.error(ke)))},complete(){_e.add(xe.schedule(()=>be.complete()))}}))})),_e})}(J,xe);if((0,re.t)(J))return function fe(J,xe){return new a.y(be=>{const _e=new L.w;return _e.add(xe.schedule(()=>J.then(Ie=>{_e.add(xe.schedule(()=>{be.next(Ie),_e.add(xe.schedule(()=>be.complete()))}))},Ie=>{_e.add(xe.schedule(()=>be.error(Ie)))}))),_e})}(J,xe);if((0,we.z)(J))return(0,se.r)(J,xe);if(function oe(J){return J&&"function"==typeof J[q.hZ]}(J)||"string"==typeof J)return function ee(J,xe){if(!J)throw new Error("Iterable cannot be null");return new a.y(be=>{const _e=new L.w;let Ie;return _e.add(()=>{Ie&&"function"==typeof Ie.return&&Ie.return()}),_e.add(xe.schedule(()=>{Ie=J[q.hZ](),_e.add(xe.schedule(function(){if(be.closed)return;let ke,Ne;try{const nt=Ie.next();ke=nt.value,Ne=nt.done}catch(nt){return void be.error(nt)}Ne?be.complete():(be.next(ke),this.schedule())}))})),_e})}(J,xe)}throw new TypeError((null!==J&&typeof J||J)+" is not observable")}(J,xe):J instanceof a.y?J:new a.y((0,P.s)(J))}},3009:(un,ut,D)=>{"use strict";D.d(ut,{n:()=>Y});var a=D(2916),P=D(3650),L=D(6454);function Y(he,fe){return fe?(0,L.r)(he,fe):new a.y((0,P.V)(he))}},3753:(un,ut,D)=>{"use strict";D.d(ut,{R:()=>fe});var a=D(2916),P=D(6688),L=D(7043),Y=D(4850);function fe(re,we,oe,Ae){return(0,L.m)(oe)&&(Ae=oe,oe=void 0),Ae?fe(re,we,oe).pipe((0,Y.U)(le=>(0,P.k)(le)?Ae(...le):Ae(le))):new a.y(le=>{se(re,we,function J(xe){le.next(arguments.length>1?Array.prototype.slice.call(arguments):xe)},le,oe)})}function se(re,we,oe,Ae,le){let J;if(function W(re){return re&&"function"==typeof re.addEventListener&&"function"==typeof re.removeEventListener}(re)){const xe=re;re.addEventListener(we,oe,le),J=()=>xe.removeEventListener(we,oe,le)}else if(function ee(re){return re&&"function"==typeof re.on&&"function"==typeof re.off}(re)){const xe=re;re.on(we,oe),J=()=>xe.off(we,oe)}else if(function q(re){return re&&"function"==typeof re.addListener&&"function"==typeof re.removeListener}(re)){const xe=re;re.addListener(we,oe),J=()=>xe.removeListener(we,oe)}else{if(!re||!re.length)throw new TypeError("Invalid event target");for(let xe=0,be=re.length;xe<be;xe++)se(re[xe],we,oe,Ae,le)}Ae.add(J)}},6787:(un,ut,D)=>{"use strict";D.d(ut,{T:()=>he});var a=D(2916),P=D(2866),L=D(9146),Y=D(3009);function he(...fe){let se=Number.POSITIVE_INFINITY,q=null,ee=fe[fe.length-1];return(0,P.K)(ee)?(q=fe.pop(),fe.length>1&&"number"==typeof fe[fe.length-1]&&(se=fe.pop())):"number"==typeof ee&&(se=fe.pop()),null===q&&1===fe.length&&fe[0]instanceof a.y?fe[0]:(0,L.J)(se)((0,Y.n)(fe,q))}},1086:(un,ut,D)=>{"use strict";D.d(ut,{of:()=>Y});var a=D(2866),P=D(3009),L=D(6454);function Y(...he){let fe=he[he.length-1];return(0,a.K)(fe)?(he.pop(),(0,L.r)(he,fe)):(0,P.n)(he)}},1737:(un,ut,D)=>{"use strict";D.d(ut,{_:()=>P});var a=D(2916);function P(Y,he){return new a.y(he?fe=>he.schedule(L,0,{error:Y,subscriber:fe}):fe=>fe.error(Y))}function L({error:Y,subscriber:he}){he.error(Y)}},1406:(un,ut,D)=>{"use strict";D.d(ut,{b:()=>P});var a=D(1709);function P(L,Y){return(0,a.zg)(L,Y,1)}},7314:(un,ut,D)=>{"use strict";D.d(ut,{d:()=>P});var a=D(3489);function P(he=null){return fe=>fe.lift(new L(he))}class L{constructor(fe){this.defaultValue=fe}call(fe,se){return se.subscribe(new Y(fe,this.defaultValue))}}class Y extends a.L{constructor(fe,se){super(fe),this.defaultValue=se,this.isEmpty=!0}_next(fe){this.isEmpty=!1,this.destination.next(fe)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(un,ut,D)=>{"use strict";D.d(ut,{x:()=>P});var a=D(3489);function P(he,fe){return se=>se.lift(new L(he,fe))}class L{constructor(fe,se){this.compare=fe,this.keySelector=se}call(fe,se){return se.subscribe(new Y(fe,this.compare,this.keySelector))}}class Y extends a.L{constructor(fe,se,q){super(fe),this.keySelector=q,this.hasKey=!1,"function"==typeof se&&(this.compare=se)}compare(fe,se){return fe===se}_next(fe){let se;try{const{keySelector:ee}=this;se=ee?ee(fe):fe}catch(ee){return this.destination.error(ee)}let q=!1;if(this.hasKey)try{const{compare:ee}=this;q=ee(this.key,se)}catch(ee){return this.destination.error(ee)}else this.hasKey=!0;q||(this.key=se,this.destination.next(fe))}}},2198:(un,ut,D)=>{"use strict";D.d(ut,{h:()=>P});var a=D(3489);function P(he,fe){return function(q){return q.lift(new L(he,fe))}}class L{constructor(fe,se){this.predicate=fe,this.thisArg=se}call(fe,se){return se.subscribe(new Y(fe,this.predicate,this.thisArg))}}class Y extends a.L{constructor(fe,se,q){super(fe),this.predicate=se,this.thisArg=q,this.count=0}_next(fe){let se;try{se=this.predicate.call(this.thisArg,fe,this.count++)}catch(q){return void this.destination.error(q)}se&&this.destination.next(fe)}}},7224:(un,ut,D)=>{"use strict";D.d(ut,{P:()=>se});var a=D(4450),P=D(2198),L=D(2986),Y=D(7314),he=D(4907),fe=D(5379);function se(q,ee){const W=arguments.length>=2;return re=>re.pipe(q?(0,P.h)((we,oe)=>q(we,oe,re)):fe.y,(0,L.q)(1),W?(0,Y.d)(ee):(0,he.T)(()=>new a.K))}},4850:(un,ut,D)=>{"use strict";D.d(ut,{U:()=>P});var a=D(3489);function P(he,fe){return function(q){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return q.lift(new L(he,fe))}}class L{constructor(fe,se){this.project=fe,this.thisArg=se}call(fe,se){return se.subscribe(new Y(fe,this.project,this.thisArg))}}class Y extends a.L{constructor(fe,se,q){super(fe),this.project=se,this.count=0,this.thisArg=q||this}_next(fe){let se;try{se=this.project.call(this.thisArg,fe,this.count++)}catch(q){return void this.destination.error(q)}this.destination.next(se)}}},9146:(un,ut,D)=>{"use strict";D.d(ut,{J:()=>L});var a=D(1709),P=D(5379);function L(Y=Number.POSITIVE_INFINITY){return(0,a.zg)(P.y,Y)}},1709:(un,ut,D)=>{"use strict";D.d(ut,{zg:()=>Y});var a=D(4850),P=D(5254),L=D(1177);function Y(q,ee,W=Number.POSITIVE_INFINITY){return"function"==typeof ee?re=>re.pipe(Y((we,oe)=>(0,P.D)(q(we,oe)).pipe((0,a.U)((Ae,le)=>ee(we,Ae,oe,le))),W)):("number"==typeof ee&&(W=ee),re=>re.lift(new he(q,W)))}class he{constructor(ee,W=Number.POSITIVE_INFINITY){this.project=ee,this.concurrent=W}call(ee,W){return W.subscribe(new fe(ee,this.project,this.concurrent))}}class fe extends L.Ds{constructor(ee,W,re=Number.POSITIVE_INFINITY){super(ee),this.project=W,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ee){this.active<this.concurrent?this._tryNext(ee):this.buffer.push(ee)}_tryNext(ee){let W;const re=this.index++;try{W=this.project(ee,re)}catch(we){return void this.destination.error(we)}this.active++,this._innerSub(W)}_innerSub(ee){const W=new L.IY(this),re=this.destination;re.add(W);const we=(0,L.ft)(ee,W);we!==W&&re.add(we)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ee){this.destination.next(ee)}notifyComplete(){const ee=this.buffer;this.active--,ee.length>0?this._next(ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(un,ut,D)=>{"use strict";D.d(ut,{O:()=>P});var a=D(1762);function P(Y,he){return function(se){let q;if(q="function"==typeof Y?Y:function(){return Y},"function"==typeof he)return se.lift(new L(q,he));const ee=Object.create(se,a.N);return ee.source=se,ee.subjectFactory=q,ee}}class L{constructor(he,fe){this.subjectFactory=he,this.selector=fe}call(he,fe){const{selector:se}=this,q=this.subjectFactory(),ee=se(q).subscribe(he);return ee.add(fe.subscribe(q)),ee}}},7770:(un,ut,D)=>{"use strict";D.d(ut,{QV:()=>L,ht:()=>he});var a=D(3489),P=D(9312);function L(se,q=0){return function(W){return W.lift(new Y(se,q))}}class Y{constructor(q,ee=0){this.scheduler=q,this.delay=ee}call(q,ee){return ee.subscribe(new he(q,this.scheduler,this.delay))}}class he extends a.L{constructor(q,ee,W=0){super(q),this.scheduler=ee,this.delay=W}static dispatch(q){const{notification:ee,destination:W}=q;ee.observe(W),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(he.dispatch,this.delay,new fe(q,this.destination)))}_next(q){this.scheduleMessage(P.P.createNext(q))}_error(q){this.scheduleMessage(P.P.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(P.P.createComplete()),this.unsubscribe()}}class fe{constructor(q,ee){this.notification=q,this.destination=ee}}},4327:(un,ut,D)=>{"use strict";D.d(ut,{x:()=>P});var a=D(3489);function P(){return function(fe){return fe.lift(new L(fe))}}class L{constructor(fe){this.connectable=fe}call(fe,se){const{connectable:q}=this;q._refCount++;const ee=new Y(fe,q),W=se.subscribe(ee);return ee.closed||(ee.connection=q.connect()),W}}class Y extends a.L{constructor(fe,se){super(fe),this.connectable=se}_unsubscribe(){const{connectable:fe}=this;if(!fe)return void(this.connection=null);this.connectable=null;const se=fe._refCount;if(se<=0)return void(this.connection=null);if(fe._refCount=se-1,se>1)return void(this.connection=null);const{connection:q}=this,ee=fe._connection;this.connection=null,ee&&(!q||ee===q)&&ee.unsubscribe()}}},2014:(un,ut,D)=>{"use strict";D.d(ut,{R:()=>P});var a=D(3489);function P(he,fe){let se=!1;return arguments.length>=2&&(se=!0),function(ee){return ee.lift(new L(he,fe,se))}}class L{constructor(fe,se,q=!1){this.accumulator=fe,this.seed=se,this.hasSeed=q}call(fe,se){return se.subscribe(new Y(fe,this.accumulator,this.seed,this.hasSeed))}}class Y extends a.L{constructor(fe,se,q,ee){super(fe),this.accumulator=se,this._seed=q,this.hasSeed=ee,this.index=0}get seed(){return this._seed}set seed(fe){this.hasSeed=!0,this._seed=fe}_next(fe){if(this.hasSeed)return this._tryNext(fe);this.seed=fe,this.destination.next(fe)}_tryNext(fe){const se=this.index++;let q;try{q=this.accumulator(this.seed,fe,se)}catch(ee){this.destination.error(ee)}this.seed=q,this.destination.next(q)}}},1059:(un,ut,D)=>{"use strict";D.d(ut,{O:()=>L});var a=D(1221),P=D(2866);function L(...Y){const he=Y[Y.length-1];return(0,P.K)(he)?(Y.pop(),fe=>(0,a.z)(Y,fe,he)):fe=>(0,a.z)(Y,fe)}},8915:(un,ut,D)=>{"use strict";D.d(ut,{R:()=>xe});var a=D(2916);let P=1;const L=Promise.resolve(),Y={};function he(_e){return _e in Y&&(delete Y[_e],!0)}const fe={setImmediate(_e){const Ie=P++;return Y[Ie]=!0,L.then(()=>he(Ie)&&_e()),Ie},clearImmediate(_e){he(_e)}};var q=D(6686),W=D(2268);const oe=new class re extends W.v{flush(Ie){this.active=!0,this.scheduled=void 0;const{actions:ke}=this;let Ne,nt=-1,xt=ke.length;Ie=Ie||ke.shift();do{if(Ne=Ie.execute(Ie.state,Ie.delay))break}while(++nt<xt&&(Ie=ke.shift()));if(this.active=!1,Ne){for(;++nt<xt&&(Ie=ke.shift());)Ie.unsubscribe();throw Ne}}}(class ee extends q.o{constructor(Ie,ke){super(Ie,ke),this.scheduler=Ie,this.work=ke}requestAsyncId(Ie,ke,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(Ie,ke,Ne):(Ie.actions.push(this),Ie.scheduled||(Ie.scheduled=fe.setImmediate(Ie.flush.bind(Ie,null))))}recycleAsyncId(Ie,ke,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(Ie,ke,Ne);0===Ie.actions.length&&(fe.clearImmediate(ke),Ie.scheduled=void 0)}});var Ae=D(6688);class J extends a.y{constructor(Ie,ke=0,Ne=oe){super(),this.source=Ie,this.delayTime=ke,this.scheduler=Ne,(!function le(_e){return!(0,Ae.k)(_e)&&_e-parseFloat(_e)+1>=0}(ke)||ke<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=oe)}static create(Ie,ke=0,Ne=oe){return new J(Ie,ke,Ne)}static dispatch(Ie){const{source:ke,subscriber:Ne}=Ie;return this.add(ke.subscribe(Ne))}_subscribe(Ie){return this.scheduler.schedule(J.dispatch,this.delayTime,{source:this.source,subscriber:Ie})}}function xe(_e,Ie=0){return function(Ne){return Ne.lift(new be(_e,Ie))}}class be{constructor(Ie,ke){this.scheduler=Ie,this.delay=ke}call(Ie,ke){return new J(ke,this.delay,this.scheduler).subscribe(Ie)}}},7545:(un,ut,D)=>{"use strict";D.d(ut,{w:()=>Y});var a=D(4850),P=D(5254),L=D(1177);function Y(se,q){return"function"==typeof q?ee=>ee.pipe(Y((W,re)=>(0,P.D)(se(W,re)).pipe((0,a.U)((we,oe)=>q(W,we,re,oe))))):ee=>ee.lift(new he(se))}class he{constructor(q){this.project=q}call(q,ee){return ee.subscribe(new fe(q,this.project))}}class fe extends L.Ds{constructor(q,ee){super(q),this.project=ee,this.index=0}_next(q){let ee;const W=this.index++;try{ee=this.project(q,W)}catch(re){return void this.destination.error(re)}this._innerSub(ee)}_innerSub(q){const ee=this.innerSubscription;ee&&ee.unsubscribe();const W=new L.IY(this),re=this.destination;re.add(W),this.innerSubscription=(0,L.ft)(q,W),this.innerSubscription!==W&&re.add(this.innerSubscription)}_complete(){const{innerSubscription:q}=this;(!q||q.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(q){this.destination.next(q)}}},2986:(un,ut,D)=>{"use strict";D.d(ut,{q:()=>Y});var a=D(3489),P=D(4231),L=D(8896);function Y(se){return q=>0===se?(0,L.c)():q.lift(new he(se))}class he{constructor(q){if(this.total=q,this.total<0)throw new P.W}call(q,ee){return ee.subscribe(new fe(q,this.total))}}class fe extends a.L{constructor(q,ee){super(q),this.total=ee,this.count=0}_next(q){const ee=this.total,W=++this.count;W<=ee&&(this.destination.next(q),W===ee&&(this.destination.complete(),this.unsubscribe()))}}},2994:(un,ut,D)=>{"use strict";D.d(ut,{b:()=>Y});var a=D(3489),P=D(7876),L=D(7043);function Y(se,q,ee){return function(re){return re.lift(new he(se,q,ee))}}class he{constructor(q,ee,W){this.nextOrObserver=q,this.error=ee,this.complete=W}call(q,ee){return ee.subscribe(new fe(q,this.nextOrObserver,this.error,this.complete))}}class fe extends a.L{constructor(q,ee,W,re){super(q),this._tapNext=P.Z,this._tapError=P.Z,this._tapComplete=P.Z,this._tapError=W||P.Z,this._tapComplete=re||P.Z,(0,L.m)(ee)?(this._context=this,this._tapNext=ee):ee&&(this._context=ee,this._tapNext=ee.next||P.Z,this._tapError=ee.error||P.Z,this._tapComplete=ee.complete||P.Z)}_next(q){try{this._tapNext.call(this._context,q)}catch(ee){return void this.destination.error(ee)}this.destination.next(q)}_error(q){try{this._tapError.call(this._context,q)}catch(ee){return void this.destination.error(ee)}this.destination.error(q)}_complete(){try{this._tapComplete.call(this._context)}catch(q){return void this.destination.error(q)}return this.destination.complete()}}},4907:(un,ut,D)=>{"use strict";D.d(ut,{T:()=>L});var a=D(4450),P=D(3489);function L(se=fe){return q=>q.lift(new Y(se))}class Y{constructor(q){this.errorFactory=q}call(q,ee){return ee.subscribe(new he(q,this.errorFactory))}}class he extends P.L{constructor(q,ee){super(q),this.errorFactory=ee,this.hasValue=!1}_next(q){this.hasValue=!0,this.destination.next(q)}_complete(){if(this.hasValue)return this.destination.complete();{let q;try{q=this.errorFactory()}catch(ee){q=ee}this.destination.error(q)}}}function fe(){return new a.K}},6454:(un,ut,D)=>{"use strict";D.d(ut,{r:()=>L});var a=D(2916),P=D(2654);function L(Y,he){return new a.y(fe=>{const se=new P.w;let q=0;return se.add(he.schedule(function(){q!==Y.length?(fe.next(Y[q++]),fe.closed||se.add(this.schedule())):fe.complete()})),se})}},6686:(un,ut,D)=>{"use strict";D.d(ut,{o:()=>L});var a=D(2654);class P extends a.w{constructor(he,fe){super()}schedule(he,fe=0){return this}}class L extends P{constructor(he,fe){super(he,fe),this.scheduler=he,this.work=fe,this.pending=!1}schedule(he,fe=0){if(this.closed)return this;this.state=he;const se=this.id,q=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(q,se,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(q,this.id,fe),this}requestAsyncId(he,fe,se=0){return setInterval(he.flush.bind(he,this),se)}recycleAsyncId(he,fe,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return fe;clearInterval(fe)}execute(he,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(he,fe);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,fe){let q,se=!1;try{this.work(he)}catch(ee){se=!0,q=!!ee&&ee||new Error(ee)}if(se)return this.unsubscribe(),q}_unsubscribe(){const he=this.id,fe=this.scheduler,se=fe.actions,q=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==q&&se.splice(q,1),null!=he&&(this.id=this.recycleAsyncId(fe,he,null)),this.delay=null}}},2268:(un,ut,D)=>{"use strict";D.d(ut,{v:()=>P});let a=(()=>{class L{constructor(he,fe=L.now){this.SchedulerAction=he,this.now=fe}schedule(he,fe=0,se){return new this.SchedulerAction(this,he).schedule(se,fe)}}return L.now=()=>Date.now(),L})();class P extends a{constructor(Y,he=a.now){super(Y,()=>P.delegate&&P.delegate!==this?P.delegate.now():he()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Y,he=0,fe){return P.delegate&&P.delegate!==this?P.delegate.schedule(Y,he,fe):super.schedule(Y,he,fe)}flush(Y){const{actions:he}=this;if(this.active)return void he.push(Y);let fe;this.active=!0;do{if(fe=Y.execute(Y.state,Y.delay))break}while(Y=he.shift());if(this.active=!1,fe){for(;Y=he.shift();)Y.unsubscribe();throw fe}}}},353:(un,ut,D)=>{"use strict";D.d(ut,{z:()=>L,P:()=>Y});var a=D(6686);const L=new(D(2268).v)(a.o),Y=L},341:(un,ut,D)=>{"use strict";D.d(ut,{c:()=>fe,N:()=>he});var a=D(6686),L=D(2268);const he=new class Y extends L.v{}(class P extends a.o{constructor(q,ee){super(q,ee),this.scheduler=q,this.work=ee}schedule(q,ee=0){return ee>0?super.schedule(q,ee):(this.delay=ee,this.state=q,this.scheduler.flush(this),this)}execute(q,ee){return ee>0||this.closed?super.execute(q,ee):this._execute(q,ee)}requestAsyncId(q,ee,W=0){return null!==W&&W>0||null===W&&this.delay>0?super.requestAsyncId(q,ee,W):q.flush(this)}}),fe=he},5430:(un,ut,D)=>{"use strict";D.d(ut,{hZ:()=>P});const P=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(un,ut,D)=>{"use strict";D.d(ut,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(un,ut,D)=>{"use strict";D.d(ut,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(un,ut,D)=>{"use strict";D.d(ut,{W:()=>P});const P=(()=>{function L(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return L.prototype=Object.create(Error.prototype),L})()},4450:(un,ut,D)=>{"use strict";D.d(ut,{K:()=>P});const P=(()=>{function L(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return L.prototype=Object.create(Error.prototype),L})()},5279:(un,ut,D)=>{"use strict";D.d(ut,{N:()=>P});const P=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},2782:(un,ut,D)=>{"use strict";function a(P){setTimeout(()=>{throw P},0)}D.d(ut,{z:()=>a})},5379:(un,ut,D)=>{"use strict";function a(P){return P}D.d(ut,{y:()=>a})},6688:(un,ut,D)=>{"use strict";D.d(ut,{k:()=>a});const a=Array.isArray||(P=>P&&"number"==typeof P.length)},8515:(un,ut,D)=>{"use strict";D.d(ut,{z:()=>a});const a=P=>P&&"number"==typeof P.length&&"function"!=typeof P},7043:(un,ut,D)=>{"use strict";function a(P){return"function"==typeof P}D.d(ut,{m:()=>a})},7830:(un,ut,D)=>{"use strict";function a(P){return null!==P&&"object"==typeof P}D.d(ut,{K:()=>a})},8955:(un,ut,D)=>{"use strict";function a(P){return!!P&&"function"!=typeof P.subscribe&&"function"==typeof P.then}D.d(ut,{t:()=>a})},2866:(un,ut,D)=>{"use strict";function a(P){return P&&"function"==typeof P.schedule}D.d(ut,{K:()=>a})},7876:(un,ut,D)=>{"use strict";function a(){}D.d(ut,{Z:()=>a})},9249:(un,ut,D)=>{"use strict";D.d(ut,{s:()=>re});var a=D(3650),P=D(2782),Y=D(5430),fe=D(3821),q=D(8515),ee=D(8955),W=D(7830);const re=we=>{if(we&&"function"==typeof we[fe.L])return(we=>oe=>{const Ae=we[fe.L]();if("function"!=typeof Ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ae.subscribe(oe)})(we);if((0,q.z)(we))return(0,a.V)(we);if((0,ee.t)(we))return(we=>oe=>(we.then(Ae=>{oe.closed||(oe.next(Ae),oe.complete())},Ae=>oe.error(Ae)).then(null,P.z),oe))(we);if(we&&"function"==typeof we[Y.hZ])return(we=>oe=>{const Ae=we[Y.hZ]();for(;;){let le;try{le=Ae.next()}catch(J){return oe.error(J),oe}if(le.done){oe.complete();break}if(oe.next(le.value),oe.closed)break}return"function"==typeof Ae.return&&oe.add(()=>{Ae.return&&Ae.return()}),oe})(we);{const Ae=`You provided ${(0,W.K)(we)?"an invalid object":`'${we}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ae)}}},3650:(un,ut,D)=>{"use strict";D.d(ut,{V:()=>a});const a=P=>L=>{for(let Y=0,he=P.length;Y<he&&!L.closed;Y++)L.next(P[Y]);L.complete()}},863:(un,ut,D)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function P(L){if(!D.o(a,L))return Promise.resolve().then(()=>{var fe=new Error("Cannot find module '"+L+"'");throw fe.code="MODULE_NOT_FOUND",fe});var Y=a[L],he=Y[0];return Promise.all(Y.slice(1).map(D.e)).then(()=>D(he))}P.keys=()=>Object.keys(a),P.id=863,un.exports=P},655:(un,ut,D)=>{"use strict";function Y(Ue,Fe){var Le={};for(var Re in Ue)Object.prototype.hasOwnProperty.call(Ue,Re)&&Fe.indexOf(Re)<0&&(Le[Re]=Ue[Re]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Re=Object.getOwnPropertySymbols(Ue);it<Re.length;it++)Fe.indexOf(Re[it])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Re[it])&&(Le[Re[it]]=Ue[Re[it]])}return Le}function he(Ue,Fe,Le,Re){var Ut,it=arguments.length,je=it<3?Fe:null===Re?Re=Object.getOwnPropertyDescriptor(Fe,Le):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(Ue,Fe,Le,Re);else for(var Lt=Ue.length-1;Lt>=0;Lt--)(Ut=Ue[Lt])&&(je=(it<3?Ut(je):it>3?Ut(Fe,Le,je):Ut(Fe,Le))||je);return it>3&&je&&Object.defineProperty(Fe,Le,je),je}function q(Ue,Fe,Le,Re){return new(Le||(Le=Promise))(function(je,Ut){function Lt(Z){try{ve(Re.next(Z))}catch(ue){Ut(ue)}}function _t(Z){try{ve(Re.throw(Z))}catch(ue){Ut(ue)}}function ve(Z){Z.done?je(Z.value):function it(je){return je instanceof Le?je:new Le(function(Ut){Ut(je)})}(Z.value).then(Lt,_t)}ve((Re=Re.apply(Ue,Fe||[])).next())})}D.d(ut,{_T:()=>Y,gn:()=>he,mG:()=>q})},9808:(un,ut,D)=>{"use strict";D.d(ut,{mr:()=>_e,Ov:()=>vi,ez:()=>tt,K0:()=>se,JJ:()=>Wr,Do:()=>ke,V_:()=>W,Ye:()=>Ne,S$:()=>xe,mk:()=>On,sg:()=>Cr,O5:()=>N,PC:()=>wn,RF:()=>De,n9:()=>Je,ED:()=>Et,tP:()=>Pn,b0:()=>Ie,lw:()=>q,EM:()=>ln,JF:()=>wr,NF:()=>F,PM:()=>Ce,w_:()=>fe,bD:()=>We,q:()=>L,Mx:()=>xn,HT:()=>he});var a=D(9863);let P=null;function L(){return P}function he(k){P||(P=k)}class fe{}const se=new a.OlP("DocumentToken");let q=(()=>{class k{historyGo(d){throw new Error("Not implemented")}}return k.\u0275fac=function(d){return new(d||k)},k.\u0275prov=a.Yz7({token:k,factory:function(){return function ee(){return(0,a.LFG)(re)}()},providedIn:"platform"}),k})();const W=new a.OlP("Location Initialized");let re=(()=>{class k extends q{constructor(d){super(),this._doc=d,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(d){const _=L().getGlobalEventTarget(this._doc,"window");return _.addEventListener("popstate",d,!1),()=>_.removeEventListener("popstate",d)}onHashChange(d){const _=L().getGlobalEventTarget(this._doc,"window");return _.addEventListener("hashchange",d,!1),()=>_.removeEventListener("hashchange",d)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(d){this.location.pathname=d}pushState(d,_,g){we()?this._history.pushState(d,_,g):this.location.hash=g}replaceState(d,_,g){we()?this._history.replaceState(d,_,g):this.location.hash=g}forward(){this._history.forward()}back(){this._history.back()}historyGo(d=0){this._history.go(d)}getState(){return this._history.state}}return k.\u0275fac=function(d){return new(d||k)(a.LFG(se))},k.\u0275prov=a.Yz7({token:k,factory:function(){return function oe(){return new re((0,a.LFG)(se))}()},providedIn:"platform"}),k})();function we(){return!!window.history.pushState}function Ae(k,X){if(0==k.length)return X;if(0==X.length)return k;let d=0;return k.endsWith("/")&&d++,X.startsWith("/")&&d++,2==d?k+X.substring(1):1==d?k+X:k+"/"+X}function le(k){const X=k.match(/#|\?|$/),d=X&&X.index||k.length;return k.slice(0,d-("/"===k[d-1]?1:0))+k.slice(d)}function J(k){return k&&"?"!==k[0]?"?"+k:k}let xe=(()=>{class k{historyGo(d){throw new Error("Not implemented")}}return k.\u0275fac=function(d){return new(d||k)},k.\u0275prov=a.Yz7({token:k,factory:function(){return function be(k){const X=(0,a.LFG)(se).location;return new Ie((0,a.LFG)(q),X&&X.origin||"")}()},providedIn:"root"}),k})();const _e=new a.OlP("appBaseHref");let Ie=(()=>{class k extends xe{constructor(d,_){if(super(),this._platformLocation=d,this._removeListenerFns=[],null==_&&(_=this._platformLocation.getBaseHrefFromDOM()),null==_)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=_}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}prepareExternalUrl(d){return Ae(this._baseHref,d)}path(d=!1){const _=this._platformLocation.pathname+J(this._platformLocation.search),g=this._platformLocation.hash;return g&&d?`${_}${g}`:_}pushState(d,_,g,C){const z=this.prepareExternalUrl(g+J(C));this._platformLocation.pushState(d,_,z)}replaceState(d,_,g,C){const z=this.prepareExternalUrl(g+J(C));this._platformLocation.replaceState(d,_,z)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(d=0){var _,g;null===(g=(_=this._platformLocation).historyGo)||void 0===g||g.call(_,d)}}return k.\u0275fac=function(d){return new(d||k)(a.LFG(q),a.LFG(_e,8))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac}),k})(),ke=(()=>{class k extends xe{constructor(d,_){super(),this._platformLocation=d,this._baseHref="",this._removeListenerFns=[],null!=_&&(this._baseHref=_)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}path(d=!1){let _=this._platformLocation.hash;return null==_&&(_="#"),_.length>0?_.substring(1):_}prepareExternalUrl(d){const _=Ae(this._baseHref,d);return _.length>0?"#"+_:_}pushState(d,_,g,C){let z=this.prepareExternalUrl(g+J(C));0==z.length&&(z=this._platformLocation.pathname),this._platformLocation.pushState(d,_,z)}replaceState(d,_,g,C){let z=this.prepareExternalUrl(g+J(C));0==z.length&&(z=this._platformLocation.pathname),this._platformLocation.replaceState(d,_,z)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(d=0){var _,g;null===(g=(_=this._platformLocation).historyGo)||void 0===g||g.call(_,d)}}return k.\u0275fac=function(d){return new(d||k)(a.LFG(q),a.LFG(_e,8))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac}),k})(),Ne=(()=>{class k{constructor(d,_){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=d;const g=this._platformStrategy.getBaseHref();this._platformLocation=_,this._baseHref=le(Ge(g)),this._platformStrategy.onPopState(C=>{this._subject.emit({url:this.path(!0),pop:!0,state:C.state,type:C.type})})}path(d=!1){return this.normalize(this._platformStrategy.path(d))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(d,_=""){return this.path()==this.normalize(d+J(_))}normalize(d){return k.stripTrailingSlash(function xt(k,X){return k&&X.startsWith(k)?X.substring(k.length):X}(this._baseHref,Ge(d)))}prepareExternalUrl(d){return d&&"/"!==d[0]&&(d="/"+d),this._platformStrategy.prepareExternalUrl(d)}go(d,_="",g=null){this._platformStrategy.pushState(g,"",d,_),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+J(_)),g)}replaceState(d,_="",g=null){this._platformStrategy.replaceState(g,"",d,_),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+J(_)),g)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(d=0){var _,g;null===(g=(_=this._platformStrategy).historyGo)||void 0===g||g.call(_,d)}onUrlChange(d){this._urlChangeListeners.push(d),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(_=>{this._notifyUrlChangeListeners(_.url,_.state)}))}_notifyUrlChangeListeners(d="",_){this._urlChangeListeners.forEach(g=>g(d,_))}subscribe(d,_,g){return this._subject.subscribe({next:d,error:_,complete:g})}}return k.normalizeQueryParams=J,k.joinWithSlash=Ae,k.stripTrailingSlash=le,k.\u0275fac=function(d){return new(d||k)(a.LFG(xe),a.LFG(q))},k.\u0275prov=a.Yz7({token:k,factory:function(){return function nt(){return new Ne((0,a.LFG)(xe),(0,a.LFG)(q))}()},providedIn:"root"}),k})();function Ge(k){return k.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Decimal=0]="Decimal",Ue[Ue.Percent=1]="Percent",Ue[Ue.Currency=2]="Currency",Ue[Ue.Scientific=3]="Scientific",Ue))(),je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Group=1]="Group",je[je.List=2]="List",je[je.PercentSign=3]="PercentSign",je[je.PlusSign=4]="PlusSign",je[je.MinusSign=5]="MinusSign",je[je.Exponential=6]="Exponential",je[je.SuperscriptingExponent=7]="SuperscriptingExponent",je[je.PerMille=8]="PerMille",je[je.Infinity=9]="Infinity",je[je.NaN=10]="NaN",je[je.TimeSeparator=11]="TimeSeparator",je[je.CurrencyDecimal=12]="CurrencyDecimal",je[je.CurrencyGroup=13]="CurrencyGroup",je))();function Ft(k,X){const d=(0,a.cg1)(k),_=d[a.wAp.NumberSymbols][X];if(void 0===_){if(X===je.CurrencyDecimal)return d[a.wAp.NumberSymbols][je.Decimal];if(X===je.CurrencyGroup)return d[a.wAp.NumberSymbols][je.Group]}return _}const Zn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ct(k){const X=parseInt(k);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+k);return X}function xn(k,X){X=encodeURIComponent(X);for(const d of k.split(";")){const _=d.indexOf("="),[g,C]=-1==_?[d,""]:[d.slice(0,_),d.slice(_+1)];if(g.trim()===X)return decodeURIComponent(C)}return null}let On=(()=>{class k{constructor(d,_,g,C){this._iterableDiffers=d,this._keyValueDiffers=_,this._ngEl=g,this._renderer=C,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(d){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof d?d.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(d){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof d?d.split(/\s+/):d,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const d=this._iterableDiffer.diff(this._rawClass);d&&this._applyIterableChanges(d)}else if(this._keyValueDiffer){const d=this._keyValueDiffer.diff(this._rawClass);d&&this._applyKeyValueChanges(d)}}_applyKeyValueChanges(d){d.forEachAddedItem(_=>this._toggleClass(_.key,_.currentValue)),d.forEachChangedItem(_=>this._toggleClass(_.key,_.currentValue)),d.forEachRemovedItem(_=>{_.previousValue&&this._toggleClass(_.key,!1)})}_applyIterableChanges(d){d.forEachAddedItem(_=>{if("string"!=typeof _.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(_.item)}`);this._toggleClass(_.item,!0)}),d.forEachRemovedItem(_=>this._toggleClass(_.item,!1))}_applyClasses(d){d&&(Array.isArray(d)||d instanceof Set?d.forEach(_=>this._toggleClass(_,!0)):Object.keys(d).forEach(_=>this._toggleClass(_,!!d[_])))}_removeClasses(d){d&&(Array.isArray(d)||d instanceof Set?d.forEach(_=>this._toggleClass(_,!1)):Object.keys(d).forEach(_=>this._toggleClass(_,!1)))}_toggleClass(d,_){(d=d.trim())&&d.split(/\s+/g).forEach(g=>{_?this._renderer.addClass(this._ngEl.nativeElement,g):this._renderer.removeClass(this._ngEl.nativeElement,g)})}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),k})();class fr{constructor(X,d,_,g){this.$implicit=X,this.ngForOf=d,this.index=_,this.count=g}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cr=(()=>{class k{constructor(d,_,g){this._viewContainer=d,this._template=_,this._differs=g,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(d){this._ngForOf=d,this._ngForOfDirty=!0}set ngForTrackBy(d){this._trackByFn=d}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(d){d&&(this._template=d)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const d=this._ngForOf;!this._differ&&d&&(this._differ=this._differs.find(d).create(this.ngForTrackBy))}if(this._differ){const d=this._differ.diff(this._ngForOf);d&&this._applyChanges(d)}}_applyChanges(d){const _=this._viewContainer;d.forEachOperation((g,C,z)=>{if(null==g.previousIndex)_.createEmbeddedView(this._template,new fr(g.item,this._ngForOf,-1,-1),null===z?void 0:z);else if(null==z)_.remove(null===C?void 0:C);else if(null!==C){const dt=_.get(C);_.move(dt,z),Br(dt,g)}});for(let g=0,C=_.length;g<C;g++){const dt=_.get(g).context;dt.index=g,dt.count=C,dt.ngForOf=this._ngForOf}d.forEachIdentityChange(g=>{Br(_.get(g.currentIndex),g)})}static ngTemplateContextGuard(d,_){return!0}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),k})();function Br(k,X){k.context.$implicit=X.item}let N=(()=>{class k{constructor(d,_){this._viewContainer=d,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_}set ngIf(d){this._context.$implicit=this._context.ngIf=d,this._updateView()}set ngIfThen(d){V("ngIfThen",d),this._thenTemplateRef=d,this._thenViewRef=null,this._updateView()}set ngIfElse(d){V("ngIfElse",d),this._elseTemplateRef=d,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(d,_){return!0}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.s_b),a.Y36(a.Rgc))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function V(k,X){if(X&&!X.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,a.AaK)(X)}'.`)}class ne{constructor(X,d){this._viewContainerRef=X,this._templateRef=d,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let De=(()=>{class k{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(d){this._ngSwitch=d,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(d){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(d)}_matchCase(d){const _=d==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||_,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),_}_updateDefaultCases(d){if(this._defaultViews&&d!==this._defaultUsed){this._defaultUsed=d;for(let _=0;_<this._defaultViews.length;_++)this._defaultViews[_].enforceState(d)}}}return k.\u0275fac=function(d){return new(d||k)},k.\u0275dir=a.lG2({type:k,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),k})(),Je=(()=>{class k{constructor(d,_,g){this.ngSwitch=g,g._addCase(),this._view=new ne(d,_)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(De,9))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),k})(),Et=(()=>{class k{constructor(d,_,g){g._addDefault(new ne(d,_))}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(De,9))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngSwitchDefault",""]]}),k})(),wn=(()=>{class k{constructor(d,_,g){this._ngEl=d,this._differs=_,this._renderer=g,this._ngStyle=null,this._differ=null}set ngStyle(d){this._ngStyle=d,!this._differ&&d&&(this._differ=this._differs.find(d).create())}ngDoCheck(){if(this._differ){const d=this._differ.diff(this._ngStyle);d&&this._applyChanges(d)}}_setStyle(d,_){const[g,C]=d.split(".");null!=(_=null!=_&&C?`${_}${C}`:_)?this._renderer.setStyle(this._ngEl.nativeElement,g,_):this._renderer.removeStyle(this._ngEl.nativeElement,g)}_applyChanges(d){d.forEachRemovedItem(_=>this._setStyle(_.key,null)),d.forEachAddedItem(_=>this._setStyle(_.key,_.currentValue)),d.forEachChangedItem(_=>this._setStyle(_.key,_.currentValue))}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),k})(),Pn=(()=>{class k{constructor(d){this._viewContainerRef=d,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(d){if(d.ngTemplateOutlet){const _=this._viewContainerRef;this._viewRef&&_.remove(_.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?_.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&d.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.s_b))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),k})();function Sr(k,X){return new a.vHH(2100,"")}class ti{createSubscription(X,d){return X.subscribe({next:d,error:_=>{throw _}})}dispose(X){X.unsubscribe()}onDestroy(X){X.unsubscribe()}}class Fr{createSubscription(X,d){return X.then(d,_=>{throw _})}dispose(X){}onDestroy(X){}}const zr=new Fr,ni=new ti;let vi=(()=>{class k{constructor(d){this._ref=d,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(d){return this._obj?d!==this._obj?(this._dispose(),this.transform(d)):this._latestValue:(d&&this._subscribe(d),this._latestValue)}_subscribe(d){this._obj=d,this._strategy=this._selectStrategy(d),this._subscription=this._strategy.createSubscription(d,_=>this._updateLatestValue(d,_))}_selectStrategy(d){if((0,a.QGY)(d))return zr;if((0,a.F4k)(d))return ni;throw Sr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(d,_){d===this._obj&&(this._latestValue=_,this._ref.markForCheck())}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.sBO,16))},k.\u0275pipe=a.Yjl({name:"async",type:k,pure:!1}),k})(),Wr=(()=>{class k{constructor(d){this._locale=d}transform(d,_,g){if(!function oi(k){return!(null==k||""===k||k!=k)}(d))return null;g=g||this._locale;try{return function At(k,X,d){return function on(k,X,d,_,g,C,z=!1){let dt="",nn=!1;if(isFinite(k)){let hn=function yn(k){let _,g,C,z,dt,X=Math.abs(k)+"",d=0;for((g=X.indexOf("."))>-1&&(X=X.replace(".","")),(C=X.search(/e/i))>0?(g<0&&(g=C),g+=+X.slice(C+1),X=X.substring(0,C)):g<0&&(g=X.length),C=0;"0"===X.charAt(C);C++);if(C===(dt=X.length))_=[0],g=1;else{for(dt--;"0"===X.charAt(dt);)dt--;for(g-=C,_=[],z=0;C<=dt;C++,z++)_[z]=Number(X.charAt(C))}return g>22&&(_=_.splice(0,21),d=g-1,g=1),{digits:_,exponent:d,integerLen:g}}(k);z&&(hn=function Rt(k){if(0===k.digits[0])return k;const X=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===X?k.digits.push(0,0):1===X&&k.digits.push(0),k.integerLen+=2),k}(hn));let Un=X.minInt,jn=X.minFrac,Dr=X.maxFrac;if(C){const wi=C.match(Zn);if(null===wi)throw new Error(`${C} is not a valid digit info`);const B=wi[1],x=wi[3],R=wi[5];null!=B&&(Un=ct(B)),null!=x&&(jn=ct(x)),null!=R?Dr=ct(R):null!=x&&jn>Dr&&(Dr=jn)}!function Rn(k,X,d){if(X>d)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${d}).`);let _=k.digits,g=_.length-k.integerLen;const C=Math.min(Math.max(X,g),d);let z=C+k.integerLen,dt=_[z];if(z>0){_.splice(Math.max(k.integerLen,z));for(let jn=z;jn<_.length;jn++)_[jn]=0}else{g=Math.max(0,g),k.integerLen=1,_.length=Math.max(1,z=C+1),_[0]=0;for(let jn=1;jn<z;jn++)_[jn]=0}if(dt>=5)if(z-1<0){for(let jn=0;jn>z;jn--)_.unshift(0),k.integerLen++;_.unshift(1),k.integerLen++}else _[z-1]++;for(;g<Math.max(0,C);g++)_.push(0);let nn=0!==C;const hn=X+k.integerLen,Un=_.reduceRight(function(jn,Dr,sr,kr){return kr[sr]=(Dr+=jn)<10?Dr:Dr-10,nn&&(0===kr[sr]&&sr>=hn?kr.pop():nn=!1),Dr>=10?1:0},0);Un&&(_.unshift(Un),k.integerLen++)}(hn,jn,Dr);let sr=hn.digits,kr=hn.integerLen;const li=hn.exponent;let _i=[];for(nn=sr.every(wi=>!wi);kr<Un;kr++)sr.unshift(0);for(;kr<0;kr++)sr.unshift(0);kr>0?_i=sr.splice(kr,sr.length):(_i=sr,sr=[0]);const ei=[];for(sr.length>=X.lgSize&&ei.unshift(sr.splice(-X.lgSize,sr.length).join(""));sr.length>X.gSize;)ei.unshift(sr.splice(-X.gSize,sr.length).join(""));sr.length&&ei.unshift(sr.join("")),dt=ei.join(Ft(d,_)),_i.length&&(dt+=Ft(d,g)+_i.join("")),li&&(dt+=Ft(d,je.Exponential)+"+"+li)}else dt=Ft(d,je.Infinity);return dt=k<0&&!nn?X.negPre+dt+X.negSuf:X.posPre+dt+X.posSuf,dt}(k,function Gt(k,X="-"){const d={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},_=k.split(";"),g=_[0],C=_[1],z=-1!==g.indexOf(".")?g.split("."):[g.substring(0,g.lastIndexOf("0")+1),g.substring(g.lastIndexOf("0")+1)],dt=z[0],nn=z[1]||"";d.posPre=dt.substr(0,dt.indexOf("#"));for(let Un=0;Un<nn.length;Un++){const jn=nn.charAt(Un);"0"===jn?d.minFrac=d.maxFrac=Un+1:"#"===jn?d.maxFrac=Un+1:d.posSuf+=jn}const hn=dt.split(",");if(d.gSize=hn[1]?hn[1].length:0,d.lgSize=hn[2]||hn[1]?(hn[2]||hn[1]).length:0,C){const Un=g.length-d.posPre.length-d.posSuf.length,jn=C.indexOf("#");d.negPre=C.substr(0,jn).replace(/'/g,""),d.negSuf=C.substr(jn+Un).replace(/'/g,"")}else d.negPre=X+d.posPre,d.negSuf=d.posSuf;return d}(function an(k,X){return(0,a.cg1)(k)[a.wAp.NumberFormats][X]}(X,Ue.Decimal),Ft(X,je.MinusSign)),X,je.Group,je.Decimal,d)}(function Ur(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}(d),g,_)}catch(C){throw Sr()}}}return k.\u0275fac=function(d){return new(d||k)(a.Y36(a.soG,16))},k.\u0275pipe=a.Yjl({name:"number",type:k,pure:!0}),k})();let tt=(()=>{class k{}return k.\u0275fac=function(d){return new(d||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({}),k})();const We="browser";function F(k){return k===We}function Ce(k){return"server"===k}let ln=(()=>{class k{}return k.\u0275prov=(0,a.Yz7)({token:k,providedIn:"root",factory:()=>new Fn((0,a.LFG)(se),window)}),k})();class Fn{constructor(X,d){this.document=X,this.window=d,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const d=function hr(k,X){const d=k.getElementById(X)||k.getElementsByName(X)[0];if(d)return d;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const _=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let g=_.currentNode;for(;g;){const C=g.shadowRoot;if(C){const z=C.getElementById(X)||C.querySelector(`[name="${X}"]`);if(z)return z}g=_.nextNode()}}return null}(this.document,X);d&&(this.scrollToElement(d),d.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const d=this.window.history;d&&d.scrollRestoration&&(d.scrollRestoration=X)}}scrollToElement(X){const d=X.getBoundingClientRect(),_=d.left+this.window.pageXOffset,g=d.top+this.window.pageYOffset,C=this.offset();this.window.scrollTo(_-C[0],g-C[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=kn(this.window.history)||kn(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch(X){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(X){return!1}}}function kn(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class wr{}},520:(un,ut,D)=>{"use strict";D.d(ut,{eN:()=>je,JF:()=>Zt});var a=D(9808),P=D(9863),L=D(1086),Y=D(2916),he=D(1406),fe=D(2198),se=D(4850);class q{}class ee{}class W{constructor(Ye){this.normalizedNames=new Map,this.lazyUpdate=null,Ye?this.lazyInit="string"==typeof Ye?()=>{this.headers=new Map,Ye.split("\n").forEach($e=>{const Pt=$e.indexOf(":");if(Pt>0){const bt=$e.slice(0,Pt),zt=bt.toLowerCase(),Kt=$e.slice(Pt+1).trim();this.maybeSetNormalizedName(bt,zt),this.headers.has(zt)?this.headers.get(zt).push(Kt):this.headers.set(zt,[Kt])}})}:()=>{this.headers=new Map,Object.keys(Ye).forEach($e=>{let Pt=Ye[$e];const bt=$e.toLowerCase();"string"==typeof Pt&&(Pt=[Pt]),Pt.length>0&&(this.headers.set(bt,Pt),this.maybeSetNormalizedName($e,bt))})}:this.headers=new Map}has(Ye){return this.init(),this.headers.has(Ye.toLowerCase())}get(Ye){this.init();const $e=this.headers.get(Ye.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ye){return this.init(),this.headers.get(Ye.toLowerCase())||null}append(Ye,$e){return this.clone({name:Ye,value:$e,op:"a"})}set(Ye,$e){return this.clone({name:Ye,value:$e,op:"s"})}delete(Ye,$e){return this.clone({name:Ye,value:$e,op:"d"})}maybeSetNormalizedName(Ye,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,Ye)}init(){this.lazyInit&&(this.lazyInit instanceof W?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ye=>this.applyUpdate(Ye)),this.lazyUpdate=null))}copyFrom(Ye){Ye.init(),Array.from(Ye.headers.keys()).forEach($e=>{this.headers.set($e,Ye.headers.get($e)),this.normalizedNames.set($e,Ye.normalizedNames.get($e))})}clone(Ye){const $e=new W;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof W?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([Ye]),$e}applyUpdate(Ye){const $e=Ye.name.toLowerCase();switch(Ye.op){case"a":case"s":let Pt=Ye.value;if("string"==typeof Pt&&(Pt=[Pt]),0===Pt.length)return;this.maybeSetNormalizedName(Ye.name,$e);const bt=("a"===Ye.op?this.headers.get($e):void 0)||[];bt.push(...Pt),this.headers.set($e,bt);break;case"d":const zt=Ye.value;if(zt){let Kt=this.headers.get($e);if(!Kt)return;Kt=Kt.filter(Gn=>-1===zt.indexOf(Gn)),0===Kt.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,Kt)}else this.headers.delete($e),this.normalizedNames.delete($e)}}forEach(Ye){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>Ye(this.normalizedNames.get($e),this.headers.get($e)))}}class re{encodeKey(Ye){return le(Ye)}encodeValue(Ye){return le(Ye)}decodeKey(Ye){return decodeURIComponent(Ye)}decodeValue(Ye){return decodeURIComponent(Ye)}}const oe=/%(\d[a-f0-9])/gi,Ae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function le(Mt){return encodeURIComponent(Mt).replace(oe,(Ye,$e)=>{var Pt;return null!==(Pt=Ae[$e])&&void 0!==Pt?Pt:Ye})}function J(Mt){return`${Mt}`}class xe{constructor(Ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ye.encoder||new re,Ye.fromString){if(Ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function we(Mt,Ye){const $e=new Map;return Mt.length>0&&Mt.replace(/^\?/,"").split("&").forEach(bt=>{const zt=bt.indexOf("="),[Kt,Gn]=-1==zt?[Ye.decodeKey(bt),""]:[Ye.decodeKey(bt.slice(0,zt)),Ye.decodeValue(bt.slice(zt+1))],Wn=$e.get(Kt)||[];Wn.push(Gn),$e.set(Kt,Wn)}),$e}(Ye.fromString,this.encoder)}else Ye.fromObject?(this.map=new Map,Object.keys(Ye.fromObject).forEach($e=>{const Pt=Ye.fromObject[$e];this.map.set($e,Array.isArray(Pt)?Pt:[Pt])})):this.map=null}has(Ye){return this.init(),this.map.has(Ye)}get(Ye){this.init();const $e=this.map.get(Ye);return $e?$e[0]:null}getAll(Ye){return this.init(),this.map.get(Ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ye,$e){return this.clone({param:Ye,value:$e,op:"a"})}appendAll(Ye){const $e=[];return Object.keys(Ye).forEach(Pt=>{const bt=Ye[Pt];Array.isArray(bt)?bt.forEach(zt=>{$e.push({param:Pt,value:zt,op:"a"})}):$e.push({param:Pt,value:bt,op:"a"})}),this.clone($e)}set(Ye,$e){return this.clone({param:Ye,value:$e,op:"s"})}delete(Ye,$e){return this.clone({param:Ye,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(Ye=>{const $e=this.encoder.encodeKey(Ye);return this.map.get(Ye).map(Pt=>$e+"="+this.encoder.encodeValue(Pt)).join("&")}).filter(Ye=>""!==Ye).join("&")}clone(Ye){const $e=new xe({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(Ye),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ye=>this.map.set(Ye,this.cloneFrom.map.get(Ye))),this.updates.forEach(Ye=>{switch(Ye.op){case"a":case"s":const $e=("a"===Ye.op?this.map.get(Ye.param):void 0)||[];$e.push(J(Ye.value)),this.map.set(Ye.param,$e);break;case"d":if(void 0===Ye.value){this.map.delete(Ye.param);break}{let Pt=this.map.get(Ye.param)||[];const bt=Pt.indexOf(J(Ye.value));-1!==bt&&Pt.splice(bt,1),Pt.length>0?this.map.set(Ye.param,Pt):this.map.delete(Ye.param)}}}),this.cloneFrom=this.updates=null)}}class _e{constructor(){this.map=new Map}set(Ye,$e){return this.map.set(Ye,$e),this}get(Ye){return this.map.has(Ye)||this.map.set(Ye,Ye.defaultValue()),this.map.get(Ye)}delete(Ye){return this.map.delete(Ye),this}has(Ye){return this.map.has(Ye)}keys(){return this.map.keys()}}function ke(Mt){return"undefined"!=typeof ArrayBuffer&&Mt instanceof ArrayBuffer}function Ne(Mt){return"undefined"!=typeof Blob&&Mt instanceof Blob}function nt(Mt){return"undefined"!=typeof FormData&&Mt instanceof FormData}class Ge{constructor(Ye,$e,Pt,bt){let zt;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ye.toUpperCase(),function Ie(Mt){switch(Mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||bt?(this.body=void 0!==Pt?Pt:null,zt=bt):zt=Pt,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new W),this.context||(this.context=new _e),this.params){const Kt=this.params.toString();if(0===Kt.length)this.urlWithParams=$e;else{const Gn=$e.indexOf("?");this.urlWithParams=$e+(-1===Gn?"?":Gn<$e.length-1?"&":"")+Kt}}else this.params=new xe,this.urlWithParams=$e}serializeBody(){return null===this.body?null:ke(this.body)||Ne(this.body)||nt(this.body)||function xt(Mt){return"undefined"!=typeof URLSearchParams&&Mt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nt(this.body)?null:Ne(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ye={}){var $e;const Pt=Ye.method||this.method,bt=Ye.url||this.url,zt=Ye.responseType||this.responseType,Kt=void 0!==Ye.body?Ye.body:this.body,Gn=void 0!==Ye.withCredentials?Ye.withCredentials:this.withCredentials,Wn=void 0!==Ye.reportProgress?Ye.reportProgress:this.reportProgress;let Qn=Ye.headers||this.headers,mr=Ye.params||this.params;const dr=null!==($e=Ye.context)&&void 0!==$e?$e:this.context;return void 0!==Ye.setHeaders&&(Qn=Object.keys(Ye.setHeaders).reduce((bn,Nn)=>bn.set(Nn,Ye.setHeaders[Nn]),Qn)),Ye.setParams&&(mr=Object.keys(Ye.setParams).reduce((bn,Nn)=>bn.set(Nn,Ye.setParams[Nn]),mr)),new Ge(Pt,bt,Kt,{params:mr,headers:Qn,context:dr,reportProgress:Wn,responseType:zt,withCredentials:Gn})}}var ht=(()=>((ht=ht||{})[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht))();class Ue{constructor(Ye,$e=200,Pt="OK"){this.headers=Ye.headers||new W,this.status=void 0!==Ye.status?Ye.status:$e,this.statusText=Ye.statusText||Pt,this.url=Ye.url||null,this.ok=this.status>=200&&this.status<300}}class Fe extends Ue{constructor(Ye={}){super(Ye),this.type=ht.ResponseHeader}clone(Ye={}){return new Fe({headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class Le extends Ue{constructor(Ye={}){super(Ye),this.type=ht.Response,this.body=void 0!==Ye.body?Ye.body:null}clone(Ye={}){return new Le({body:void 0!==Ye.body?Ye.body:this.body,headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class Re extends Ue{constructor(Ye){super(Ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ye.url||"(unknown url)"}`:`Http failure response for ${Ye.url||"(unknown url)"}: ${Ye.status} ${Ye.statusText}`,this.error=Ye.error||null}}function it(Mt,Ye){return{body:Ye,headers:Mt.headers,context:Mt.context,observe:Mt.observe,params:Mt.params,reportProgress:Mt.reportProgress,responseType:Mt.responseType,withCredentials:Mt.withCredentials}}let je=(()=>{class Mt{constructor($e){this.handler=$e}request($e,Pt,bt={}){let zt;if($e instanceof Ge)zt=$e;else{let Wn,Qn;Wn=bt.headers instanceof W?bt.headers:new W(bt.headers),bt.params&&(Qn=bt.params instanceof xe?bt.params:new xe({fromObject:bt.params})),zt=new Ge($e,Pt,void 0!==bt.body?bt.body:null,{headers:Wn,context:bt.context,params:Qn,reportProgress:bt.reportProgress,responseType:bt.responseType||"json",withCredentials:bt.withCredentials})}const Kt=(0,L.of)(zt).pipe((0,he.b)(Wn=>this.handler.handle(Wn)));if($e instanceof Ge||"events"===bt.observe)return Kt;const Gn=Kt.pipe((0,fe.h)(Wn=>Wn instanceof Le));switch(bt.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return Gn.pipe((0,se.U)(Wn=>{if(null!==Wn.body&&!(Wn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Wn.body}));case"blob":return Gn.pipe((0,se.U)(Wn=>{if(null!==Wn.body&&!(Wn.body instanceof Blob))throw new Error("Response is not a Blob.");return Wn.body}));case"text":return Gn.pipe((0,se.U)(Wn=>{if(null!==Wn.body&&"string"!=typeof Wn.body)throw new Error("Response is not a string.");return Wn.body}));default:return Gn.pipe((0,se.U)(Wn=>Wn.body))}case"response":return Gn;default:throw new Error(`Unreachable: unhandled observe type ${bt.observe}}`)}}delete($e,Pt={}){return this.request("DELETE",$e,Pt)}get($e,Pt={}){return this.request("GET",$e,Pt)}head($e,Pt={}){return this.request("HEAD",$e,Pt)}jsonp($e,Pt){return this.request("JSONP",$e,{params:(new xe).append(Pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,Pt={}){return this.request("OPTIONS",$e,Pt)}patch($e,Pt,bt={}){return this.request("PATCH",$e,it(bt,Pt))}post($e,Pt,bt={}){return this.request("POST",$e,it(bt,Pt))}put($e,Pt,bt={}){return this.request("PUT",$e,it(bt,Pt))}}return Mt.\u0275fac=function($e){return new($e||Mt)(P.LFG(q))},Mt.\u0275prov=P.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();class Ut{constructor(Ye,$e){this.next=Ye,this.interceptor=$e}handle(Ye){return this.interceptor.intercept(Ye,this.next)}}const Lt=new P.OlP("HTTP_INTERCEPTORS");let _t=(()=>{class Mt{intercept($e,Pt){return Pt.handle($e)}}return Mt.\u0275fac=function($e){return new($e||Mt)},Mt.\u0275prov=P.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();const Ft=/^\)\]\}',?\n/;let tn=(()=>{class Mt{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Y.y(Pt=>{const bt=this.xhrFactory.build();if(bt.open($e.method,$e.urlWithParams),$e.withCredentials&&(bt.withCredentials=!0),$e.headers.forEach((Nn,ur)=>bt.setRequestHeader(Nn,ur.join(","))),$e.headers.has("Accept")||bt.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const Nn=$e.detectContentTypeHeader();null!==Nn&&bt.setRequestHeader("Content-Type",Nn)}if($e.responseType){const Nn=$e.responseType.toLowerCase();bt.responseType="json"!==Nn?Nn:"text"}const zt=$e.serializeBody();let Kt=null;const Gn=()=>{if(null!==Kt)return Kt;const Nn=bt.statusText||"OK",ur=new W(bt.getAllResponseHeaders()),dn=function an(Mt){return"responseURL"in Mt&&Mt.responseURL?Mt.responseURL:/^X-Request-URL:/m.test(Mt.getAllResponseHeaders())?Mt.getResponseHeader("X-Request-URL"):null}(bt)||$e.url;return Kt=new Fe({headers:ur,status:bt.status,statusText:Nn,url:dn}),Kt},Wn=()=>{let{headers:Nn,status:ur,statusText:dn,url:Nt}=Gn(),Dt=null;204!==ur&&(Dt=void 0===bt.response?bt.responseText:bt.response),0===ur&&(ur=Dt?200:0);let fn=ur>=200&&ur<300;if("json"===$e.responseType&&"string"==typeof Dt){const Tn=Dt;Dt=Dt.replace(Ft,"");try{Dt=""!==Dt?JSON.parse(Dt):null}catch(Kn){Dt=Tn,fn&&(fn=!1,Dt={error:Kn,text:Dt})}}fn?(Pt.next(new Le({body:Dt,headers:Nn,status:ur,statusText:dn,url:Nt||void 0})),Pt.complete()):Pt.error(new Re({error:Dt,headers:Nn,status:ur,statusText:dn,url:Nt||void 0}))},Qn=Nn=>{const{url:ur}=Gn(),dn=new Re({error:Nn,status:bt.status||0,statusText:bt.statusText||"Unknown Error",url:ur||void 0});Pt.error(dn)};let mr=!1;const dr=Nn=>{mr||(Pt.next(Gn()),mr=!0);let ur={type:ht.DownloadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(ur.total=Nn.total),"text"===$e.responseType&&!!bt.responseText&&(ur.partialText=bt.responseText),Pt.next(ur)},bn=Nn=>{let ur={type:ht.UploadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(ur.total=Nn.total),Pt.next(ur)};return bt.addEventListener("load",Wn),bt.addEventListener("error",Qn),bt.addEventListener("timeout",Qn),bt.addEventListener("abort",Qn),$e.reportProgress&&(bt.addEventListener("progress",dr),null!==zt&&bt.upload&&bt.upload.addEventListener("progress",bn)),bt.send(zt),Pt.next({type:ht.Sent}),()=>{bt.removeEventListener("error",Qn),bt.removeEventListener("abort",Qn),bt.removeEventListener("load",Wn),bt.removeEventListener("timeout",Qn),$e.reportProgress&&(bt.removeEventListener("progress",dr),null!==zt&&bt.upload&&bt.upload.removeEventListener("progress",bn)),bt.readyState!==bt.DONE&&bt.abort()}})}}return Mt.\u0275fac=function($e){return new($e||Mt)(P.LFG(a.JF))},Mt.\u0275prov=P.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();const Jt=new P.OlP("XSRF_COOKIE_NAME"),En=new P.OlP("XSRF_HEADER_NAME");class nr{}let lr=(()=>{class Mt{constructor($e,Pt,bt){this.doc=$e,this.platform=Pt,this.cookieName=bt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}}return Mt.\u0275fac=function($e){return new($e||Mt)(P.LFG(a.K0),P.LFG(P.Lbi),P.LFG(Jt))},Mt.\u0275prov=P.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})(),Jn=(()=>{class Mt{constructor($e,Pt){this.tokenService=$e,this.headerName=Pt}intercept($e,Pt){const bt=$e.url.toLowerCase();if("GET"===$e.method||"HEAD"===$e.method||bt.startsWith("http://")||bt.startsWith("https://"))return Pt.handle($e);const zt=this.tokenService.getToken();return null!==zt&&!$e.headers.has(this.headerName)&&($e=$e.clone({headers:$e.headers.set(this.headerName,zt)})),Pt.handle($e)}}return Mt.\u0275fac=function($e){return new($e||Mt)(P.LFG(nr),P.LFG(En))},Mt.\u0275prov=P.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})(),rr=(()=>{class Mt{constructor($e,Pt){this.backend=$e,this.injector=Pt,this.chain=null}handle($e){if(null===this.chain){const Pt=this.injector.get(Lt,[]);this.chain=Pt.reduceRight((bt,zt)=>new Ut(bt,zt),this.backend)}return this.chain.handle($e)}}return Mt.\u0275fac=function($e){return new($e||Mt)(P.LFG(ee),P.LFG(P.zs3))},Mt.\u0275prov=P.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})(),Vn=(()=>{class Mt{static disable(){return{ngModule:Mt,providers:[{provide:Jn,useClass:_t}]}}static withOptions($e={}){return{ngModule:Mt,providers:[$e.cookieName?{provide:Jt,useValue:$e.cookieName}:[],$e.headerName?{provide:En,useValue:$e.headerName}:[]]}}}return Mt.\u0275fac=function($e){return new($e||Mt)},Mt.\u0275mod=P.oAB({type:Mt}),Mt.\u0275inj=P.cJS({providers:[Jn,{provide:Lt,useExisting:Jn,multi:!0},{provide:nr,useClass:lr},{provide:Jt,useValue:"XSRF-TOKEN"},{provide:En,useValue:"X-XSRF-TOKEN"}]}),Mt})(),Zt=(()=>{class Mt{}return Mt.\u0275fac=function($e){return new($e||Mt)},Mt.\u0275mod=P.oAB({type:Mt}),Mt.\u0275inj=P.cJS({providers:[je,{provide:q,useClass:rr},tn,{provide:ee,useExisting:tn}],imports:[[Vn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Mt})()},9863:(un,ut,D)=>{"use strict";D.d(ut,{deG:()=>Vc,tb:()=>L0,AFp:()=>P0,ip1:()=>O0,CZH:()=>lv,hGG:()=>Xw,z2F:()=>mv,sBO:()=>kw,Sil:()=>gw,_Vd:()=>am,EJc:()=>fw,SBq:()=>up,qLn:()=>ec,vpe:()=>lu,tBr:()=>ra,XFs:()=>Zt,OlP:()=>In,zs3:()=>yo,ZZ4:()=>wv,aQg:()=>Iv,soG:()=>dv,YKP:()=>j_,h0i:()=>eh,PXZ:()=>Sw,R0b:()=>ba,FiY:()=>ia,Lbi:()=>F0,g9A:()=>k0,Qsj:()=>hb,FYo:()=>L_,JOm:()=>Uo,tp0:()=>zi,Rgc:()=>hp,dDg:()=>U0,q4F:()=>$_,GfV:()=>B_,s_b:()=>cm,ifc:()=>Gn,eFA:()=>G0,G48:()=>Nw,Gpc:()=>Ae,X6Q:()=>Pw,_c5:()=>Zw,VLi:()=>Cw,c2e:()=>B0,zSh:()=>Ef,wAp:()=>Or,vHH:()=>be,cg1:()=>Vy,kL8:()=>a_,dqk:()=>bn,sIi:()=>Ec,CqO:()=>Xf,QGY:()=>_a,F4k:()=>Zf,RDi:()=>wr,AaK:()=>re,qOj:()=>vc,TTD:()=>Jr,_Bn:()=>N_,xp6:()=>Lp,uIk:()=>Ol,Tol:()=>Zg,ekj:()=>Ea,Suo:()=>c0,Xpm:()=>Qe,lG2:()=>Zn,Yz7:()=>Ft,cJS:()=>tn,oAB:()=>wt,Yjl:()=>gn,Y36:()=>Fl,_UZ:()=>Tc,GkF:()=>Sc,BQk:()=>Ll,ynx:()=>qd,qZA:()=>Dc,TgZ:()=>iu,EpF:()=>Yf,n5z:()=>Vs,LFG:()=>Mi,$8M:()=>so,$Z:()=>Cc,NdJ:()=>Ac,CRH:()=>d0,oxw:()=>Bl,ALo:()=>Q_,lcZ:()=>e0,xi3:()=>t0,Hsn:()=>su,F$t:()=>Rc,Q6J:()=>Kf,DdM:()=>W_,VKq:()=>q_,iGM:()=>u0,MAs:()=>Uf,CHM:()=>ks,LSH:()=>vh,Akn:()=>bo,YNc:()=>Vf,W1O:()=>g0,_uU:()=>rp,Oqu:()=>i,hij:()=>e,AsE:()=>n,lnq:()=>o,Gf:()=>l0});var a=D(8929),P=D(2654),L=D(2916),Y=D(6787),he=D(2536),fe=D(4327);function se(){return new a.xQ}function ee(t){for(let r in t)if(t[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function W(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function we(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const oe=ee({__forward_ref__:ee});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return re(this())},t}function le(t){return J(t)?t():t}function J(t){return"function"==typeof t&&t.hasOwnProperty(oe)&&t.__forward_ref__===Ae}class be extends Error{constructor(r,s){super(function _e(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ie(t){return"string"==typeof t?t:null==t?"":String(t)}function ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ie(t)}function Ge(t,r){const s=r?` in ${r}`:"";throw new be(-201,`No provider for ${ke(t)} found${s}`)}function Se(t,r){null==t&&function ce(t,r,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,t,null,"!=")}function Ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jt(t){return En(t,rr)||En(t,Hn)}function En(t,r){return t.hasOwnProperty(r)?t[r]:null}function Jn(t){return t&&(t.hasOwnProperty(or)||t.hasOwnProperty(Vn))?t[or]:null}const rr=ee({\u0275prov:ee}),or=ee({\u0275inj:ee}),Hn=ee({ngInjectableDef:ee}),Vn=ee({ngInjectorDef:ee});var Zt=(()=>((Zt=Zt||{})[Zt.Default=0]="Default",Zt[Zt.Host=1]="Host",Zt[Zt.Self=2]="Self",Zt[Zt.SkipSelf=4]="SkipSelf",Zt[Zt.Optional=8]="Optional",Zt))();let cr;function Mt(t){const r=cr;return cr=t,r}function Ye(t,r,s){const u=Jt(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Zt.Optional?null:void 0!==r?r:void Ge(re(t),"Injector")}function Pt(t){return{toString:t}.toString()}var bt=(()=>((bt=bt||{})[bt.OnPush=0]="OnPush",bt[bt.Default=1]="Default",bt))(),Gn=(()=>{return(t=Gn||(Gn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Gn;var t})();const Wn="undefined"!=typeof globalThis&&globalThis,Qn="undefined"!=typeof window&&window,mr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=Wn||"undefined"!=typeof global&&global||Qn||mr,dn={},Nt=[],Dt=ee({\u0275cmp:ee}),fn=ee({\u0275dir:ee}),Tn=ee({\u0275pipe:ee}),Kn=ee({\u0275mod:ee}),$n=ee({\u0275fac:ee}),Ke=ee({__NG_ELEMENT_ID__:ee});let Be=0;function Qe(t){return Pt(()=>{const s={},u={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Gn.Emulated,id:"c",styles:t.styles||Nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,h=t.features,y=t.pipes;return u.id+=Be++,u.inputs=vn(t.inputs,s),u.outputs=vn(t.outputs),h&&h.forEach(I=>I(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(ye):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Me):null,u})}function ye(t){return zn(t)||function ir(t){return t[fn]||null}(t)}function Me(t){return function Tr(t){return t[Tn]||null}(t)}const Te={};function wt(t){return Pt(()=>{const r={type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Te[t.id]=t.type),r})}function vn(t,r){if(null==t)return dn;const s={};for(const u in t)if(t.hasOwnProperty(u)){let c=t[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=u,r&&(r[c]=h)}return s}const Zn=Qe;function gn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function zn(t){return t[Dt]||null}function Ht(t,r){const s=t[Kn]||null;if(!s&&!0===r)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return s}const N=16,V=18;function St(t){return Array.isArray(t)&&"object"==typeof t[1]}function yt(t){return Array.isArray(t)&&!0===t[1]}function $t(t){return 0!=(8&t.flags)}function wn(t){return 2==(2&t.flags)}function Pn(t){return 1==(1&t.flags)}function qn(t){return null!==t.template}function Sr(t){return 0!=(512&t[2])}function Ur(t,r){return t.hasOwnProperty($n)?t[$n]:null}class ji{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Jr(){return tt}function tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=at),We}function We(){const t=$(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===dn)t.previous=r;else for(let u in r)s[u]=r[u];t.current=null,this.ngOnChanges(r)}}function at(t,r,s,u){const c=$(t)||function F(t,r){return t[Bt]=r}(t,{previous:dn,current:null}),h=c.current||(c.current={}),y=c.previous,I=this.declaredInputs[s],M=y[I];h[I]=new ji(M&&M.currentValue,r,y===dn),t[u]=r}Jr.ngInherit=!0;const Bt="__ngSimpleChanges__";function $(t){return t[Bt]||null}let br;function wr(t){br=t}function d(t){return!!t.listen}const _={createRenderer:(t,r)=>function k(){return void 0!==br?br:"undefined"!=typeof document?document:void 0}()};function C(t){for(;Array.isArray(t);)t=t[0];return t}function nn(t,r){return C(r[t])}function hn(t,r){return C(r[t.index])}function jn(t,r){return t.data[r]}function Dr(t,r){return t[r]}function sr(t,r){const s=r[t];return St(s)?s:s[0]}function kr(t){return 4==(4&t[2])}function li(t){return 128==(128&t[2])}function ei(t,r){return null==r?null:t[r]}function wi(t){t[V]=0}function B(t,r){t[5]+=r;let s=t,u=t[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const x={lFrame:cu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ai(){return x.bindingsEnabled}function sn(){return x.lFrame.lView}function Pr(){return x.lFrame.tView}function ks(t){return x.lFrame.contextLView=t,t[8]}function ii(){let t=Do();for(;null!==t&&64===t.type;)t=t.parent;return t}function Do(){return x.lFrame.currentTNode}function cs(t,r){const s=x.lFrame;s.currentTNode=t,s.isParent=r}function Ks(){return x.lFrame.isParent}function Ys(){x.lFrame.isParent=!1}function te(){return x.isInCheckNoChangesMode}function rt(t){x.isInCheckNoChangesMode=t}function It(){const t=x.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function An(){return x.lFrame.bindingIndex}function xr(){return x.lFrame.bindingIndex++}function qr(t){const r=x.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function qo(t,r){const s=x.lFrame;s.bindingIndex=s.bindingRootIndex=t,Fs(r)}function Fs(t){x.lFrame.currentDirectiveIndex=t}function So(){return x.lFrame.currentQueryIndex}function Ko(t){x.lFrame.currentQueryIndex=t}function Xs(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Ia(t,r,s){if(s&Zt.SkipSelf){let c=r,h=t;for(;!(c=c.parent,null!==c||s&Zt.Host||(c=Xs(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,t=h}const u=x.lFrame=Ca();return u.currentTNode=r,u.lView=t,!0}function ro(t){const r=Ca(),s=t[1];x.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ca(){const t=x.lFrame,r=null===t?null:t.child;return null===r?cu(t):r}function cu(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ws(){const t=x.lFrame;return x.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Da=ws;function Ta(){const t=ws();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fi(){return x.lFrame.selectedIndex}function xi(t){x.lFrame.selectedIndex=t}function Ei(){const t=x.lFrame;return jn(t.tView,t.selectedIndex)}function Aa(t,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:H,ngOnDestroy:ie}=h;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),M&&(t.viewHooks||(t.viewHooks=[])).push(-s,M),H&&((t.viewHooks||(t.viewHooks=[])).push(s,H),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,H)),null!=ie&&(t.destroyHooks||(t.destroyHooks=[])).push(s,ie)}}function Ao(t,r,s){io(t,r,3,s)}function Ls(t,r,s,u){(3&t[2])===s&&io(t,r,s,u)}function Is(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function io(t,r,s,u){const h=null!=u?u:-1,y=r.length-1;let I=0;for(let M=void 0!==u?65535&t[V]:0;M<y;M++)if("number"==typeof r[M+1]){if(I=r[M],null!=u&&I>=u)break}else r[M]<0&&(t[V]+=65536),(I<h||-1==h)&&(Yo(t,s,r,M),t[V]=(4294901760&t[V])+M+2),M++}function Yo(t,r,s,u){const c=s[u]<0,h=s[u+1],I=t[c?-s[u]:s[u]];if(c){if(t[2]>>11<t[V]>>16&&(3&t[2])===r){t[2]+=2048;try{h.call(I)}finally{}}}else try{h.call(I)}finally{}}class bs{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Ir(t,r,s){const u=d(t);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const y=s[c++],I=s[c++],M=s[c++];u?t.setAttribute(r,I,M,y):r.setAttributeNS(y,I,M)}else{const y=h,I=s[++c];Mn(y)?u&&t.setProperty(r,y,I):u?t.setAttribute(r,y,I):r.setAttribute(y,I),c++}}return c}function qu(t){return 3===t||4===t||6===t}function Mn(t){return 64===t.charCodeAt(0)}function jt(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const c=r[u];"number"==typeof c?s=c:0===s||_n(t,s,c,null,-1===s||2===s?r[++u]:null)}}return t}function _n(t,r,s,u,c){let h=0,y=t.length;if(-1===r)y=-1;else for(;h<t.length;){const I=t[h++];if("number"==typeof I){if(I===r){y=-1;break}if(I>r){y=h-1;break}}}for(;h<t.length;){const I=t[h];if("number"==typeof I)break;if(I===s){if(null===u)return void(null!==c&&(t[h+1]=c));if(u===t[h+1])return void(t[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==y&&(t.splice(y,0,r),h=y+1),t.splice(h++,0,s),null!==u&&t.splice(h++,0,u),null!==c&&t.splice(h++,0,c)}function Ci(t){return-1!==t}function $s(t){return 32767&t}function xo(t,r){let s=function Hl(t){return t>>16}(t),u=r;for(;s>0;)u=u[15],s--;return u}let Mo=!0;function Ma(t){const r=Mo;return Mo=t,r}let Ku=0;function w(t,r){const s=O(t,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(t.injectorIndex=r.length,E(u.data,t),E(r,null),E(u.blueprint,null));const c=j(t,r),h=t.injectorIndex;if(Ci(c)){const y=$s(c),I=xo(c,r),M=I[1].data;for(let H=0;H<8;H++)r[h+H]=I[y+H]|M[y+H]}return r[h+8]=c,h}function E(t,r){t.push(0,0,0,0,0,0,0,0,r)}function O(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function j(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,c=r;for(;null!==c;){const h=c[1],y=h.type;if(u=2===y?h.declTNode:1===y?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function ge(t,r,s){!function S(t,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Ke)&&(u=s[Ke]),null==u&&(u=s[Ke]=Ku++);const c=255&u;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function Ze(t,r,s){if(s&Zt.Optional)return t;Ge(r,"NodeInjector")}function Xt(t,r,s,u){if(s&Zt.Optional&&void 0===u&&(u=null),0==(s&(Zt.Self|Zt.Host))){const c=t[9],h=Mt(void 0);try{return c?c.get(r,u,s&Zt.Optional):Ye(r,u,s&Zt.Optional)}finally{Mt(h)}}return Ze(u,r,s)}function er(t,r,s,u=Zt.Default,c){if(null!==t){const h=function gs(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ke)?t[Ke]:void 0;return"number"==typeof r?r>=0?255&r:yr:r}(s);if("function"==typeof h){if(!Ia(r,t,u))return u&Zt.Host?Ze(c,s,u):Xt(r,s,u,c);try{const y=h(u);if(null!=y||u&Zt.Optional)return y;Ge(s)}finally{Da()}}else if("number"==typeof h){let y=null,I=O(t,r),M=-1,H=u&Zt.Host?r[N][6]:null;for((-1===I||u&Zt.SkipSelf)&&(M=-1===I?j(t,r):r[I+8],-1!==M&&bi(u,!1)?(y=r[1],I=$s(M),r=xo(M,r)):I=-1);-1!==I;){const ie=r[1];if(Jo(h,I,ie.data)){const He=gr(I,r,s,y,u,H);if(He!==Vr)return He}M=r[I+8],-1!==M&&bi(u,r[1].data[I+8]===H)&&Jo(h,I,r)?(y=ie,I=$s(M),r=xo(M,r)):I=-1}}}return Xt(r,s,u,c)}const Vr={};function yr(){return new Cs(ii(),sn())}function gr(t,r,s,u,c,h){const y=r[1],I=y.data[t+8],ie=Hr(I,y,s,null==u?wn(I)&&Mo:u!=y&&0!=(3&I.type),c&Zt.Host&&h===I);return null!==ie?Gr(r,y,ie,I):Vr}function Hr(t,r,s,u,c){const h=t.providerIndexes,y=r.data,I=1048575&h,M=t.directiveStart,ie=h>>20,ft=c?I+ie:t.directiveEnd;for(let Ot=u?I:I+ie;Ot<ft;Ot++){const rn=y[Ot];if(Ot<M&&s===rn||Ot>=M&&rn.type===s)return Ot}if(c){const Ot=y[M];if(Ot&&qn(Ot)&&Ot.type===s)return M}return null}function Gr(t,r,s,u){let c=t[s];const h=r.data;if(function Bs(t){return t instanceof bs}(c)){const y=c;y.resolving&&function Ne(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${s}`)}(ke(h[s]));const I=Ma(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?Mt(y.injectImpl):null;Ia(t,u,Zt.Default);try{c=t[s]=y.factory(void 0,h,t,u),r.firstCreatePass&&s>=u.directiveStart&&function ss(t,r,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(u){const y=tt(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],r)}finally{null!==M&&Mt(M),Ma(I),y.resolving=!1,Da()}}return c}function Jo(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function bi(t,r){return!(t&Zt.Self||t&Zt.Host&&r)}class Cs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return er(this._tNode,this._lView,r,u,s)}}function Vs(t){return Pt(()=>{const r=t.prototype.constructor,s=r[$n]||di(r),u=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==u;){const h=c[$n]||di(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function di(t){return J(t)?()=>{const r=di(le(t));return r&&r()}:Ur(t)}function so(t){return function qe(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const h=s[c];if(qu(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(ii(),t)}const Qo="__parameters__";function Ts(t,r,s){return Pt(()=>{const u=function Us(t){return function(...s){if(t){const u=t(...s);for(const c in u)this[c]=u[c]}}}(r);function c(...h){if(this instanceof c)return u.apply(this,h),this;const y=new c(...h);return I.annotation=y,I;function I(M,H,ie){const He=M.hasOwnProperty(Qo)?M[Qo]:Object.defineProperty(M,Qo,{value:[]})[Qo];for(;He.length<=ie;)He.push(null);return(He[ie]=He[ie]||[]).push(y),M}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class In{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ft({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vc=new In("AnalyzeForEntryComponents");function hs(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let u=t[s];Array.isArray(u)?(r===t&&(r=t.slice(0,s)),hs(u,r)):r!==t&&r.push(u)}return r}function Bi(t,r){t.forEach(s=>Array.isArray(s)?Bi(s,r):r(s))}function gu(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function mu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Oa(t,r){const s=[];for(let u=0;u<t;u++)s.push(r);return s}function os(t,r,s){let u=ea(t,r);return u>=0?t[1|u]=s:(u=~u,function pi(t,r,s,u){let c=t.length;if(c==r)t.push(s,u);else if(1===c)t.push(u,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=u}}(t,u,r,s)),u}function uo(t,r){const s=ea(t,r);if(s>=0)return t[1|s]}function ea(t,r){return function As(t,r,s){let u=0,c=t.length>>s;for(;c!==u;){const h=u+(c-u>>1),y=t[h<<s];if(r===y)return h<<s;y>r?c=h:u=h+1}return~(c<<s)}(t,r,1)}const Pa={},Wl="__NG_DI_FLAG__",el="ngTempTokenPath",ah=/\n/gm,nl="__source",lh=ee({provide:String,useValue:ee});let xs;function lo(t){const r=xs;return xs=t,r}function ch(t,r=Zt.Default){if(void 0===xs)throw new be(203,"");return null===xs?Ye(t,void 0,r):xs.get(t,r&Zt.Optional?null:void 0,r)}function Mi(t,r=Zt.Default){return(function ar(){return cr}()||ch)(le(t),r)}const Gs=Mi;function vu(t){const r=[];for(let s=0;s<t.length;s++){const u=le(t[s]);if(Array.isArray(u)){if(0===u.length)throw new be(900,"");let c,h=Zt.Default;for(let y=0;y<u.length;y++){const I=u[y],M=rl(I);"number"==typeof M?-1===M?c=I.token:h|=M:c=I}r.push(Mi(c,h))}else r.push(Mi(u))}return r}function Ms(t,r){return t[Wl]=r,t.prototype[Wl]=r,t}function rl(t){return t[Wl]}const ra=Ms(Ts("Inject",t=>({token:t})),-1),ia=Ms(Ts("Optional"),8),zi=Ms(Ts("SkipSelf"),4);class ua{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ms(t){return t instanceof ua?t.changingThisBreaksApplicationSecurity:t}const Q=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wi=(()=>((Wi=Wi||{})[Wi.NONE=0]="NONE",Wi[Wi.HTML=1]="HTML",Wi[Wi.STYLE=2]="STYLE",Wi[Wi.SCRIPT=3]="SCRIPT",Wi[Wi.URL=4]="URL",Wi[Wi.RESOURCE_URL=5]="RESOURCE_URL",Wi))();function vh(t){const r=function dl(){const t=sn();return t&&t[12]}();return r?r.sanitize(Wi.URL,t)||"":function zs(t,r){const s=function Zl(t){return t instanceof ua&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?ms(t):function en(t){return(t=String(t)).match(Q)||t.match(kt)?t:"unsafe:"+t}(Ie(t))}const bp="__ngContext__";function qi(t,r){t[bp]=r}function bh(t){const r=function Au(t){return t[bp]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function sd(t){return t.ngOriginalError}function wm(t,...r){t.error(...r)}class ec{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),u=function as(t){return t&&t.ngErrorLogger||wm}(r);u(this._console,"ERROR",r),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&sd(r);for(;s&&sd(s);)s=sd(s);return s||null}}const Am=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function Vo(t){return t instanceof Function?t():t}var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();function Dh(t,r){return undefined(t,r)}function Yt(t){const r=t[3];return yt(r)?r[3]:r}function Sh(t){return Ba(t[13])}function xu(t){return Ba(t[4])}function Ba(t){for(;null!==t&&!yt(t);)t=t[4];return t}function to(t,r,s,u,c){if(null!=u){let h,y=!1;yt(u)?h=u:St(u)&&(y=!0,u=u[0]);const I=C(u);0===t&&null!==s?null==c?Ph(r,s,I):ca(r,s,I,c||null,!0):1===t&&null!==s?ca(r,s,I,c||null,!0):2===t?function Ua(t,r,s){const u=rc(t,r);u&&function Pp(t,r,s,u){d(t)?t.removeChild(r,s,u):r.removeChild(s)}(t,u,r,s)}(r,I,y):3===t&&r.destroyNode(I),null!=h&&function md(t,r,s,u,c){const h=s[7];h!==C(s)&&to(r,t,u,h,c);for(let I=10;I<s.length;I++){const M=s[I];sc(M[1],M,t,r,u,h)}}(r,t,h,s,c)}}function Ki(t,r,s){if(d(t))return t.createElement(r,s);{const u=null!==s?function hr(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===u?t.createElement(r):t.createElementNS(u,r)}}function Rh(t,r){const s=t[9],u=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,B(c,-1)),s.splice(u,1)}function gl(t,r){if(t.length<=10)return;const s=10+r,u=t[s];if(u){const c=u[17];null!==c&&c!==t&&Rh(c,u),r>0&&(t[s-1][4]=u[4]);const h=mu(t,10+r);!function Ah(t,r){sc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const y=h[19];null!==y&&y.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Va(t,r){if(!(256&r[2])){const s=r[11];d(s)&&s.destroyNode&&sc(t,r,s,3,null,null),function $a(t){let r=t[13];if(!r)return la(t[1],t);for(;r;){let s=null;if(St(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==t;)St(r)&&la(r[1],r),r=r[3];null===r&&(r=t),St(r)&&la(r[1],r),s=r&&r[4]}r=s}}(r)}}function la(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function nc(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const c=r[s[u]];if(!(c instanceof bs)){const h=s[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const I=c[h[y]],M=h[y+1];try{M.call(I)}finally{}}else try{h.call(c)}finally{}}}}(t,r),function ml(t,r){const s=t.cleanup,u=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],I="function"==typeof y?y(r):C(r[y]),M=u[c=s[h+2]],H=s[h+3];"boolean"==typeof H?I.removeEventListener(s[h],M,H):H>=0?u[c=H]():u[c=-H].unsubscribe(),h+=2}else{const y=u[c=s[h+1]];s[h].call(y)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();r[7]=null}}(t,r),1===r[1].type&&d(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&yt(r[3])){s!==r[3]&&Rh(s,r);const u=r[19];null!==u&&u.detachView(t)}}}function Oh(t,r,s){return function cd(t,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const c=t.data[u.directiveStart].encapsulation;if(c===Gn.None||c===Gn.Emulated)return null}return hn(u,s)}(t,r.parent,s)}function ca(t,r,s,u,c){d(t)?t.insertBefore(r,s,u,c):r.insertBefore(s,u,c)}function Ph(t,r,s){d(t)?t.appendChild(r,s):r.appendChild(s)}function Op(t,r,s,u,c){null!==u?ca(t,r,s,u,c):Ph(t,r,s)}function rc(t,r){return d(t)?t.parentNode(r):r.parentNode}function yl(t,r,s){return Np(t,r,s)}let Np=function Mu(t,r,s){return 40&t.type?hn(t,s):null};function hd(t,r,s,u){const c=Oh(t,u,r),h=r[11],I=yl(u.parent||r[6],u,r);if(null!=c)if(Array.isArray(s))for(let M=0;M<s.length;M++)Op(h,c,s[M],I,!1);else Op(h,c,s,I,!1)}function fd(t,r){if(null!==r){const s=r.type;if(3&s)return hn(r,t);if(4&s)return jo(-1,t[r.index]);if(8&s){const u=r.child;if(null!==u)return fd(t,u);{const c=t[r.index];return yt(c)?jo(-1,c):C(c)}}if(32&s)return Dh(r,t)()||C(t[r.index]);{const u=ic(t,r);return null!==u?Array.isArray(u)?u[0]:fd(Yt(t[N]),u):fd(t,r.next)}}return null}function ic(t,r){return null!==r?t[N][6].projection[r.projection]:null}function jo(t,r){const s=10+t+1;if(s<r.length){const u=r[s],c=u[1].firstChild;if(null!==c)return fd(u,c)}return r[7]}function pd(t,r,s,u,c,h,y){for(;null!=s;){const I=u[s.index],M=s.type;if(y&&0===r&&(I&&qi(C(I),u),s.flags|=4),64!=(64&s.flags))if(8&M)pd(t,r,s.child,u,c,h,!1),to(r,t,c,I,h);else if(32&M){const H=Dh(s,u);let ie;for(;ie=H();)to(r,t,c,ie,h);to(r,t,c,I,h)}else 16&M?gd(t,r,u,s,c,h):to(r,t,c,I,h);s=y?s.projectionNext:s.next}}function sc(t,r,s,u,c,h){pd(s,u,t.firstChild,r,c,h,!1)}function gd(t,r,s,u,c,h){const y=s[N],M=y[6].projection[u.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)to(r,t,c,M[H],h);else pd(t,r,M,y[3],c,h,!0)}function kh(t,r,s){d(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function Ru(t,r,s){d(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function oc(t,r,s){let u=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=r.length;if(c+h===u||t.charCodeAt(c+h)<=32)return c}s=c+1}}const Lh="ng-template";function Rs(t,r,s){let u=0;for(;u<t.length;){let c=t[u++];if(s&&"class"===c){if(c=t[u],-1!==oc(c.toLowerCase(),r,0))return!0}else if(1===c){for(;u<t.length&&"string"==typeof(c=t[u++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Bh(t){return 4===t.type&&t.value!==Lh}function yd(t,r,s){return r===(4!==t.type||s?t.value:Lh)}function $h(t,r,s){let u=4;const c=t.attrs||[],h=function Pu(t){for(let r=0;r<t.length;r++)if(qu(t[r]))return r;return t.length}(c);let y=!1;for(let I=0;I<r.length;I++){const M=r[I];if("number"!=typeof M){if(!y)if(4&u){if(u=2|1&u,""!==M&&!yd(t,M,s)||""===M&&1===r.length){if(no(u))return!1;y=!0}}else{const H=8&u?M:r[++I];if(8&u&&null!==t.attrs){if(!Rs(t.attrs,H,s)){if(no(u))return!1;y=!0}continue}const He=ja(8&u?"class":M,c,Bh(t),s);if(-1===He){if(no(u))return!1;y=!0;continue}if(""!==H){let ft;ft=He>h?"":c[He+1].toLowerCase();const Ot=8&u?ft:null;if(Ot&&-1!==oc(Ot,H,0)||2&u&&H!==ft){if(no(u))return!1;y=!0}}}}else{if(!y&&!no(u)&&!no(M))return!1;if(y&&no(M))continue;y=!1,u=M|1&u}}return no(u)||y}function no(t){return 0==(1&t)}function ja(t,r,s,u){if(null===r)return-1;let c=0;if(u||!s){let h=!1;for(;c<r.length;){const y=r[c];if(y===t)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function Fm(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,t)}function Ou(t,r,s=!1){for(let u=0;u<r.length;u++)if($h(t,r[u],s))return!0;return!1}function vl(t,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(t.length===u.length){for(let c=0;c<t.length;c++)if(t[c]!==u[c])continue e;return!0}}return!1}function Vh(t,r){return t?":not("+r.trim()+")":r}function Ha(t){let r=t[0],s=1,u=2,c="",h=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&u){const I=t[++s];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!no(y)&&(r+=Vh(h,c),c=""),u=y,h=h||!no(u);s++}return""!==c&&(r+=Vh(h,c)),r}const Lr={};function Lp(t){Bp(Pr(),sn(),Fi()+t,te())}function Bp(t,r,s,u){if(!u)if(3==(3&r[2])){const h=t.preOrderCheckHooks;null!==h&&Ao(r,h,s)}else{const h=t.preOrderHooks;null!==h&&Ls(r,h,0,s)}xi(s)}function vd(t,r){return t<<17|r<<2}function Os(t){return t>>17&32767}function Hh(t){return 2|t}function Ho(t){return(131068&t)>>2}function da(t,r){return-131069&t|r<<2}function _d(t){return 1|t}function bd(t,r){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],h=s[u+1];if(-1!==h){const y=t.data[h];Ko(c),y.contentQueries(2,r[h],h)}}}function qa(t,r,s,u,c,h,y,I,M,H){const ie=r.blueprint.slice();return ie[0]=c,ie[2]=140|u,wi(ie),ie[3]=ie[15]=t,ie[8]=s,ie[10]=y||t&&t[10],ie[11]=I||t&&t[11],ie[12]=M||t&&t[12]||null,ie[9]=H||t&&t[9]||null,ie[6]=h,ie[N]=2==r.type?t[N]:ie,ie}function Ka(t,r,s,u,c){let h=t.data[r];if(null===h)h=function cc(t,r,s,u,c){const h=Do(),y=Ks(),M=t.data[r]=function Km(t,r,s,u,c,h){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,u,c);return null===t.firstChild&&(t.firstChild=M),null!==h&&(y?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(t,r,s,u,c),function is(){return x.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=u,h.attrs=c;const y=function Es(){const t=x.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return cs(h,!0),h}function Ya(t,r,s,u){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(u),t.blueprint.push(u),t.data.push(null);return c}function Il(t,r,s){ro(r);try{const u=t.viewQuery;null!==u&&Ja(1,u,s);const c=t.template;null!==c&&Jp(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bd(t,r),t.staticViewQueries&&Ja(2,t.viewQuery,s);const h=t.components;null!==h&&function lc(t,r){for(let s=0;s<r.length;s++)ey(t,r[s])}(r,h)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{r[2]&=-5,Ta()}}function Cl(t,r,s,u){const c=r[2];if(256==(256&c))return;ro(r);const h=te();try{wi(r),function tr(t){return x.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Jp(t,r,s,2,u);const y=3==(3&c);if(!h)if(y){const H=t.preOrderCheckHooks;null!==H&&Ao(r,H,null)}else{const H=t.preOrderHooks;null!==H&&Ls(r,H,0,null),Is(r,0)}if(function ff(t){for(let r=Sh(t);null!==r;r=xu(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const c=s[u],h=c[3];0==(1024&c[2])&&B(h,1),c[2]|=1024}}}(r),function Jm(t){for(let r=Sh(t);null!==r;r=xu(r))for(let s=10;s<r.length;s++){const u=r[s],c=u[1];li(u)&&Cl(c,u,c.template,u[8])}}(r),null!==t.contentQueries&&bd(t,r),!h)if(y){const H=t.contentCheckHooks;null!==H&&Ao(r,H)}else{const H=t.contentHooks;null!==H&&Ls(r,H,1),Is(r,1)}!function Zp(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)xi(~c);else{const h=c,y=s[++u],I=s[++u];qo(y,h),I(2,r[h])}}}finally{xi(-1)}}(t,r);const I=t.components;null!==I&&function wd(t,r){for(let s=0;s<r.length;s++)Qm(t,r[s])}(r,I);const M=t.viewQuery;if(null!==M&&Ja(2,M,u),!h)if(y){const H=t.viewCheckHooks;null!==H&&Ao(r,H)}else{const H=t.viewHooks;null!==H&&Ls(r,H,2),Is(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,B(r[3],-1))}finally{Ta()}}function Xp(t,r,s,u){const c=r[10],h=!te(),y=kr(r);try{h&&!y&&c.begin&&c.begin(),y&&Il(t,r,u),Cl(t,r,s,u)}finally{h&&!y&&c.end&&c.end()}}function Jp(t,r,s,u,c){const h=Fi(),y=2&u;try{xi(-1),y&&r.length>20&&Bp(t,r,20,te()),s(u,c)}finally{xi(h)}}function Qp(t,r,s){if($t(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const y=t.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}function Qh(t,r,s){!ai()||(function uf(t,r,s,u){const c=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||w(s,r),qi(u,r);const y=s.initialInputs;for(let I=c;I<h;I++){const M=t.data[I],H=qn(M);H&&df(r,s,M);const ie=Gr(r,t,I,s);qi(ie,r),null!==y&&sg(0,I-c,ie,M,0,y),H&&(sr(s.index,r)[8]=ie)}}(t,r,s,hn(s,r)),128==(128&s.flags)&&function Zm(t,r,s){const u=s.directiveStart,c=s.directiveEnd,y=s.index,I=function Zs(){return x.lFrame.currentDirectiveIndex}();try{xi(y);for(let M=u;M<c;M++){const H=t.data[M],ie=r[M];Fs(M),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Td(H,ie)}}finally{xi(-1),Fs(I)}}(t,r,s))}function Id(t,r,s=hn){const u=r.localNames;if(null!==u){let c=r.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],I=-1===y?s(r,t):t[y];t[c++]=I}}}function dc(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Za(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Za(t,r,s,u,c,h,y,I,M,H){const ie=20+u,He=ie+c,ft=function ef(t,r){const s=[];for(let u=0;u<r;u++)s.push(u<t?null:Lr);return s}(ie,He),Ot="function"==typeof H?H():H;return ft[1]={type:t,blueprint:ft,template:s,queries:null,viewQuery:I,declTNode:r,data:ft.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:He,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:Ot,incompleteFirstPass:!1}}function tg(t,r,s,u){const c=ag(r);null===s?c.push(u):(c.push(s),t.firstCreatePass&&ug(t).push(u,c.length-1))}function ng(t,r,s){for(let u in t)if(t.hasOwnProperty(u)){const c=t[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,c):s[u]=[r,c]}return s}function Go(t,r,s,u){let c=!1;if(ai()){const h=function Xm(t,r,s){const u=t.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const y=u[h];Ou(s,y.selectors,!1)&&(c||(c=[]),ge(w(s,r),t,y.type),qn(y)?(Sd(t,s),c.unshift(y)):c.push(y))}return c}(t,r,s),y=null===u?null:{"":-1};if(null!==h){c=!0,cf(s,t.data.length,h.length);for(let ie=0;ie<h.length;ie++){const He=h[ie];He.providersResolver&&He.providersResolver(He)}let I=!1,M=!1,H=Ya(t,r,h.length,null);for(let ie=0;ie<h.length;ie++){const He=h[ie];s.mergedAttrs=jt(s.mergedAttrs,He.hostAttrs),Fu(t,s,r,H,He),lf(H,He,y),null!==He.contentQueries&&(s.flags|=8),(null!==He.hostBindings||null!==He.hostAttrs||0!==He.hostVars)&&(s.flags|=128);const ft=He.type.prototype;!I&&(ft.ngOnChanges||ft.ngOnInit||ft.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!M&&(ft.ngOnChanges||ft.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),M=!0),H++}!function hc(t,r){const u=r.directiveEnd,c=t.data,h=r.attrs,y=[];let I=null,M=null;for(let H=r.directiveStart;H<u;H++){const ie=c[H],He=ie.inputs,ft=null===h||Bh(r)?null:og(He,h);y.push(ft),I=ng(He,H,I),M=ng(ie.outputs,H,M)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=I,r.outputs=M}(t,s)}y&&function Ad(t,r,s){if(r){const u=t.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new be(-301,!1);u.push(r[c],h)}}}(s,u,y)}return s.mergedAttrs=jt(s.mergedAttrs,s.attrs),c}function af(t,r,s,u,c,h){const y=h.hostBindings;if(y){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const M=~r.index;(function Ym(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=M&&I.push(M),I.push(u,c,y)}}function Td(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Sd(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function lf(t,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=t;qn(r)&&(s[""]=t)}}function cf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Fu(t,r,s,u,c){t.data[u]=c;const h=c.factory||(c.factory=Ur(c.type)),y=new bs(h,qn(c),null);t.blueprint[u]=y,s[u]=y,af(t,r,0,u,Ya(t,s,c.hostVars,Lr),c)}function df(t,r,s){const u=hn(r,t),c=dc(s),h=t[10],y=pc(t,qa(t,c,null,s.onPush?64:16,u,r,h,h.createRenderer(u,s),null,null));t[r.index]=y}function zo(t,r,s,u,c,h){const y=hn(t,r);!function hf(t,r,s,u,c,h,y){if(null==h)d(t)?t.removeAttribute(r,c,s):r.removeAttribute(c);else{const I=null==y?Ie(h):y(h,u||"",c);d(t)?t.setAttribute(r,c,I,s):s?r.setAttributeNS(s,c,I):r.setAttribute(c,I)}}(r[11],y,h,t.value,s,u,c)}function sg(t,r,s,u,c,h){const y=h[r];if(null!==y){const I=u.setInput;for(let M=0;M<y.length;){const H=y[M++],ie=y[M++],He=y[M++];null!==I?u.setInput(s,He,H,ie):s[ie]=He}}}function og(t,r){let s=null,u=0;for(;u<r.length;){const c=r[u];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[u+1])),u+=2}else u+=2;else u+=4}return s}function xd(t,r,s,u){return new Array(t,!0,!1,r,null,0,u,s,null,null)}function Qm(t,r){const s=sr(r,t);if(li(s)){const u=s[1];80&s[2]?Cl(u,s,u.template,s[8]):s[5]>0&&fc(s)}}function fc(t){for(let u=Sh(t);null!==u;u=xu(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const y=h[1];Cl(y,h,y.template,h[8])}else h[5]>0&&fc(h)}const s=t[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=sr(s[u],t);li(c)&&c[5]>0&&fc(c)}}function ey(t,r){const s=sr(r,t),u=s[1];(function pf(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(u,s),Il(u,s,s[8])}function pc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function gc(t){for(;t;){t[2]|=64;const r=Yt(t);if(Sr(t)&&!r)return t;t=r}return null}function Xa(t,r,s){const u=r[10];u.begin&&u.begin();try{Cl(t,r,t.template,s)}catch(c){throw Rd(r,c),c}finally{u.end&&u.end()}}function ha(t){!function mc(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],u=bh(s),c=u[1];Xp(c,u,c.template,s)}}(t[8])}function Ja(t,r,s){Ko(0),r(t,s)}const Tl=(()=>Promise.resolve(null))();function ag(t){return t[7]||(t[7]=[])}function ug(t){return t.cleanup||(t.cleanup=[])}function Rd(t,r){const s=t[9],u=s?s.get(ec,null):null;u&&u.handleError(r)}function Od(t,r,s,u,c){for(let h=0;h<s.length;){const y=s[h++],I=s[h++],M=r[y],H=t.data[y];null!==H.setInput?H.setInput(M,c,u,I):M[I]=c}}function mo(t,r,s){const u=nn(r,t);!function ld(t,r,s){d(t)?t.setValue(r,s):r.textContent=s}(t[11],u,s)}function Pd(t,r,s){let u=s?t.styles:null,c=s?t.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const I=r[y];"number"==typeof I?h=I:1==h?c=we(c,I):2==h&&(u=we(u,I+": "+r[++y]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=c:t.classesWithoutHost=c}const vf=new In("INJECTOR",-1);class _f{get(r,s=Pa){if(s===Pa){const u=new Error(`NullInjectorError: No provider for ${re(r)}!`);throw u.name="NullInjectorError",u}return s}}const Ef=new In("Set Injector scope."),Sl={},cg={};let Nd;function bf(){return void 0===Nd&&(Nd=new _f),Nd}function dg(t,r=null,s=null,u){const c=hg(t,r,s,u);return c._resolveInjectorDefTypes(),c}function hg(t,r=null,s=null,u){return new ry(t,s,r||bf(),u)}class ry{constructor(r,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Bi(s,I=>this.processProvider(I,r,s)),Bi([r],I=>this.processInjectorType(I,[],h)),this.records.set(vf,Al(void 0,this));const y=this.records.get(Ef);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof r?null:re(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Pa,u=Zt.Default){this.assertNotDestroyed();const c=lo(this),h=Mt(void 0);try{if(!(u&Zt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const M=function Sf(t){return"function"==typeof t||"object"==typeof t&&t instanceof In}(r)&&Jt(r);I=M&&this.injectableDefInScope(M)?Al(wf(r),Sl):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(u&Zt.Self?bf():this.parent).get(r,s=u&Zt.Optional&&s===Pa?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[el]=y[el]||[]).unshift(re(r)),c)throw y;return function _u(t,r,s,u){const c=t[el];throw r[nl]&&c.unshift(r[nl]),t.message=function il(t,r,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=re(r);if(Array.isArray(r))c=r.map(re).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let I=r[y];h.push(y+":"+("string"==typeof I?JSON.stringify(I):re(I)))}c=`{${h.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${t.replace(ah,"\n  ")}`}("\n"+t.message,c,s,u),t.ngTokenPath=c,t[el]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{Mt(h),lo(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,c)=>r.push(re(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processInjectorType(r,s,u){if(!(r=le(r)))return!1;let c=Jn(r);const h=null==c&&r.ngModule||void 0,y=void 0===h?r:h,I=-1!==u.indexOf(y);if(void 0!==h&&(c=Jn(h)),null==c)return!1;if(null!=c.imports&&!I){let ie;u.push(y);try{Bi(c.imports,He=>{this.processInjectorType(He,s,u)&&(void 0===ie&&(ie=[]),ie.push(He))})}finally{}if(void 0!==ie)for(let He=0;He<ie.length;He++){const{ngModule:ft,providers:Ot}=ie[He];Bi(Ot,rn=>this.processProvider(rn,ft,Ot||Nt))}}this.injectorDefTypes.add(y);const M=Ur(y)||(()=>new y);this.records.set(y,Al(M,Sl));const H=c.providers;if(null!=H&&!I){const ie=r;Bi(H,He=>this.processProvider(He,ie,H))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,u){let c=Lu(r=le(r))?r:le(r&&r.provide);const h=function Cf(t,r,s){return Fd(t)?Al(void 0,t.useValue):Al(kd(t),Sl)}(r);if(Lu(r)||!0!==r.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=Al(void 0,Sl,!0),y.factory=()=>vu(y.multi),this.records.set(c,y)),c=r,y.multi.push(r)}this.records.set(c,h)}hydrate(r,s){return s.value===Sl&&(s.value=cg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function sy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=le(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function wf(t){const r=Jt(t),s=null!==r?r.factory:Ur(t);if(null!==s)return s;if(t instanceof In)throw new be(204,!1);if(t instanceof Function)return function If(t){const r=t.length;if(r>0)throw Oa(r,"?"),new be(204,!1);const s=function nr(t){const r=t&&(t[rr]||t[Hn]);if(r){const s=function lr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new be(204,!1)}function kd(t,r,s){let u;if(Lu(t)){const c=le(t);return Ur(c)||wf(c)}if(Fd(t))u=()=>le(t.useValue);else if(function Df(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...vu(t.deps||[]));else if(function iy(t){return!(!t||!t.useExisting)}(t))u=()=>Mi(le(t.useExisting));else{const c=le(t&&(t.useClass||t.provide));if(!function fg(t){return!!t.deps}(t))return Ur(c)||wf(c);u=()=>new c(...vu(t.deps))}return u}function Al(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Fd(t){return null!==t&&"object"==typeof t&&lh in t}function Lu(t){return"function"==typeof t}let yo=(()=>{class t{static create(s,u){var c;if(Array.isArray(s))return dg({name:""},u,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return dg({name:h},s.parent,s.providers,h)}}}return t.THROW_IF_NOT_FOUND=Pa,t.NULL=new _f,t.\u0275prov=Ft({token:t,providedIn:"any",factory:()=>Mi(vf)}),t.__NG_ELEMENT_ID__=-1,t})();function bg(t,r){Aa(bh(t)[1],ii())}function vc(t){let r=function wg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;r;){let c;if(qn(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new be(903,"");c=r.\u0275dir}if(c){if(s){u.push(c);const y=t;y.inputs=_c(t.inputs),y.declaredInputs=_c(t.declaredInputs),y.outputs=_c(t.outputs);const I=c.hostBindings;I&&uy(t,I);const M=c.viewQuery,H=c.contentQueries;if(M&&Pf(t,M),H&&Nf(t,H),W(t.inputs,c.inputs),W(t.declaredInputs,c.declaredInputs),W(t.outputs,c.outputs),qn(c)&&c.data.animation){const ie=t.data;ie.animation=(ie.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const I=h[y];I&&I.ngInherit&&I(t),I===vc&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ay(t){let r=0,s=null;for(let u=t.length-1;u>=0;u--){const c=t[u];c.hostVars=r+=c.hostVars,c.hostAttrs=jt(c.hostAttrs,s=jt(s,c.hostAttrs))}}(u)}function _c(t){return t===dn?{}:t===Nt?[]:t}function Pf(t,r){const s=t.viewQuery;t.viewQuery=s?(u,c)=>{r(u,c),s(u,c)}:r}function Nf(t,r){const s=t.contentQueries;t.contentQueries=s?(u,c,h)=>{r(u,c,h),s(u,c,h)}:r}function uy(t,r){const s=t.hostBindings;t.hostBindings=s?(u,c)=>{r(u,c),s(u,c)}:r}let Ml=null;function Bu(){if(!Ml){const t=bn.Symbol;if(t&&t.iterator)Ml=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Ml=u)}}}return Ml}function Ec(t){return!!kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Bu()in t)}function kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,r,s){return t[r]=s}function fs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function pa(t,r,s,u){const c=fs(t,r,s);return fs(t,r+1,u)||c}function Ol(t,r,s,u){const c=sn();return fs(c,xr(),r)&&(Pr(),zo(Ei(),c,t,r,s,u)),Ol}function Uu(t,r,s,u,c,h,y,I){const H=function Rl(t,r,s,u,c){const h=pa(t,r,s,u);return fs(t,r+2,c)||h}(t,An(),s,c,y);return qr(3),H?r+Ie(s)+u+Ie(c)+h+Ie(y)+I:Lr}function Vf(t,r,s,u,c,h,y,I){const M=sn(),H=Pr(),ie=t+20,He=H.firstCreatePass?function $f(t,r,s,u,c,h,y,I,M){const H=r.consts,ie=Ka(r,t,4,y||null,ei(H,I));Go(r,s,ie,ei(H,M)),Aa(r,ie);const He=ie.tViews=Za(2,ie,u,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H);return null!==r.queries&&(r.queries.template(r,ie),He.queries=r.queries.embeddedTView(ie)),ie}(ie,H,M,r,s,u,c,h,y):H.data[ie];cs(He,!1);const ft=M[11].createComment("");hd(H,M,ft,He),qi(ft,M),pc(M,M[ie]=xd(ft,M,ft,He)),Pn(He)&&Qh(H,M,He),null!=y&&Id(M,He,I)}function Uf(t){return Dr(function me(){return x.lFrame.contextLView}(),20+t)}function Fl(t,r=Zt.Default){const s=sn();return null===s?Mi(t,r):er(ii(),s,le(t),r)}function Cc(){throw new Error("invalid")}function Kf(t,r,s){const u=sn();return fs(u,xr(),r)&&function us(t,r,s,u,c,h,y,I){const M=hn(r,s);let ie,H=r.inputs;!I&&null!=H&&(ie=H[u])?(Od(t,s,ie,u,c),wn(r)&&function rf(t,r){const s=sr(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(u=function nf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),c=null!=y?y(c,r.value||"",u):c,d(h)?h.setProperty(M,u,c):Mn(u)||(M.setProperty?M.setProperty(u,c):M[u]=c))}(Pr(),Ei(),u,t,r,u[11],s,!1),Kf}function va(t,r,s,u,c){const y=c?"class":"style";Od(t,s,r.inputs[y],y,u)}function iu(t,r,s,u){const c=sn(),h=Pr(),y=20+t,I=c[11],M=c[y]=Ki(I,r,function hu(){return x.lFrame.currentNamespace}()),H=h.firstCreatePass?function Wd(t,r,s,u,c,h,y){const I=r.consts,H=Ka(r,t,2,c,ei(I,h));return Go(r,s,H,ei(I,y)),null!==H.attrs&&Pd(H,H.attrs,!1),null!==H.mergedAttrs&&Pd(H,H.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,H),H}(y,h,c,0,r,s,u):h.data[y];cs(H,!0);const ie=H.mergedAttrs;null!==ie&&Ir(I,M,ie);const He=H.classes;null!==He&&Ru(I,M,He);const ft=H.styles;return null!==ft&&kh(I,M,ft),64!=(64&H.flags)&&hd(h,c,M,H),0===function pe(){return x.lFrame.elementDepthCount}()&&qi(M,c),function Wt(){x.lFrame.elementDepthCount++}(),Pn(H)&&(Qh(h,c,H),Qp(h,H,c)),null!==u&&Id(c,H),iu}function Dc(){let t=ii();Ks()?Ys():(t=t.parent,cs(t,!1));const r=t;!function Xn(){x.lFrame.elementDepthCount--}();const s=Pr();return s.firstCreatePass&&(Aa(s,t),$t(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Li(t){return 0!=(16&t.flags)}(r)&&va(s,r,sn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ds(t){return 0!=(32&t.flags)}(r)&&va(s,r,sn(),r.stylesWithoutHost,!1),Dc}function Tc(t,r,s,u){return iu(t,r,s,u),Dc(),Tc}function qd(t,r,s){const u=sn(),c=Pr(),h=t+20,y=c.firstCreatePass?function Dy(t,r,s,u,c){const h=r.consts,y=ei(h,u),I=Ka(r,t,8,"ng-container",y);return null!==y&&Pd(I,y,!0),Go(r,s,I,ei(h,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(h,c,u,r,s):c.data[h];cs(y,!0);const I=u[h]=u[11].createComment("");return hd(c,u,I,y),qi(I,u),Pn(y)&&(Qh(c,u,y),Qp(c,y,u)),null!=s&&Id(u,y),qd}function Ll(){let t=ii();const r=Pr();return Ks()?Ys():(t=t.parent,cs(t,!1)),r.firstCreatePass&&(Aa(r,t),$t(t)&&r.queries.elementEnd(t)),Ll}function Sc(t,r,s){return qd(t,r,s),Ll(),Sc}function Yf(){return sn()}function _a(t){return!!t&&"function"==typeof t.then}function Zf(t){return!!t&&"function"==typeof t.subscribe}const Xf=Zf;function Ac(t,r,s,u){const c=sn(),h=Pr(),y=ii();return function xc(t,r,s,u,c,h,y,I){const M=Pn(u),ie=t.firstCreatePass&&ug(t),He=r[8],ft=ag(r);let Ot=!0;if(3&u.type||I){const Yn=hn(u,r),_r=I?I(Yn):Yn,pn=ft.length,Ar=I?Zr=>I(C(Zr[u.index])):u.index;if(d(s)){let Zr=null;if(!I&&M&&(Zr=function Ty(t,r,s,u){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===u){const I=r[7],M=c[h+2];return I.length>M?I[M]:null}"string"==typeof y&&(h+=2)}return null}(t,r,c,u.index)),null!==Zr)(Zr.__ngLastListenerFn__||Zr).__ngNextListenerFn__=h,Zr.__ngLastListenerFn__=h,Ot=!1;else{h=Yd(u,r,He,h,!1);const gi=s.listen(_r,c,h);ft.push(h,gi),ie&&ie.push(c,Ar,pn,pn+1)}}else h=Yd(u,r,He,h,!0),_r.addEventListener(c,h,y),ft.push(h),ie&&ie.push(c,Ar,pn,y)}else h=Yd(u,r,He,h,!1);const rn=u.outputs;let Bn;if(Ot&&null!==rn&&(Bn=rn[c])){const Yn=Bn.length;if(Yn)for(let _r=0;_r<Yn;_r+=2){const Co=r[Bn[_r]][Bn[_r+1]].subscribe(h),Lc=ft.length;ft.push(h,Co),ie&&ie.push(c,u.index,Lc,-(Lc+1))}}}(h,c,c[11],y,t,r,!!s,u),Ac}function Mc(t,r,s,u){try{return!1!==s(u)}catch(c){return Rd(t,c),!1}}function Yd(t,r,s,u,c){return function h(y){if(y===Function)return u;const I=2&t.flags?sr(t.index,r):r;0==(32&r[2])&&gc(I);let M=Mc(r,0,u,y),H=h.__ngNextListenerFn__;for(;H;)M=Mc(r,0,H,y)&&M,H=H.__ngNextListenerFn__;return c&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function Bl(t=1){return function Ul(t){return(x.lFrame.contextLView=function Sa(t,r){for(;t>0;)r=r[15],t--;return r}(t,x.lFrame.contextLView))[8]}(t)}function Sy(t,r){let s=null;const u=function Fp(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===u?Ou(t,h,!0):vl(u,h))return c}else s=c}return s}function Rc(t){const r=sn()[N][6];if(!r.projection){const u=r.projection=Oa(t?t.length:1,null),c=u.slice();let h=r.child;for(;null!==h;){const y=t?Sy(h,t):0;null!==y&&(c[y]?c[y].projectionNext=h:u[y]=h,c[y]=h),h=h.next}}}function su(t,r=0,s){const u=sn(),c=Pr(),h=Ka(c,20+t,16,null,s||null);null===h.projection&&(h.projection=r),Ys(),64!=(64&h.flags)&&function Nm(t,r,s){gd(r[11],0,r,s,Oh(t,s,r),yl(s.parent||r[6],s,r))}(c,u,h)}function Gg(t,r,s,u,c){const h=t[s+1],y=null===r;let I=u?Os(h):Ho(h),M=!1;for(;0!==I&&(!1===M||y);){const ie=t[I+1];xy(t[I],r)&&(M=!0,t[I+1]=u?_d(ie):Hh(ie)),I=u?Os(ie):Ho(ie)}M&&(t[s+1]=u?Hh(h):_d(h))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ea(t,r)>=0}const Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zg(t){return t.substring(Zi.key,Zi.keyEnd)}function My(t){return t.substring(Zi.value,Zi.valueEnd)}function qg(t,r){const s=Zi.textEnd;return s===r?-1:(r=Zi.keyEnd=function Kg(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Zi.key=r,s),Hu(t,r,s))}function Qf(t,r){const s=Zi.textEnd;let u=Zi.key=Hu(t,r,s);return s===u?-1:(u=Zi.keyEnd=function tp(t,r,s){let u;for(;r<s&&(45===(u=t.charCodeAt(r))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)r++;return r}(t,u,s),u=Oc(t,u,s),u=Zi.value=Hu(t,u,s),u=Zi.valueEnd=function Oy(t,r,s){let u=-1,c=-1,h=-1,y=r,I=y;for(;y<s;){const M=t.charCodeAt(y++);if(59===M)return I;34===M||39===M?I=y=np(t,M,y,s):r===y-4&&85===h&&82===c&&76===u&&40===M?I=y=np(t,41,y,s):M>32&&(I=y),h=c,c=u,u=-33&M}return I}(t,u,s),Oc(t,u,s))}function ep(t){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=t.length}function Hu(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Oc(t,r,s,u){return(r=Hu(t,r,s))<s&&r++,r}function np(t,r,s,u){let c=-1,h=s;for(;h<u;){const y=t.charCodeAt(h++);if(y==r&&92!==c)return h;c=92==y&&92===c?0:y}throw new Error}function Ea(t,r){return function wo(t,r,s,u){const c=sn(),h=Pr(),y=qr(2);h.firstUpdatePass&&Jg(h,t,y,u),r!==Lr&&fs(c,y,r)&&em(h,h.data[Fi()],c,c[11],t,c[y+1]=function Zv(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=re(ms(t)))),t}(r,s),u,y)}(t,r,null,!0),Ea}function bo(t){Io(Qg,Py,t,!1)}function Py(t,r){for(let s=function Ry(t){return ep(t),Qf(t,Hu(t,0,Zi.textEnd))}(r);s>=0;s=Qf(r,s))Qg(t,zg(r),My(r))}function Zg(t){Io(os,Wo,t,!0)}function Wo(t,r){for(let s=function Wg(t){return ep(t),qg(t,Hu(t,0,Zi.textEnd))}(r);s>=0;s=qg(r,s))os(t,zg(r),!0)}function Io(t,r,s,u){const c=Pr(),h=qr(2);c.firstUpdatePass&&Jg(c,null,h,u);const y=sn();if(s!==Lr&&fs(y,h,s)){const I=c.data[Fi()];if($y(I,u)&&!Xg(c,h)){let M=u?I.classesWithoutHost:I.stylesWithoutHost;null!==M&&(s=we(M,s||"")),va(c,I,y,s,u)}else!function By(t,r,s,u,c,h,y,I){c===Lr&&(c=Nt);let M=0,H=0,ie=0<c.length?c[0]:null,He=0<h.length?h[0]:null;for(;null!==ie||null!==He;){const ft=M<c.length?c[M+1]:void 0,Ot=H<h.length?h[H+1]:void 0;let Bn,rn=null;ie===He?(M+=2,H+=2,ft!==Ot&&(rn=He,Bn=Ot)):null===He||null!==ie&&ie<He?(M+=2,rn=ie):(H+=2,rn=He,Bn=Ot),null!==rn&&em(t,r,s,u,rn,Bn,y,I),ie=M<c.length?c[M]:null,He=H<h.length?h[H]:null}}(c,I,y,y[11],y[h+1],y[h+1]=function Ly(t,r,s){if(null==s||""===s)return Nt;const u=[],c=ms(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(u,h,c[h]);else"string"==typeof c&&r(u,c);return u}(t,r,s),u,h)}}function Xg(t,r){return r>=t.expandoStartIndex}function Jg(t,r,s,u){const c=t.data;if(null===c[s+1]){const h=c[Fi()],y=Xg(t,s);$y(h,u)&&null===r&&!y&&(r=!1),r=function Ny(t,r,s,u){const c=function To(t){const r=x.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let h=u?r.residualClasses:r.residualStyles;if(null===c)0===(u?r.classBindings:r.styleBindings)&&(s=Nc(s=Pc(null,t,r,s,u),r.attrs,u),h=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==c)if(s=Pc(c,t,r,s,u),null===h){let M=function ky(t,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==Ho(u))return t[Os(u)]}(t,r,u);void 0!==M&&Array.isArray(M)&&(M=Pc(null,t,r,M[1],u),M=Nc(M,r.attrs,u),function Fy(t,r,s,u){t[Os(s?r.classBindings:r.styleBindings)]=u}(t,r,u,M))}else h=function Vl(t,r,s){let u;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)u=Nc(u,t[h].hostAttrs,s);return Nc(u,r.attrs,s)}(t,r,u)}return void 0!==h&&(u?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,u),function Ay(t,r,s,u,c,h){let y=h?r.classBindings:r.styleBindings,I=Os(y),M=Ho(y);t[u]=s;let ie,H=!1;if(Array.isArray(s)){const He=s;ie=He[1],(null===ie||ea(He,ie)>0)&&(H=!0)}else ie=s;if(c)if(0!==M){const ft=Os(t[I+1]);t[u+1]=vd(ft,I),0!==ft&&(t[ft+1]=da(t[ft+1],u)),t[I+1]=function Lm(t,r){return 131071&t|r<<17}(t[I+1],u)}else t[u+1]=vd(I,0),0!==I&&(t[I+1]=da(t[I+1],u)),I=u;else t[u+1]=vd(M,0),0===I?I=u:t[M+1]=da(t[M+1],u),M=u;H&&(t[u+1]=Hh(t[u+1])),Gg(t,ie,u,!0),Gg(t,ie,u,!1),function Hg(t,r,s,u,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&ea(h,r)>=0&&(s[u+1]=_d(s[u+1]))}(r,ie,t,u,h),y=vd(I,M),h?r.classBindings=y:r.styleBindings=y}(c,h,r,s,y,u)}}function Pc(t,r,s,u,c){let h=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(h=r[I],u=Nc(u,h.hostAttrs,c),h!==t);)I++;return null!==t&&(s.directiveStylingLast=I),u}function Nc(t,r,s){const u=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?c=y:c===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),os(t,y,!!s||r[++h]))}return void 0===t?null:t}function Qg(t,r,s){os(t,r,ms(s))}function em(t,r,s,u,c,h,y,I){if(!(3&r.type))return;const M=t.data,H=M[I+1];Zd(function _l(t){return 1==(1&t)}(H)?tm(M,r,s,c,Ho(H),y):void 0)||(Zd(h)||function jh(t){return 2==(2&t)}(H)&&(h=tm(M,null,s,c,I,y)),function km(t,r,s,u,c){const h=d(t);if(r)c?h?t.addClass(s,u):s.classList.add(u):h?t.removeClass(s,u):s.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Uo.DashCase;if(null==c)h?t.removeStyle(s,u,y):s.style.removeProperty(u);else{const I="string"==typeof c&&c.endsWith("!important");I&&(c=c.slice(0,-10),y|=Uo.Important),h?t.setStyle(s,u,c,y):s.style.setProperty(u,c,I?"important":"")}}}(u,y,nn(Fi(),s),c,h))}function tm(t,r,s,u,c,h){const y=null===r;let I;for(;c>0;){const M=t[c],H=Array.isArray(M),ie=H?M[1]:M,He=null===ie;let ft=s[c+1];ft===Lr&&(ft=He?Nt:void 0);let Ot=He?uo(ft,u):ie===u?ft:void 0;if(H&&!Zd(Ot)&&(Ot=uo(M,u)),Zd(Ot)&&(I=Ot,y))return I;const rn=t[c+1];c=y?Os(rn):Ho(rn)}if(null!==r){let M=h?r.residualClasses:r.residualStyles;null!=M&&(I=uo(M,u))}return I}function Zd(t){return void 0!==t}function $y(t,r){return 0!=(t.flags&(r?16:32))}function rp(t,r=""){const s=sn(),u=Pr(),c=t+20,h=u.firstCreatePass?Ka(u,c,1,r,null):u.data[c],y=s[c]=function ud(t,r){return d(t)?t.createText(r):t.createTextNode(r)}(s[11],r);hd(u,s,y,h),cs(h,!1)}function i(t){return e("",t,""),i}function e(t,r,s){const u=sn(),c=function Vu(t,r,s,u){return fs(t,xr(),s)?r+Ie(s)+u:Lr}(u,t,r,s);return c!==Lr&&mo(u,Fi(),c),e}function n(t,r,s,u,c){const h=sn(),y=function eu(t,r,s,u,c,h){const I=pa(t,An(),s,c);return qr(2),I?r+Ie(s)+u+Ie(c)+h:Lr}(h,t,r,s,u,c);return y!==Lr&&mo(h,Fi(),y),n}function o(t,r,s,u,c,h,y){const I=sn(),M=Uu(I,t,r,s,u,c,h,y);return M!==Lr&&mo(I,Fi(),M),o}const kc=void 0;var aE=["en",[["a","p"],["AM","PM"],kc],[["AM","PM"],kc,kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kc,"{1} 'at' {0}",kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oE(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Xd={};function Vy(t){const r=function uE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=u_(r);if(s)return s;const u=r.split("-")[0];if(s=u_(u),s)return s;if("en"===u)return aE;throw new Error(`Missing locale data for the locale "${t}".`)}function a_(t){return Vy(t)[Or.PluralCase]}function u_(t){return t in Xd||(Xd[t]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[t]),Xd[t]}var Or=(()=>((Or=Or||{})[Or.LocaleId=0]="LocaleId",Or[Or.DayPeriodsFormat=1]="DayPeriodsFormat",Or[Or.DayPeriodsStandalone=2]="DayPeriodsStandalone",Or[Or.DaysFormat=3]="DaysFormat",Or[Or.DaysStandalone=4]="DaysStandalone",Or[Or.MonthsFormat=5]="MonthsFormat",Or[Or.MonthsStandalone=6]="MonthsStandalone",Or[Or.Eras=7]="Eras",Or[Or.FirstDayOfWeek=8]="FirstDayOfWeek",Or[Or.WeekendRange=9]="WeekendRange",Or[Or.DateFormat=10]="DateFormat",Or[Or.TimeFormat=11]="TimeFormat",Or[Or.DateTimeFormat=12]="DateTimeFormat",Or[Or.NumberSymbols=13]="NumberSymbols",Or[Or.NumberFormats=14]="NumberFormats",Or[Or.CurrencyCode=15]="CurrencyCode",Or[Or.CurrencySymbol=16]="CurrencySymbol",Or[Or.CurrencyName=17]="CurrencyName",Or[Or.Currencies=18]="Currencies",Or[Or.Directionality=19]="Directionality",Or[Or.PluralCase=20]="PluralCase",Or[Or.ExtraData=21]="ExtraData",Or))();const nm="en-US";let l_=nm;function Hy(t,r,s,u,c){if(t=le(t),Array.isArray(t))for(let h=0;h<t.length;h++)Hy(t[h],r,s,u,c);else{const h=Pr(),y=sn();let I=Lu(t)?t:le(t.provide),M=kd(t);const H=ii(),ie=1048575&H.providerIndexes,He=H.directiveStart,ft=H.providerIndexes>>20;if(Lu(t)||!t.multi){const Ot=new bs(M,c,Fl),rn=zy(I,r,c?ie:ie+ft,He);-1===rn?(ge(w(H,y),h,I),Gy(h,t,r.length),r.push(I),H.directiveStart++,H.directiveEnd++,c&&(H.providerIndexes+=1048576),s.push(Ot),y.push(Ot)):(s[rn]=Ot,y[rn]=Ot)}else{const Ot=zy(I,r,ie+ft,He),rn=zy(I,r,ie,ie+ft),Bn=Ot>=0&&s[Ot],Yn=rn>=0&&s[rn];if(c&&!Yn||!c&&!Bn){ge(w(H,y),h,I);const _r=function ob(t,r,s,u,c){const h=new bs(t,s,Fl);return h.multi=[],h.index=r,h.componentProviders=0,P_(h,c,u&&!s),h}(c?sb:ib,s.length,c,u,M);!c&&Yn&&(s[rn].providerFactory=_r),Gy(h,t,r.length,0),r.push(I),H.directiveStart++,H.directiveEnd++,c&&(H.providerIndexes+=1048576),s.push(_r),y.push(_r)}else Gy(h,t,Ot>-1?Ot:rn,P_(s[c?rn:Ot],M,!c&&u));!c&&u&&Yn&&s[rn].componentProviders++}}}function Gy(t,r,s,u){const c=Lu(r),h=function Tf(t){return!!t.useClass}(r);if(c||h){const M=(h?le(r.useClass):r).prototype.ngOnDestroy;if(M){const H=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const ie=H.indexOf(s);-1===ie?H.push(s,[u,M]):H[ie+1].push(u,M)}else H.push(s,M)}}}function P_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function zy(t,r,s,u){for(let c=s;c<u;c++)if(r[c]===t)return c;return-1}function ib(t,r,s,u){return Wy(this.multi,[])}function sb(t,r,s,u){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Gr(s,s[1],this.providerFactory.index,u);h=I.slice(0,y),Wy(c,h);for(let M=y;M<I.length;M++)h.push(I[M])}else h=[],Wy(c,h);return h}function Wy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function N_(t,r=[]){return s=>{s.providersResolver=(u,c)=>function rb(t,r,s){const u=Pr();if(u.firstCreatePass){const c=qn(t);Hy(s,u.data,u.blueprint,c,!0),Hy(r,u.data,u.blueprint,c,!1)}}(u,c?c(t):t,r)}}class k_{}class lb{resolveComponentFactory(r){throw function ub(t){const r=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let am=(()=>{class t{}return t.NULL=new lb,t})();function cb(){return Qd(ii(),sn())}function Qd(t,r){return new up(hn(t,r))}let up=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=cb,t})();function db(t){return t instanceof up?t.nativeElement:t}class L_{}let hb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function pb(){const t=sn(),s=sr(ii().index,t);return function fb(t){return t[11]}(St(s)?s:t)}(),t})(),gb=(()=>{class t{}return t.\u0275prov=Ft({token:t,providedIn:"root",factory:()=>null}),t})();class B_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const $_=new B_("13.2.7"),qy={};function um(t,r,s,u,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&u.push(C(h)),yt(h))for(let I=10;I<h.length;I++){const M=h[I],H=M[1].firstChild;null!==H&&um(M[1],M,H,u)}const y=s.type;if(8&y)um(t,r,s.child,u);else if(32&y){const I=Dh(s,r);let M;for(;M=I();)u.push(M)}else if(16&y){const I=ic(r,s);if(Array.isArray(I))u.push(...I);else{const M=Yt(r[N]);um(M[1],M,I,u,!0)}}s=c?s.projectionNext:s.next}return u}class lp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return um(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(yt(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(gl(r,u),mu(s,u))}this._attachedToViewContainer=!1}Va(this._lView[1],this._lView)}onDestroy(r){tg(this._lView[1],this._lView,null,r)}markForCheck(){gc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xa(this._lView[1],this._lView,this.context)}checkNoChanges(){!function mf(t,r,s){rt(!0);try{Xa(t,r,s)}finally{rt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mh(t,r){sc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new be(902,"");this._appRef=r}}class mb extends lp{constructor(r){super(r),this._view=r}detectChanges(){ha(this._view)}checkNoChanges(){!function Dl(t){rt(!0);try{ha(t)}finally{rt(!1)}}(this._view)}get context(){return null}}class V_ extends am{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=zn(r);return new Ky(s,this.ngModule)}}function U_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ky extends k_{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Nu(t){return t.map(Ha).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return U_(this.componentDef.inputs)}get outputs(){return U_(this.componentDef.outputs)}create(r,s,u,c){const h=(c=c||this.ngModule)?function vb(t,r){return{get:(s,u,c)=>{const h=t.get(s,qy,c);return h!==qy||u===qy?h:r.get(s,u,c)}}}(r,c.injector):r,y=h.get(L_,_),I=h.get(gb,null),M=y.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ie=u?function eg(t,r,s){if(d(t))return t.selectRootElement(r,s===Gn.ShadowDom);let u="string"==typeof r?t.querySelector(r):r;return u.textContent="",u}(M,u,this.componentDef.encapsulation):Ki(y.createRenderer(null,this.componentDef),H,function yb(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(H)),He=this.componentDef.onPush?576:528,ft=function Hd(t,r){return{components:[],scheduler:t||Am,clean:Tl,playerHandler:r||null,flags:0}}(),Ot=Za(0,null,null,1,0,null,null,null,null,null),rn=qa(null,Ot,ft,He,null,null,y,M,I,h);let Bn,Yn;ro(rn);try{const _r=function jd(t,r,s,u,c,h){const y=s[1];s[20]=t;const M=Ka(y,20,2,"#host",null),H=M.mergedAttrs=r.hostAttrs;null!==H&&(Pd(M,H,!0),null!==t&&(Ir(c,t,H),null!==M.classes&&Ru(c,t,M.classes),null!==M.styles&&kh(c,t,M.styles)));const ie=u.createRenderer(t,r),He=qa(s,dc(r),null,r.onPush?64:16,s[20],M,u,ie,h||null,null);return y.firstCreatePass&&(ge(w(M,s),y,r.type),Sd(y,M),cf(M,s.length,1)),pc(s,He),s[20]=He}(ie,this.componentDef,rn,y,M);if(ie)if(u)Ir(M,ie,["ng-version",$_.full]);else{const{attrs:pn,classes:Ar}=function Uh(t){const r=[],s=[];let u=1,c=2;for(;u<t.length;){let h=t[u];if("string"==typeof h)2===c?""!==h&&r.push(h,t[++u]):8===c&&s.push(h);else{if(!no(c))break;c=h}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);pn&&Ir(M,ie,pn),Ar&&Ar.length>0&&Ru(M,ie,Ar.join(" "))}if(Yn=jn(Ot,20),void 0!==s){const pn=Yn.projection=[];for(let Ar=0;Ar<this.ngContentSelectors.length;Ar++){const Zr=s[Ar];pn.push(null!=Zr?Array.from(Zr):null)}}Bn=function Of(t,r,s,u,c){const h=s[1],y=function of(t,r,s){const u=ii();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Fu(t,u,r,Ya(t,r,1,null),s));const c=Gr(r,t,u.directiveStart,u);qi(c,r);const h=hn(u,r);return h&&qi(h,r),c}(h,s,r);if(u.components.push(y),t[8]=y,c&&c.forEach(M=>M(y,r)),r.contentQueries){const M=ii();r.contentQueries(1,y,M.directiveStart)}const I=ii();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(xi(I.index),af(s[1],I,0,I.directiveStart,I.directiveEnd,r),Td(r,y)),y}(_r,this.componentDef,rn,ft,[bg]),Il(Ot,rn,null)}finally{Ta()}return new Eb(this.componentType,Bn,Qd(Yn,rn),rn,Yn)}}class Eb extends class ab{}{constructor(r,s,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new mb(c),this.componentType=r}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class eh{}class j_{}const th=new Map;class z_ extends eh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new V_(this);const u=Ht(r);this._bootstrapComponents=Vo(u.bootstrap),this._r3Injector=hg(r,s,[{provide:eh,useValue:this},{provide:am,useValue:this.componentFactoryResolver}],re(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=yo.THROW_IF_NOT_FOUND,u=Zt.Default){return r===yo||r===eh||r===vf?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Yy extends j_{constructor(r){super(),this.moduleType=r,null!==Ht(r)&&function wb(t){const r=new Set;!function s(u){const c=Ht(u,!0),h=c.id;null!==h&&(function H_(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${re(r)} vs ${re(r.name)}`)}(h,th.get(h),u),th.set(h,u));const y=Vo(c.imports);for(const I of y)r.has(I)||(r.add(I),s(I))}(t)}(r)}create(r){return new z_(this.moduleType,r)}}function W_(t,r,s){const u=It()+t,c=sn();return c[u]===Lr?_o(c,u,s?r.call(s):r()):function $u(t,r){return t[r]}(c,u)}function q_(t,r,s,u){return K_(sn(),It(),t,r,s,u)}function cp(t,r){const s=t[r];return s===Lr?void 0:s}function K_(t,r,s,u,c,h){const y=r+s;return fs(t,y,c)?_o(t,y+1,h?u.call(h,c):u(c)):cp(t,y+1)}function Q_(t,r){const s=Pr();let u;const c=t+20;s.firstCreatePass?(u=function Rb(t,r){if(r)for(let s=r.length-1;s>=0;s--){const u=r[s];if(t===u.name)return u}}(r,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const h=u.factory||(u.factory=Ur(u.type)),y=Mt(Fl);try{const I=Ma(!1),M=h();return Ma(I),function Rg(t,r,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=u}(s,sn(),c,M),M}finally{Mt(y)}}function e0(t,r,s){const u=t+20,c=sn(),h=Dr(c,u);return dp(c,u)?K_(c,It(),r,h.transform,s,h):h.transform(s)}function t0(t,r,s,u){const c=t+20,h=sn(),y=Dr(h,c);return dp(h,c)?function Y_(t,r,s,u,c,h,y){const I=r+s;return pa(t,I,c,h)?_o(t,I+2,y?u.call(y,c,h):u(c,h)):cp(t,I+2)}(h,It(),r,y.transform,s,u,y):y.transform(s,u)}function dp(t,r){return t[1].data[r].pure}function Zy(t){return r=>{setTimeout(t,void 0,r)}}const lu=class kb extends a.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){var c,h,y;let I=r,M=s||(()=>null),H=u;if(r&&"object"==typeof r){const He=r;I=null===(c=He.next)||void 0===c?void 0:c.bind(He),M=null===(h=He.error)||void 0===h?void 0:h.bind(He),H=null===(y=He.complete)||void 0===y?void 0:y.bind(He)}this.__isAsync&&(M=Zy(M),I&&(I=Zy(I)),H&&(H=Zy(H)));const ie=super.subscribe({next:I,error:M,complete:H});return r instanceof P.w&&r.add(ie),ie}};function Fb(){return this._results[Bu()]()}class Xy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Bu(),u=Xy.prototype;u[s]||(u[s]=Fb)}get changes(){return this._changes||(this._changes=new lu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const c=hs(r);(this._changesDetected=!function Xu(t,r,s){if(t.length!==r.length)return!1;for(let u=0;u<t.length;u++){let c=t[u],h=r[u];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hp=(()=>{class t{}return t.__NG_ELEMENT_ID__=$b,t})();const Lb=hp,Bb=class extends Lb{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r){const s=this._declarationTContainer.tViews,u=qa(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(s)),Il(s,u,r),new lp(u)}};function $b(){return lm(ii(),sn())}function lm(t,r){return 4&t.type?new Bb(r,t,Qd(t,r)):null}let cm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vb,t})();function Vb(){return s0(ii(),sn())}const Ub=cm,n0=class extends Ub{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const r=j(this._hostTNode,this._hostLView);if(Ci(r)){const s=xo(r,this._hostLView),u=$s(r);return new Cs(s[1].data[u+8],s)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=r0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){const c=r.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(r,s,u,c,h){const y=r&&!function Hs(t){return"function"==typeof t}(r);let I;if(y)I=s;else{const He=s||{};I=He.index,u=He.injector,c=He.projectableNodes,h=He.ngModuleRef}const M=y?r:new Ky(zn(r)),H=u||this.parentInjector;if(!h&&null==M.ngModule){const ft=(y?H:this.parentInjector).get(eh,null);ft&&(h=ft)}const ie=M.create(H,c,void 0,h);return this.insert(ie.hostView,I),ie}insert(r,s){const u=r._lView,c=u[1];if(function _i(t){return yt(t[3])}(u)){const ie=this.indexOf(r);if(-1!==ie)this.detach(ie);else{const He=u[3],ft=new n0(He,He[6],He[3]);ft.detach(ft.indexOf(r))}}const h=this._adjustIndex(s),y=this._lContainer;!function Rp(t,r,s,u){const c=10+u,h=s.length;u>0&&(s[c-1][4]=r),u<h-10?(r[4]=s[c],gu(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function Pm(t,r){const s=t[9];r[N]!==r[3][3][N]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(y,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=128}(c,u,y,h);const I=jo(h,y),M=u[11],H=rc(M,y[7]);return null!==H&&function xh(t,r,s,u,c,h){u[0]=c,u[6]=r,sc(t,u,s,1,c,h)}(c,y[6],M,u,H,I),r.attachToViewContainerRef(),gu(Jy(y),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=r0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=gl(this._lContainer,s);u&&(mu(Jy(this._lContainer),s),Va(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=gl(this._lContainer,s);return u&&null!=mu(Jy(this._lContainer),s)?new lp(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function r0(t){return t[8]}function Jy(t){return t[8]||(t[8]=[])}function s0(t,r){let s;const u=r[t.index];if(yt(u))s=u;else{let c;if(8&t.type)c=C(u);else{const h=r[11];c=h.createComment("");const y=hn(t,r);ca(h,rc(h,y),c,function Nh(t,r){return d(t)?t.nextSibling(r):r.nextSibling}(h,y),!1)}r[t.index]=s=xd(u,r,c,t),pc(r,s)}return new n0(s,t,r)}class Qy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class ev{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<u;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new ev(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==p0(r,s).matches&&this.queries[s].setDirty()}}class o0{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class tv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,h=this.getByIndex(u).embeddedTView(r,c);h&&(h.indexInDeclarationView=u,null!==s?s.push(h):s=[h])}return null!==s?new tv(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class nv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new nv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(r,s,Gb(s,h)),this.matchTNodeWithReadOption(r,s,Hr(s,r,h,!1,!1))}else u===hp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Hr(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===up||c===cm||c===hp&&4&s.type)this.addMatch(s.index,-2);else{const h=Hr(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Gb(t,r){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function Wb(t,r,s,u){return-1===s?function zb(t,r){return 11&t.type?Qd(t,r):4&t.type?lm(t,r):null}(r,t):-2===s?function qb(t,r,s){return s===up?Qd(r,t):s===hp?lm(r,t):s===cm?s0(r,t):void 0}(t,r,u):Gr(t,t[1],s,r)}function a0(t,r,s,u){const c=r[19].queries[u];if(null===c.matches){const h=t.data,y=s.matches,I=[];for(let M=0;M<y.length;M+=2){const H=y[M];I.push(H<0?null:Wb(r,h[H],y[M+1],s.metadata.read))}c.matches=I}return c.matches}function rv(t,r,s,u){const c=t.queries.getByIndex(s),h=c.matches;if(null!==h){const y=a0(t,r,c,s);for(let I=0;I<h.length;I+=2){const M=h[I];if(M>0)u.push(y[I/2]);else{const H=h[I+1],ie=r[-M];for(let He=10;He<ie.length;He++){const ft=ie[He];ft[17]===ft[3]&&rv(ft[1],ft,H,u)}if(null!==ie[9]){const He=ie[9];for(let ft=0;ft<He.length;ft++){const Ot=He[ft];rv(Ot[1],Ot,H,u)}}}}}return u}function u0(t){const r=sn(),s=Pr(),u=So();Ko(u+1);const c=p0(s,u);if(t.dirty&&kr(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?rv(s,r,u,[]):a0(s,r,c,u);t.reset(h,db),t.notifyOnChanges()}return!0}return!1}function l0(t,r,s){const u=Pr();u.firstCreatePass&&(f0(u,new o0(t,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),h0(u,sn(),r)}function c0(t,r,s,u){const c=Pr();if(c.firstCreatePass){const h=ii();f0(c,new o0(r,s,u),h.index),function Yb(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}h0(c,sn(),s)}function d0(){return function Kb(t,r){return t[19].queries[r].queryList}(sn(),So())}function h0(t,r,s){const u=new Xy(4==(4&s));tg(t,r,u,u.destroy),null===r[19]&&(r[19]=new ev),r[19].queries.push(new Qy(u))}function f0(t,r,s){null===t.queries&&(t.queries=new tv),t.queries.track(new nv(r,s))}function p0(t,r){return t.queries.getByIndex(r)}function g0(t,r){return lm(t,r)}function fm(...t){}const O0=new In("Application Initializer");let lv=(()=>{class t{constructor(s){this.appInits=s,this.resolve=fm,this.reject=fm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(_a(h))s.push(h);else if(Xf(h)){const y=new Promise((I,M)=>{h.subscribe({complete:I,error:M})});s.push(y)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Mi(O0,8))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const P0=new In("AppId",{providedIn:"root",factory:function N0(){return`${cv()}${cv()}${cv()}`}});function cv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new In("Platform Initializer"),F0=new In("Platform ID"),L0=new In("appBootstrapListener");let B0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();const dv=new In("LocaleId",{providedIn:"root",factory:()=>Gs(dv,Zt.Optional|Zt.SkipSelf)||function hw(){return"undefined"!=typeof $localize&&$localize.locale||nm}()}),fw=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let gw=(()=>{class t{compileModuleSync(s){return new Yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),h=Vo(Ht(s).declarations).reduce((y,I)=>{const M=zn(I);return M&&y.push(new Ky(M)),y},[]);return new pw(u,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yw=(()=>Promise.resolve(0))();function hv(t){"undefined"==typeof Zone?yw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ba{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function vw(){let t=bn.requestAnimationFrame,r=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function bw(t){const r=()=>{!function Ew(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pv(t),t.isCheckStableRunning=!0,fv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,h,y,I)=>{try{return $0(t),s.invokeTask(c,h,y,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),V0(t)}},onInvoke:(s,u,c,h,y,I,M)=>{try{return $0(t),s.invoke(c,h,y,I,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),V0(t)}},onHasTask:(s,u,c,h)=>{s.hasTask(c,h),u===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,pv(t),fv(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,u,c,h)=>(s.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ba.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ba.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,r,_w,fm,fm);try{return h.runTask(y,s,u)}finally{h.cancelTask(y)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const _w={};function fv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function V0(t){t._nesting--,fv(t)}class ww{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,c){return r.apply(s,u)}}let U0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ba.assertNotInAngularZone(),hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Mi(ba))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})(),j0=(()=>{class t{constructor(){this._applications=new Map,gv.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return gv.findTestabilityInTree(this,s,u)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();class Iw{addToWindow(r){}findTestabilityInTree(r,s,u){return null}}function Cw(t){gv=t}let wa,gv=new Iw;const H0=new In("AllowMultipleToken");class Sw{constructor(r,s){this.name=r,this.token=s}}function G0(t,r,s=[]){const u=`Platform: ${r}`,c=new In(u);return(h=[])=>{let y=z0();if(!y||y.injector.get(H0,!1))if(t)t(s.concat(h).concat({provide:c,useValue:!0}));else{const I=s.concat(h).concat({provide:c,useValue:!0},{provide:Ef,useValue:"platform"});!function Aw(t){if(wa&&!wa.destroyed&&!wa.injector.get(H0,!1))throw new be(400,"");wa=t.get(W0);const r=t.get(k0,null);r&&r.forEach(s=>s())}(yo.create({providers:I,name:u}))}return function xw(t){const r=z0();if(!r)throw new be(401,"");return r}()}}function z0(){return wa&&!wa.destroyed?wa:null}let W0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const I=function Mw(t,r){let s;return s="noop"===t?new ww:("zone.js"===t?void 0:t)||new ba({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),M=[{provide:ba,useValue:I}];return I.run(()=>{const H=yo.create({providers:M,parent:this.injector,name:s.moduleType.name}),ie=s.create(H),He=ie.injector.get(ec,null);if(!He)throw new be(402,"");return I.runOutsideAngular(()=>{const ft=I.onError.subscribe({next:Ot=>{He.handleError(Ot)}});ie.onDestroy(()=>{yv(this._modules,ie),ft.unsubscribe()})}),function Rw(t,r,s){try{const u=s();return _a(u)?u.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):u}catch(u){throw r.runOutsideAngular(()=>t.handleError(u)),u}}(He,I,()=>{const ft=ie.injector.get(lv);return ft.runInitializers(),ft.donePromise.then(()=>(function hE(t){Se(t,"Expected localeId to be defined"),"string"==typeof t&&(l_=t.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(dv,nm)||nm),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(s,u=[]){const c=q0({},u);return function Dw(t,r,s){const u=new Yy(s);return Promise.resolve(u)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const u=s.injector.get(mv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new be(403,"");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Mi(yo))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();function q0(t,r){return Array.isArray(r)?r.reduce(q0,t):Object.assign(Object.assign({},t),r)}let mv=(()=>{class t{constructor(s,u,c,h,y){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new L.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),M=new L.y(H=>{let ie;this._zone.runOutsideAngular(()=>{ie=this._zone.onStable.subscribe(()=>{ba.assertNotInAngularZone(),hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const He=this._zone.onUnstable.subscribe(()=>{ba.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{ie.unsubscribe(),He.unsubscribe()}});this.isStable=(0,Y.T)(I,M.pipe(function q(){return t=>(0,fe.x)()((0,he.O)(se)(t))}()))}bootstrap(s,u){if(!this._initStatus.done)throw new be(405,"");let c;c=s instanceof k_?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function Tw(t){return t.isBoundToModule}(c)?void 0:this._injector.get(eh),I=c.create(yo.NULL,[],u||c.selector,h),M=I.location.nativeElement,H=I.injector.get(U0,null),ie=H&&I.injector.get(j0);return H&&ie&&ie.registerApplication(M,H),I.onDestroy(()=>{this.detachView(I.hostView),yv(this.components,I),ie&&ie.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new be(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;yv(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Mi(ba),Mi(yo),Mi(ec),Mi(am),Mi(lv))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let Y0=!0,Z0=!1;function Pw(){return Z0=!0,Y0}function Nw(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");Y0=!1}let kw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fw,t})();function Fw(t){return function Lw(t,r,s){if(wn(t)&&!s){const u=sr(t.index,r);return new lp(u,u)}return 47&t.type?new lp(r[N],r):null}(ii(),sn(),16==(16&t))}class eE{constructor(){}supports(r){return Ec(r)}create(r){return new Hw(r)}}const jw=(t,r)=>r;class Hw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||jw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,c=0,h=null;for(;s||u;){const y=!u||s&&s.currentIndex<nE(u,c,h)?s:u,I=nE(y,c,h),M=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const H=I-c,ie=M-c;if(H!=ie){for(let ft=0;ft<H;ft++){const Ot=ft<h.length?h[ft]:h[ft]=0,rn=Ot+ft;ie<=rn&&rn<H&&(h[ft]=Ot+1)}h[y.previousIndex]=ie-H}}I!==M&&r(y,I,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ec(r))throw new be(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,y,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)h=r[I],y=this._trackByFn(I,h),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,h,y,I)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,I),u=!0),s=s._next}else c=0,function dy(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Bu()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,I=>{y=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,I,y,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new Gw(s,u),h,c),r}_verifyReinsertion(r,s,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new tE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Gw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class tE{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new zw,this.map.set(s,u)),u.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nE(t,r,s){const u=t.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+r+c}class rE{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new Ww}}class Ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new be(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const u=new qw(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class qw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iE(){return new wv([new eE])}let wv=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||iE()),deps:[[t,new zi,new ia]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new be(901,"")}}return t.\u0275prov=Ft({token:t,providedIn:"root",factory:iE}),t})();function sE(){return new Iv([new rE])}let Iv=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||sE()),deps:[[t,new zi,new ia]]}}find(s){const u=this.factories.find(h=>h.supports(s));if(u)return u;throw new be(901,"")}}return t.\u0275prov=Ft({token:t,providedIn:"root",factory:sE}),t})();const Zw=G0(null,"core",[{provide:F0,useValue:"unknown"},{provide:W0,deps:[yo]},{provide:j0,deps:[]},{provide:B0,deps:[]}]);let Xw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Mi(mv))},t.\u0275mod=wt({type:t}),t.\u0275inj=tn({}),t})()},4182:(un,ut,D)=>{"use strict";D.d(ut,{on:()=>_,NI:()=>fr,u:()=>Ai,cw:()=>Cr,sg:()=>Xr,u5:()=>kr,nD:()=>dt,wO:()=>C,JU:()=>we,a5:()=>rr,JJ:()=>cr,JL:()=>ar,F:()=>U,On:()=>Pn,UX:()=>li,Q7:()=>k,kI:()=>xt,_Y:()=>qn});var a=D(9863),P=D(9808),L=D(2916),Y=D(6688),he=D(4850),fe=D(7830),se=D(5254);function ee(B,x){return new L.y(R=>{const pe=B.length;if(0===pe)return void R.complete();const Wt=new Array(pe);let Xn=0,ai=0;for(let Nr=0;Nr<pe;Nr++){const _s=(0,se.D)(B[Nr]);let sn=!1;R.add(_s.subscribe({next:Pr=>{sn||(sn=!0,ai++),Wt[Nr]=Pr},error:Pr=>R.error(Pr),complete:()=>{Xn++,(Xn===pe||!sn)&&(ai===pe&&R.next(x?x.reduce((Pr,ks,ii)=>(Pr[ks]=Wt[ii],Pr),{}):Wt),R.complete())}}))}})}let W=(()=>{class B{constructor(R,pe){this._renderer=R,this._elementRef=pe,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(R,pe){this._renderer.setProperty(this._elementRef.nativeElement,R,pe)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(a.Qsj),a.Y36(a.SBq))},B.\u0275dir=a.lG2({type:B}),B})(),re=(()=>{class B extends W{}return B.\u0275fac=function(){let x;return function(pe){return(x||(x=a.n5z(B)))(pe||B)}}(),B.\u0275dir=a.lG2({type:B,features:[a.qOj]}),B})();const we=new a.OlP("NgValueAccessor"),le={provide:we,useExisting:(0,a.Gpc)(()=>be),multi:!0},xe=new a.OlP("CompositionEventMode");let be=(()=>{class B extends W{constructor(R,pe,Wt){super(R,pe),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J(){const B=(0,P.q)()?(0,P.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(xe,8))},B.\u0275dir=a.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,pe){1&R&&a.NdJ("input",function(Xn){return pe._handleInput(Xn.target.value)})("blur",function(){return pe.onTouched()})("compositionstart",function(){return pe._compositionStart()})("compositionend",function(Xn){return pe._compositionEnd(Xn.target.value)})},features:[a._Bn([le]),a.qOj]}),B})();function _e(B){return null==B||0===B.length}function Ie(B){return null!=B&&"number"==typeof B.length}const ke=new a.OlP("NgValidators"),Ne=new a.OlP("NgAsyncValidators"),nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xt{static min(x){return function Ge(B){return x=>{if(_e(x.value)||_e(B))return null;const R=parseFloat(x.value);return!isNaN(R)&&R<B?{min:{min:B,actual:x.value}}:null}}(x)}static max(x){return function ht(B){return x=>{if(_e(x.value)||_e(B))return null;const R=parseFloat(x.value);return!isNaN(R)&&R>B?{max:{max:B,actual:x.value}}:null}}(x)}static required(x){return Ue(x)}static requiredTrue(x){return function Fe(B){return!0===B.value?null:{required:!0}}(x)}static email(x){return Le(x)}static minLength(x){return Re(x)}static maxLength(x){return it(x)}static pattern(x){return function je(B){if(!B)return Ut;let x,R;return"string"==typeof B?(R="","^"!==B.charAt(0)&&(R+="^"),R+=B,"$"!==B.charAt(B.length-1)&&(R+="$"),x=new RegExp(R)):(R=B.toString(),x=B),pe=>{if(_e(pe.value))return null;const Wt=pe.value;return x.test(Wt)?null:{pattern:{requiredPattern:R,actualValue:Wt}}}}(x)}static nullValidator(x){return null}static compose(x){return ce(x)}static composeAsync(x){return mt(x)}}function Ue(B){return _e(B.value)?{required:!0}:null}function Le(B){return _e(B.value)||nt.test(B.value)?null:{email:!0}}function Re(B){return x=>_e(x.value)||!Ie(x.value)?null:x.value.length<B?{minlength:{requiredLength:B,actualLength:x.value.length}}:null}function it(B){return x=>Ie(x.value)&&x.value.length>B?{maxlength:{requiredLength:B,actualLength:x.value.length}}:null}function Ut(B){return null}function Lt(B){return null!=B}function _t(B){const x=(0,a.QGY)(B)?(0,se.D)(B):B;return(0,a.CqO)(x),x}function ve(B){let x={};return B.forEach(R=>{x=null!=R?Object.assign(Object.assign({},x),R):x}),0===Object.keys(x).length?null:x}function Z(B,x){return x.map(R=>R(B))}function Se(B){return B.map(x=>function ue(B){return!B.validate}(x)?x:R=>x.validate(R))}function ce(B){if(!B)return null;const x=B.filter(Lt);return 0==x.length?null:function(R){return ve(Z(R,x))}}function st(B){return null!=B?ce(Se(B)):null}function mt(B){if(!B)return null;const x=B.filter(Lt);return 0==x.length?null:function(R){return function q(...B){if(1===B.length){const x=B[0];if((0,Y.k)(x))return ee(x,null);if((0,fe.K)(x)&&Object.getPrototypeOf(x)===Object.prototype){const R=Object.keys(x);return ee(R.map(pe=>x[pe]),R)}}if("function"==typeof B[B.length-1]){const x=B.pop();return ee(B=1===B.length&&(0,Y.k)(B[0])?B[0]:B,null).pipe((0,he.U)(R=>x(...R)))}return ee(B,null)}(Z(R,x).map(_t)).pipe((0,he.U)(ve))}}function Xe(B){return null!=B?mt(Se(B)):null}function Ft(B,x){return null===B?[x]:Array.isArray(B)?[...B,x]:[B,x]}function an(B){return B._rawValidators}function tn(B){return B._rawAsyncValidators}function Jt(B){return B?Array.isArray(B)?B:[B]:[]}function En(B,x){return Array.isArray(B)?B.includes(x):B===x}function nr(B,x){const R=Jt(x);return Jt(B).forEach(Wt=>{En(R,Wt)||R.push(Wt)}),R}function lr(B,x){return Jt(x).filter(R=>!En(B,R))}class Jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=st(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,R){return!!this.control&&this.control.hasError(x,R)}getError(x,R){return this.control?this.control.getError(x,R):null}}class rr extends Jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class or extends Jn{get formDirective(){return null}get path(){return null}}class Hn{constructor(x){this._cd=x}is(x){var R,pe,Wt;return"submitted"===x?!!(null===(R=this._cd)||void 0===R?void 0:R.submitted):!!(null===(Wt=null===(pe=this._cd)||void 0===pe?void 0:pe.control)||void 0===Wt?void 0:Wt[x])}}let cr=(()=>{class B extends Hn{constructor(R){super(R)}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(rr,2))},B.\u0275dir=a.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,pe){2&R&&a.ekj("ng-untouched",pe.is("untouched"))("ng-touched",pe.is("touched"))("ng-pristine",pe.is("pristine"))("ng-dirty",pe.is("dirty"))("ng-valid",pe.is("valid"))("ng-invalid",pe.is("invalid"))("ng-pending",pe.is("pending"))},features:[a.qOj]}),B})(),ar=(()=>{class B extends Hn{constructor(R){super(R)}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(or,10))},B.\u0275dir=a.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,pe){2&R&&a.ekj("ng-untouched",pe.is("untouched"))("ng-touched",pe.is("touched"))("ng-pristine",pe.is("pristine"))("ng-dirty",pe.is("dirty"))("ng-valid",pe.is("valid"))("ng-invalid",pe.is("invalid"))("ng-pending",pe.is("pending"))("ng-submitted",pe.is("submitted"))},features:[a.qOj]}),B})();function Nt(B,x){return[...x.path,B]}function Dt(B,x){$n(B,x),x.valueAccessor.writeValue(B.value),function Be(B,x){x.valueAccessor.registerOnChange(R=>{B._pendingValue=R,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&vt(B,x)})}(B,x),function ye(B,x){const R=(pe,Wt)=>{x.valueAccessor.writeValue(pe),Wt&&x.viewToModelUpdate(pe)};B.registerOnChange(R),x._registerOnDestroy(()=>{B._unregisterOnChange(R)})}(B,x),function Qe(B,x){x.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&vt(B,x),"submit"!==B.updateOn&&B.markAsTouched()})}(B,x),function Kn(B,x){if(x.valueAccessor.setDisabledState){const R=pe=>{x.valueAccessor.setDisabledState(pe)};B.registerOnDisabledChange(R),x._registerOnDestroy(()=>{B._unregisterOnDisabledChange(R)})}}(B,x)}function fn(B,x,R=!0){const pe=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(pe),x.valueAccessor.registerOnTouched(pe)),Ke(B,x),B&&(x._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function Tn(B,x){B.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(x)})}function $n(B,x){const R=an(B);null!==x.validator?B.setValidators(Ft(R,x.validator)):"function"==typeof R&&B.setValidators([R]);const pe=tn(B);null!==x.asyncValidator?B.setAsyncValidators(Ft(pe,x.asyncValidator)):"function"==typeof pe&&B.setAsyncValidators([pe]);const Wt=()=>B.updateValueAndValidity();Tn(x._rawValidators,Wt),Tn(x._rawAsyncValidators,Wt)}function Ke(B,x){let R=!1;if(null!==B){if(null!==x.validator){const Wt=an(B);if(Array.isArray(Wt)&&Wt.length>0){const Xn=Wt.filter(ai=>ai!==x.validator);Xn.length!==Wt.length&&(R=!0,B.setValidators(Xn))}}if(null!==x.asyncValidator){const Wt=tn(B);if(Array.isArray(Wt)&&Wt.length>0){const Xn=Wt.filter(ai=>ai!==x.asyncValidator);Xn.length!==Wt.length&&(R=!0,B.setAsyncValidators(Xn))}}}const pe=()=>{};return Tn(x._rawValidators,pe),Tn(x._rawAsyncValidators,pe),R}function vt(B,x){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function Me(B,x){$n(B,x)}function gn(B,x){if(!B.hasOwnProperty("model"))return!1;const R=B.model;return!!R.isFirstChange()||!Object.is(x,R.currentValue)}function ir(B,x){B._syncPendingControls(),x.forEach(R=>{const pe=R.control;"submit"===pe.updateOn&&pe._pendingChange&&(R.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}function Tr(B,x){if(!x)return null;let R,pe,Wt;return Array.isArray(x),x.forEach(Xn=>{Xn.constructor===be?R=Xn:function zn(B){return Object.getPrototypeOf(B.constructor)===re}(Xn)?pe=Xn:Wt=Xn}),Wt||pe||R||null}function Ht(B,x){const R=B.indexOf(x);R>-1&&B.splice(R,1)}const qt="VALID",on="INVALID",mn="PENDING",ze="DISABLED";function Gt(B){return(ct(B)?B.validators:B)||null}function Rt(B){return Array.isArray(B)?st(B):B||null}function yn(B,x){return(ct(x)?x.asyncValidators:B)||null}function Rn(B){return Array.isArray(B)?Xe(B):B||null}function ct(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}const K=B=>B instanceof fr,de=B=>B instanceof Cr;function Tt(B){return K(B)?B.value:B.getRawValue()}function xn(B,x){const R=de(B),pe=B.controls;if(!(R?Object.keys(pe):pe).length)throw new a.vHH(1e3,"");if(!pe[x])throw new a.vHH(1001,"")}function On(B,x){de(B),B._forEachChild((pe,Wt)=>{if(void 0===x[Wt])throw new a.vHH(1002,"")})}class Sn{constructor(x,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=R,this._composedValidatorFn=Rt(this._rawValidators),this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===on}get pending(){return this.status==mn}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=Rt(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Rn(x)}addValidators(x){this.setValidators(nr(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(nr(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(lr(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(lr(x,this._rawAsyncValidators))}hasValidator(x){return En(this._rawValidators,x)}hasAsyncValidator(x){return En(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=mn,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const R=this._parentMarkedDirty(x.onlySelf);this.status=ze,this.errors=null,this._forEachChild(pe=>{pe.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:R})),this._onDisabledChange.forEach(pe=>pe(!0))}enable(x={}){const R=this._parentMarkedDirty(x.onlySelf);this.status=qt,this._forEachChild(pe=>{pe.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:R})),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===mn)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;const R=_t(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,R={}){this.errors=x,this._updateControlsErrors(!1!==R.emitEvent)}get(x){return function At(B,x,R){if(null==x||(Array.isArray(x)||(x=x.split(R)),Array.isArray(x)&&0===x.length))return null;let pe=B;return x.forEach(Wt=>{pe=de(pe)?pe.controls.hasOwnProperty(Wt)?pe.controls[Wt]:null:(B=>B instanceof Br)(pe)&&pe.at(Wt)||null}),pe}(this,x,".")}getError(x,R){const pe=R?this.get(R):this;return pe&&pe.errors?pe.errors[x]:null}hasError(x,R){return!!this.getError(x,R)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?on:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(on)?on:qt}_anyControlsHaveStatus(x){return this._anyControls(R=>R.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){ct(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fr extends Sn{constructor(x=null,R,pe){super(Gt(R),yn(pe,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ct(R)&&R.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(x)?x.value:x)}setValue(x,R={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(x,R={}){this.setValue(x,R)}reset(x=this.defaultValue,R={}){this._applyFormState(x),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Ht(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Ht(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class Cr extends Sn{constructor(x,R,pe){super(Gt(R),yn(pe,R)),this.controls=x,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,R){return this.controls[x]?this.controls[x]:(this.controls[x]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(x,R,pe={}){this.registerControl(x,R),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(x,R={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(x,R,pe={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],R&&this.registerControl(x,R),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,R={}){On(this,x),Object.keys(x).forEach(pe=>{xn(this,pe),this.controls[pe].setValue(x[pe],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(x,R={}){null!=x&&(Object.keys(x).forEach(pe=>{this.controls[pe]&&this.controls[pe].patchValue(x[pe],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(x={},R={}){this._forEachChild((pe,Wt)=>{pe.reset(x[Wt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(x,R,pe)=>(x[pe]=Tt(R),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(R,pe)=>!!pe._syncPendingControls()||R);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(R=>{const pe=this.controls[R];pe&&x(pe,R)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const R of Object.keys(this.controls)){const pe=this.controls[R];if(this.contains(R)&&x(pe))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,R,pe)=>((R.enabled||this.disabled)&&(x[pe]=R.value),x))}_reduceChildren(x,R){let pe=x;return this._forEachChild((Wt,Xn)=>{pe=R(pe,Wt,Xn)}),pe}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Br extends Sn{constructor(x,R,pe){super(Gt(R),yn(pe,R)),this.controls=x,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,R={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(x,R,pe={}){this.controls.splice(x,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:pe.emitEvent})}removeAt(x,R={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(x,R,pe={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),R&&(this.controls.splice(x,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,R={}){On(this,x),x.forEach((pe,Wt)=>{xn(this,Wt),this.at(Wt).setValue(pe,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(x,R={}){null!=x&&(x.forEach((pe,Wt)=>{this.at(Wt)&&this.at(Wt).patchValue(pe,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(x=[],R={}){this._forEachChild((pe,Wt)=>{pe.reset(x[Wt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(x=>Tt(x))}clear(x={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((R,pe)=>!!pe._syncPendingControls()||R,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((R,pe)=>{x(R,pe)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(R=>R.enabled&&x(R))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}const Rr={provide:or,useExisting:(0,a.Gpc)(()=>U)},N=(()=>Promise.resolve(null))();let U=(()=>{class B extends or{constructor(R,pe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Cr({},st(R),Xe(pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){N.then(()=>{const pe=this._findContainer(R.path);R.control=pe.registerControl(R.name,R.control),Dt(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){N.then(()=>{const pe=this._findContainer(R.path);pe&&pe.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){N.then(()=>{const pe=this._findContainer(R.path),Wt=new Cr({});Me(Wt,R),pe.registerControl(R.name,Wt),Wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){N.then(()=>{const pe=this._findContainer(R.path);pe&&pe.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,pe){N.then(()=>{this.form.get(R.path).setValue(pe)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,ir(this.form,this._directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(ke,10),a.Y36(Ne,10))},B.\u0275dir=a.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,pe){1&R&&a.NdJ("submit",function(Xn){return pe.onSubmit(Xn)})("reset",function(){return pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Rr]),a.qOj]}),B})();const $t={provide:rr,useExisting:(0,a.Gpc)(()=>Pn)},wn=(()=>Promise.resolve(null))();let Pn=(()=>{class B extends rr{constructor(R,pe,Wt,Xn,ai){super(),this._changeDetectorRef=ai,this.control=new fr,this._registered=!1,this.update=new a.vpe,this._parent=R,this._setValidators(pe),this._setAsyncValidators(Wt),this.valueAccessor=Tr(0,Xn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const pe=R.name.previousValue;this.formDirective.removeControl({name:pe,path:this._getPath(pe)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),gn(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){wn.then(()=>{var pe;this.control.setValue(R,{emitViewToModelChange:!1}),null===(pe=this._changeDetectorRef)||void 0===pe||pe.markForCheck()})}_updateDisabled(R){const pe=R.isDisabled.currentValue,Wt=""===pe||pe&&"false"!==pe;wn.then(()=>{var Xn;Wt&&!this.control.disabled?this.control.disable():!Wt&&this.control.disabled&&this.control.enable(),null===(Xn=this._changeDetectorRef)||void 0===Xn||Xn.markForCheck()})}_getPath(R){return this._parent?Nt(R,this._parent):[R]}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(or,9),a.Y36(ke,10),a.Y36(Ne,10),a.Y36(we,10),a.Y36(a.sBO,8))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([$t]),a.qOj,a.TTD]}),B})(),qn=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275dir=a.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),ni=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=a.oAB({type:B}),B.\u0275inj=a.cJS({}),B})();const ui=new a.OlP("NgModelWithFormControlWarning"),mi={provide:or,useExisting:(0,a.Gpc)(()=>Xr)};let Xr=(()=>{class B extends or{constructor(R,pe){super(),this.validators=R,this.asyncValidators=pe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(R),this._setAsyncValidators(pe)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const pe=this.form.get(R.path);return Dt(pe,R),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),pe}getControl(R){return this.form.get(R.path)}removeControl(R){fn(R.control||null,R,!1),Ht(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,pe){this.form.get(R.path).setValue(pe)}onSubmit(R){return this.submitted=!0,ir(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const pe=R.control,Wt=this.form.get(R.path);pe!==Wt&&(fn(pe||null,R),K(Wt)&&(Dt(Wt,R),R.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const pe=this.form.get(R.path);Me(pe,R),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const pe=this.form.get(R.path);pe&&function Te(B,x){return Ke(B,x)}(pe,R)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$n(this.form,this),this._oldForm&&Ke(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(R){return new(R||B)(a.Y36(ke,10),a.Y36(Ne,10))},B.\u0275dir=a.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(R,pe){1&R&&a.NdJ("submit",function(Xn){return pe.onSubmit(Xn)})("reset",function(){return pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([mi]),a.qOj,a.TTD]}),B})();const Wr={provide:rr,useExisting:(0,a.Gpc)(()=>Ai)};let Ai=(()=>{class B extends rr{constructor(R,pe,Wt,Xn,ai){super(),this._ngModelWarningConfig=ai,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(pe),this._setAsyncValidators(Wt),this.valueAccessor=Tr(0,Xn)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),gn(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return Nt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(R){return new(R||B)(a.Y36(or,13),a.Y36(ke,10),a.Y36(Ne,10),a.Y36(we,10),a.Y36(ui,8))},B.\u0275dir=a.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Wr]),a.qOj,a.TTD]}),B})();function Ce(B){return"number"==typeof B?B:parseInt(B,10)}let Ct=(()=>{class B{constructor(){this._validator=Ut}ngOnChanges(R){if(this.inputName in R){const pe=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):Ut,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}}return B.\u0275fac=function(R){return new(R||B)},B.\u0275dir=a.lG2({type:B,features:[a.TTD]}),B})();const br={provide:ke,useExisting:(0,a.Gpc)(()=>k),multi:!0};let k=(()=>{class B extends Ct{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=R=>function Ve(B){return null!=B&&!1!==B&&"false"!=`${B}`}(R),this.createValidator=R=>Ue}enabled(R){return R}}return B.\u0275fac=function(){let x;return function(pe){return(x||(x=a.n5z(B)))(pe||B)}}(),B.\u0275dir=a.lG2({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(R,pe){2&R&&a.uIk("required",pe._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([br]),a.qOj]}),B})();const d={provide:ke,useExisting:(0,a.Gpc)(()=>_),multi:!0};let _=(()=>{class B extends Ct{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=R=>""===R||!0===R||"true"===R,this.createValidator=R=>Le}enabled(R){return R}}return B.\u0275fac=function(){let x;return function(pe){return(x||(x=a.n5z(B)))(pe||B)}}(),B.\u0275dir=a.lG2({type:B,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[a._Bn([d]),a.qOj]}),B})();const g={provide:ke,useExisting:(0,a.Gpc)(()=>C),multi:!0};let C=(()=>{class B extends Ct{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=R=>Ce(R),this.createValidator=R=>Re(R)}}return B.\u0275fac=function(){let x;return function(pe){return(x||(x=a.n5z(B)))(pe||B)}}(),B.\u0275dir=a.lG2({type:B,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(R,pe){2&R&&a.uIk("minlength",pe._enabled?pe.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([g]),a.qOj]}),B})();const z={provide:ke,useExisting:(0,a.Gpc)(()=>dt),multi:!0};let dt=(()=>{class B extends Ct{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=R=>Ce(R),this.createValidator=R=>it(R)}}return B.\u0275fac=function(){let x;return function(pe){return(x||(x=a.n5z(B)))(pe||B)}}(),B.\u0275dir=a.lG2({type:B,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(R,pe){2&R&&a.uIk("maxlength",pe._enabled?pe.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([z]),a.qOj]}),B})(),sr=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=a.oAB({type:B}),B.\u0275inj=a.cJS({imports:[[ni]]}),B})(),kr=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=a.oAB({type:B}),B.\u0275inj=a.cJS({imports:[sr]}),B})(),li=(()=>{class B{static withConfig(R){return{ngModule:B,providers:[{provide:ui,useValue:R.warnOnNgModelWithFormControl}]}}}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=a.oAB({type:B}),B.\u0275inj=a.cJS({imports:[sr]}),B})()},1143:(un,ut,D)=>{"use strict";D.d(ut,{gz:()=>U,y6:()=>Ve,OD:()=>an,eC:()=>$e,wm:()=>Bs,wN:()=>Da,F0:()=>ss,rH:()=>Ls,Bz:()=>qu,Hx:()=>gn});var a=D(9863),P=D(5254),L=D(1086),Y=D(591),he=D(3426),fe=D(1737),se=D(4450),q=D(1221),ee=D(8514),W=D(2916),re=D(8896),we=D(1762),oe=D(8929),Ae=D(1177);function le(S){return function(E){const O=new J(S),j=E.lift(O);return O.caught=j}}class J{constructor(w){this.selector=w}call(w,E){return E.subscribe(new xe(w,this.selector,this.caught))}}class xe extends Ae.Ds{constructor(w,E,O){super(w),this.selector=E,this.caught=O}error(w){if(!this.isStopped){let E;try{E=this.selector(w,this.caught)}catch(ge){return void super.error(ge)}this._unsubscribeAndRecycle();const O=new Ae.IY(this);this.add(O);const j=(0,Ae.ft)(E,O);j!==O&&this.add(j)}}}var be=D(2198),_e=D(3489),Ie=D(4231);function ke(S){return function(E){return 0===S?(0,re.c)():E.lift(new Ne(S))}}class Ne{constructor(w){if(this.total=w,this.total<0)throw new Ie.W}call(w,E){return E.subscribe(new nt(w,this.total))}}class nt extends _e.L{constructor(w,E){super(w),this.total=E,this.ring=new Array,this.count=0}_next(w){const E=this.ring,O=this.total,j=this.count++;E.length<O?E.push(w):E[j%O]=w}_complete(){const w=this.destination;let E=this.count;if(E>0){const O=this.count>=this.total?this.total:this.count,j=this.ring;for(let ge=0;ge<O;ge++){const qe=E++%O;w.next(j[qe])}}w.complete()}}var xt=D(4907),Ge=D(7314),ht=D(5379),Fe=D(2654);class Re{constructor(w){this.callback=w}call(w,E){return E.subscribe(new it(w,this.callback))}}class it extends _e.L{constructor(w,E){super(w),this.add(new Fe.w(E))}}var je=D(4850),Ut=D(7545),Lt=D(2986),_t=D(1059),ve=D(2014),Z=D(1406),ue=D(7224),Se=D(1709),ce=D(2994),st=D(4327),mt=D(9146),Xe=D(9808);class Ft{constructor(w,E){this.id=w,this.url=E}}class an extends Ft{constructor(w,E,O="imperative",j=null){super(w,E),this.navigationTrigger=O,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tn extends Ft{constructor(w,E,O){super(w,E),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jt extends Ft{constructor(w,E,O){super(w,E),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class En extends Ft{constructor(w,E,O){super(w,E),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nr extends Ft{constructor(w,E,O,j){super(w,E),this.urlAfterRedirects=O,this.state=j}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr extends Ft{constructor(w,E,O,j){super(w,E),this.urlAfterRedirects=O,this.state=j}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Ft{constructor(w,E,O,j,ge){super(w,E),this.urlAfterRedirects=O,this.state=j,this.shouldActivate=ge}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rr extends Ft{constructor(w,E,O,j){super(w,E),this.urlAfterRedirects=O,this.state=j}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends Ft{constructor(w,E,O,j){super(w,E),this.urlAfterRedirects=O,this.state=j}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vn{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zt{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mt{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(w,E,O){this.routerEvent=w,this.position=E,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $e="primary";class Pt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E[0]:E}return null}getAll(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function bt(S){return new Pt(S)}const zt="ngNavigationCancelingError";function Kt(S){const w=Error("NavigationCancelingError: "+S);return w[zt]=!0,w}function Wn(S,w,E){const O=E.path.split("/");if(O.length>S.length||"full"===E.pathMatch&&(w.hasChildren()||O.length<S.length))return null;const j={};for(let ge=0;ge<O.length;ge++){const qe=O[ge],Ze=S[ge];if(qe.startsWith(":"))j[qe.substring(1)]=Ze;else if(qe!==Ze.path)return null}return{consumed:S.slice(0,O.length),posParams:j}}function mr(S,w){const E=S?Object.keys(S):void 0,O=w?Object.keys(w):void 0;if(!E||!O||E.length!=O.length)return!1;let j;for(let ge=0;ge<E.length;ge++)if(j=E[ge],!dr(S[j],w[j]))return!1;return!0}function dr(S,w){if(Array.isArray(S)&&Array.isArray(w)){if(S.length!==w.length)return!1;const E=[...S].sort(),O=[...w].sort();return E.every((j,ge)=>O[ge]===j)}return S===w}function bn(S){return Array.prototype.concat.apply([],S)}function Nn(S){return S.length>0?S[S.length-1]:null}function dn(S,w){for(const E in S)S.hasOwnProperty(E)&&w(S[E],E)}function Nt(S){return(0,a.CqO)(S)?S:(0,a.QGY)(S)?(0,P.D)(Promise.resolve(S)):(0,L.of)(S)}const fn={exact:function Ke(S,w,E){if(!vn(S.segments,w.segments)||!ye(S.segments,w.segments,E)||S.numberOfChildren!==w.numberOfChildren)return!1;for(const O in w.children)if(!S.children[O]||!Ke(S.children[O],w.children[O],E))return!1;return!0},subset:Qe},Tn={exact:function $n(S,w){return mr(S,w)},subset:function Be(S,w){return Object.keys(w).length<=Object.keys(S).length&&Object.keys(w).every(E=>dr(S[E],w[E]))},ignored:()=>!0};function Kn(S,w,E){return fn[E.paths](S.root,w.root,E.matrixParams)&&Tn[E.queryParams](S.queryParams,w.queryParams)&&!("exact"===E.fragment&&S.fragment!==w.fragment)}function Qe(S,w,E){return vt(S,w,w.segments,E)}function vt(S,w,E,O){if(S.segments.length>E.length){const j=S.segments.slice(0,E.length);return!(!vn(j,E)||w.hasChildren()||!ye(j,E,O))}if(S.segments.length===E.length){if(!vn(S.segments,E)||!ye(S.segments,E,O))return!1;for(const j in w.children)if(!S.children[j]||!Qe(S.children[j],w.children[j],O))return!1;return!0}{const j=E.slice(0,S.segments.length),ge=E.slice(S.segments.length);return!!(vn(S.segments,j)&&ye(S.segments,j,O)&&S.children[$e])&&vt(S.children[$e],w,ge,O)}}function ye(S,w,E){return w.every((O,j)=>Tn[E](S[j].parameters,O.parameters))}class Me{constructor(w,E,O){this.root=w,this.queryParams=E,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return ir.serialize(this)}}class Te{constructor(w,E){this.segments=w,this.children=E,this.parent=null,dn(E,(O,j)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tr(this)}}class wt{constructor(w,E){this.path=w,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return At(this)}}function vn(S,w){return S.length===w.length&&S.every((E,O)=>E.path===w[O].path)}class gn{}class zn{parse(w){const E=new Tt(w);return new Me(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(w){const E=`/${Ht(w.root,!0)}`,O=function Rt(S){const w=Object.keys(S).map(E=>{const O=S[E];return Array.isArray(O)?O.map(j=>`${ot(E)}=${ot(j)}`).join("&"):`${ot(E)}=${ot(O)}`}).filter(E=>!!E);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${E}${O}${"string"==typeof w.fragment?`#${function qt(S){return encodeURI(S)}(w.fragment)}`:""}`}}const ir=new zn;function Tr(S){return S.segments.map(w=>At(w)).join("/")}function Ht(S,w){if(!S.hasChildren())return Tr(S);if(w){const E=S.children[$e]?Ht(S.children[$e],!1):"",O=[];return dn(S.children,(j,ge)=>{ge!==$e&&O.push(`${ge}:${Ht(j,!1)}`)}),O.length>0?`${E}(${O.join("//")})`:E}{const E=function Zn(S,w){let E=[];return dn(S.children,(O,j)=>{j===$e&&(E=E.concat(w(O,j)))}),dn(S.children,(O,j)=>{j!==$e&&(E=E.concat(w(O,j)))}),E}(S,(O,j)=>j===$e?[Ht(S.children[$e],!1)]:[`${j}:${Ht(O,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[$e]?`${Tr(S)}/${E[0]}`:`${Tr(S)}/(${E.join("//")})`}}function Oe(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(S){return Oe(S).replace(/%3B/gi,";")}function on(S){return Oe(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mn(S){return decodeURIComponent(S)}function ze(S){return mn(S.replace(/\+/g,"%20"))}function At(S){return`${on(S.path)}${function Gt(S){return Object.keys(S).map(w=>`;${on(w)}=${on(S[w])}`).join("")}(S.parameters)}`}const yn=/^[^\/()?;=#]+/;function Rn(S){const w=S.match(yn);return w?w[0]:""}const ct=/^[^=?&#]+/,de=/^[^&#]+/;class Tt{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(w.length>0||Object.keys(E).length>0)&&(O[$e]=new Te(w,E)),O}parseSegment(){const w=Rn(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new wt(mn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const E=Rn(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const j=Rn(this.remaining);j&&(O=j,this.capture(O))}w[mn(E)]=mn(O)}parseQueryParam(w){const E=function K(S){const w=S.match(ct);return w?w[0]:""}(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const qe=function gt(S){const w=S.match(de);return w?w[0]:""}(this.remaining);qe&&(O=qe,this.capture(O))}const j=ze(E),ge=ze(O);if(w.hasOwnProperty(j)){let qe=w[j];Array.isArray(qe)||(qe=[qe],w[j]=qe),qe.push(ge)}else w[j]=ge}parseParens(w){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Rn(this.remaining),j=this.remaining[O.length];if("/"!==j&&")"!==j&&";"!==j)throw new Error(`Cannot parse url '${this.url}'`);let ge;O.indexOf(":")>-1?(ge=O.substr(0,O.indexOf(":")),this.capture(ge),this.capture(":")):w&&(ge=$e);const qe=this.parseChildren();E[ge]=1===Object.keys(qe).length?qe[$e]:new Te([],qe),this.consumeOptional("//")}return E}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class xn{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const E=this.pathFromRoot(w);return E.length>1?E[E.length-2]:null}children(w){const E=On(w,this._root);return E?E.children.map(O=>O.value):[]}firstChild(w){const E=On(w,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(w){const E=Sn(w,this._root);return E.length<2?[]:E[E.length-2].children.map(j=>j.value).filter(j=>j!==w)}pathFromRoot(w){return Sn(w,this._root).map(E=>E.value)}}function On(S,w){if(S===w.value)return w;for(const E of w.children){const O=On(S,E);if(O)return O}return null}function Sn(S,w){if(S===w.value)return[w];for(const E of w.children){const O=Sn(S,E);if(O.length)return O.unshift(w),O}return[]}class fr{constructor(w,E){this.value=w,this.children=E}toString(){return`TreeNode(${this.value})`}}function Cr(S){const w={};return S&&S.children.forEach(E=>w[E.value.outlet]=E),w}class Br extends xn{constructor(w,E){super(w),this.snapshot=E,Et(this,w)}toString(){return this.snapshot.toString()}}function Rr(S,w){const E=function N(S,w){const qe=new De([],{},{},"",{},$e,w,null,S.root,-1,{});return new Je("",new fr(qe,[]))}(S,w),O=new Y.X([new wt("",{})]),j=new Y.X({}),ge=new Y.X({}),qe=new Y.X({}),Ze=new Y.X(""),Xt=new U(O,j,qe,Ze,ge,$e,w,E.root);return Xt.snapshot=E.root,new Br(new fr(Xt,[]),E)}class U{constructor(w,E,O,j,ge,qe,Ze,Xt){this.url=w,this.params=E,this.queryParams=O,this.fragment=j,this.data=ge,this.outlet=qe,this.component=Ze,this._futureSnapshot=Xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(w=>bt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(w=>bt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function V(S,w="emptyOnly"){const E=S.pathFromRoot;let O=0;if("always"!==w)for(O=E.length-1;O>=1;){const j=E[O],ge=E[O-1];if(j.routeConfig&&""===j.routeConfig.path)O--;else{if(ge.component)break;O--}}return function ne(S){return S.reduce((w,E)=>({params:Object.assign(Object.assign({},w.params),E.params),data:Object.assign(Object.assign({},w.data),E.data),resolve:Object.assign(Object.assign({},w.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(O))}class De{constructor(w,E,O,j,ge,qe,Ze,Xt,er,Vr,yr){this.url=w,this.params=E,this.queryParams=O,this.fragment=j,this.data=ge,this.outlet=qe,this.component=Ze,this.routeConfig=Xt,this._urlSegment=er,this._lastPathIndex=Vr,this._resolve=yr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Je extends xn{constructor(w,E){super(E),this.url=w,Et(this,E)}toString(){return St(this._root)}}function Et(S,w){w.value._routerState=S,w.children.forEach(E=>Et(S,E))}function St(S){const w=S.children.length>0?` { ${S.children.map(St).join(", ")} } `:"";return`${S.value}${w}`}function yt(S){if(S.snapshot){const w=S.snapshot,E=S._futureSnapshot;S.snapshot=E,mr(w.queryParams,E.queryParams)||S.queryParams.next(E.queryParams),w.fragment!==E.fragment&&S.fragment.next(E.fragment),mr(w.params,E.params)||S.params.next(E.params),function Qn(S,w){if(S.length!==w.length)return!1;for(let E=0;E<S.length;++E)if(!mr(S[E],w[E]))return!1;return!0}(w.url,E.url)||S.url.next(E.url),mr(w.data,E.data)||S.data.next(E.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function $t(S,w){const E=mr(S.params,w.params)&&function Qt(S,w){return vn(S,w)&&S.every((E,O)=>mr(E.parameters,w[O].parameters))}(S.url,w.url);return E&&!(!S.parent!=!w.parent)&&(!S.parent||$t(S.parent,w.parent))}function Pn(S,w,E){if(E&&S.shouldReuseRoute(w.value,E.value.snapshot)){const O=E.value;O._futureSnapshot=w.value;const j=function qn(S,w,E){return w.children.map(O=>{for(const j of E.children)if(S.shouldReuseRoute(O.value,j.value.snapshot))return Pn(S,O,j);return Pn(S,O)})}(S,w,E);return new fr(O,j)}{if(S.shouldAttach(w.value)){const ge=S.retrieve(w.value);if(null!==ge){const qe=ge.route;return qe.value._futureSnapshot=w.value,qe.children=w.children.map(Ze=>Pn(S,Ze)),qe}}const O=function Sr(S){return new U(new Y.X(S.url),new Y.X(S.params),new Y.X(S.queryParams),new Y.X(S.fragment),new Y.X(S.data),S.outlet,S.component,S)}(w.value),j=w.children.map(ge=>Pn(S,ge));return new fr(O,j)}}function Fr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function zr(S){return"object"==typeof S&&null!=S&&S.outlets}function ni(S,w,E,O,j){let ge={};if(O&&dn(O,(Ze,Xt)=>{ge[Xt]=Array.isArray(Ze)?Ze.map(er=>`${er}`):`${Ze}`}),S===w)return new Me(E,ge,j);const qe=vi(S,w,E);return new Me(qe,ge,j)}function vi(S,w,E){const O={};return dn(S.children,(j,ge)=>{O[ge]=j===w?E:vi(j,w,E)}),new Te(S.segments,O)}class Qr{constructor(w,E,O){if(this.isAbsolute=w,this.numberOfDoubleDots=E,this.commands=O,w&&O.length>0&&Fr(O[0]))throw new Error("Root segment cannot have matrix parameters");const j=O.find(zr);if(j&&j!==Nn(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ni{constructor(w,E,O){this.segmentGroup=w,this.processChildren=E,this.index=O}}function mi(S,w,E){if(S||(S=new Te([],{})),0===S.segments.length&&S.hasChildren())return Xr(S,w,E);const O=function ki(S,w,E){let O=0,j=w;const ge={match:!1,pathIndex:0,commandIndex:0};for(;j<S.segments.length;){if(O>=E.length)return ge;const qe=S.segments[j],Ze=E[O];if(zr(Ze))break;const Xt=`${Ze}`,er=O<E.length-1?E[O+1]:null;if(j>0&&void 0===Xt)break;if(Xt&&er&&"object"==typeof er&&void 0===er.outlets){if(!si(Xt,er,qe))return ge;O+=2}else{if(!si(Xt,{},qe))return ge;O++}j++}return{match:!0,pathIndex:j,commandIndex:O}}(S,w,E),j=E.slice(O.commandIndex);if(O.match&&O.pathIndex<S.segments.length){const ge=new Te(S.segments.slice(0,O.pathIndex),{});return ge.children[$e]=new Te(S.segments.slice(O.pathIndex),S.children),Xr(ge,0,j)}return O.match&&0===j.length?new Te(S.segments,{}):O.match&&!S.hasChildren()?Si(S,w,E):O.match?Xr(S,0,j):Si(S,w,E)}function Xr(S,w,E){if(0===E.length)return new Te(S.segments,{});{const O=function Ti(S){return zr(S[0])?S[0].outlets:{[$e]:S}}(E),j={};return dn(O,(ge,qe)=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(j[qe]=mi(S.children[qe],w,ge))}),dn(S.children,(ge,qe)=>{void 0===O[qe]&&(j[qe]=ge)}),new Te(S.segments,j)}}function Si(S,w,E){const O=S.segments.slice(0,w);let j=0;for(;j<E.length;){const ge=E[j];if(zr(ge)){const Xt=ps(ge.outlets);return new Te(O,Xt)}if(0===j&&Fr(E[0])){O.push(new wt(S.segments[w].path,ri(E[0]))),j++;continue}const qe=zr(ge)?ge.outlets[$e]:`${ge}`,Ze=j<E.length-1?E[j+1]:null;qe&&Ze&&Fr(Ze)?(O.push(new wt(qe,ri(Ze))),j+=2):(O.push(new wt(qe,{})),j++)}return new Te(O,{})}function ps(S){const w={};return dn(S,(E,O)=>{"string"==typeof E&&(E=[E]),null!==E&&(w[O]=Si(new Te([],{}),0,E))}),w}function ri(S){const w={};return dn(S,(E,O)=>w[O]=`${E}`),w}function si(S,w,E){return S==E.path&&mr(w,E.parameters)}class Ai{constructor(w,E,O,j){this.routeReuseStrategy=w,this.futureState=E,this.currState=O,this.forwardEvent=j}activate(w){const E=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,O,w),yt(this.futureState.root),this.activateChildRoutes(E,O,w)}deactivateChildRoutes(w,E,O){const j=Cr(E);w.children.forEach(ge=>{const qe=ge.value.outlet;this.deactivateRoutes(ge,j[qe],O),delete j[qe]}),dn(j,(ge,qe)=>{this.deactivateRouteAndItsChildren(ge,O)})}deactivateRoutes(w,E,O){const j=w.value,ge=E?E.value:null;if(j===ge)if(j.component){const qe=O.getContext(j.outlet);qe&&this.deactivateChildRoutes(w,E,qe.children)}else this.deactivateChildRoutes(w,E,O);else ge&&this.deactivateRouteAndItsChildren(E,O)}deactivateRouteAndItsChildren(w,E){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,E):this.deactivateRouteAndOutlet(w,E)}detachAndStoreRouteSubtree(w,E){const O=E.getContext(w.value.outlet),j=O&&w.value.component?O.children:E,ge=Cr(w);for(const qe of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[qe],j);if(O&&O.outlet){const qe=O.outlet.detach(),Ze=O.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:qe,route:w,contexts:Ze})}}deactivateRouteAndOutlet(w,E){const O=E.getContext(w.value.outlet),j=O&&w.value.component?O.children:E,ge=Cr(w);for(const qe of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[qe],j);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(w,E,O){const j=Cr(E);w.children.forEach(ge=>{this.activateRoutes(ge,j[ge.value.outlet],O),this.forwardEvent(new Mt(ge.value.snapshot))}),w.children.length&&this.forwardEvent(new cr(w.value.snapshot))}activateRoutes(w,E,O){const j=w.value,ge=E?E.value:null;if(yt(j),j===ge)if(j.component){const qe=O.getOrCreateContext(j.outlet);this.activateChildRoutes(w,E,qe.children)}else this.activateChildRoutes(w,E,O);else if(j.component){const qe=O.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ze=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),qe.children.onOutletReAttached(Ze.contexts),qe.attachRef=Ze.componentRef,qe.route=Ze.route.value,qe.outlet&&qe.outlet.attach(Ze.componentRef,Ze.route.value),yt(Ze.route.value),this.activateChildRoutes(w,null,qe.children)}else{const Ze=function ls(S){for(let w=S.parent;w;w=w.parent){const E=w.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(j.snapshot),Xt=Ze?Ze.module.componentFactoryResolver:null;qe.attachRef=null,qe.route=j,qe.resolver=Xt,qe.outlet&&qe.outlet.activateWith(j,Xt),this.activateChildRoutes(w,null,qe.children)}}else this.activateChildRoutes(w,null,O)}}class oi{constructor(w,E){this.routes=w,this.module=E}}function Ur(S){return"function"==typeof S}function Jr(S){return S instanceof Me}const $=Symbol("INITIAL_VALUE");function F(){return(0,Ut.w)(S=>(0,he.aj)(S.map(w=>w.pipe((0,Lt.q)(1),(0,_t.O)($)))).pipe((0,ve.R)((w,E)=>{let O=!1;return E.reduce((j,ge,qe)=>j!==$?j:(ge===$&&(O=!0),O||!1!==ge&&qe!==E.length-1&&!Jr(ge)?j:ge),w)},$),(0,be.h)(w=>w!==$),(0,je.U)(w=>Jr(w)?w:!0===w),(0,Lt.q)(1)))}class Ce{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ve,this.attachRef=null}}class Ve{constructor(){this.contexts=new Map}onChildOutletCreated(w,E){const O=this.getOrCreateContext(w);O.outlet=E,this.contexts.set(w,O)}onChildOutletDestroyed(w){const E=this.getContext(w);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let E=this.getContext(w);return E||(E=new Ce,this.contexts.set(w,E)),E}getContext(w){return this.contexts.get(w)||null}}let lt=(()=>{class S{constructor(E,O,j,ge,qe){this.parentContexts=E,this.location=O,this.resolver=j,this.changeDetector=qe,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=ge||$e,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,O){this.activated=E,this._activatedRoute=O,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const qe=(O=O||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),Ze=this.parentContexts.getOrCreateContext(this.name).children,Xt=new Ct(E,Ze,this.location.injector);this.activated=this.location.createComponent(qe,this.location.length,Xt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(E){return new(E||S)(a.Y36(Ve),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},S.\u0275dir=a.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),S})();class Ct{constructor(w,E,O){this.route=w,this.childContexts=E,this.parent=O}get(w,E){return w===U?this.route:w===Ve?this.childContexts:this.parent.get(w,E)}}let ln=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275cmp=a.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,O){1&E&&a._UZ(0,"router-outlet")},directives:[lt],encapsulation:2}),S})();function Fn(S,w=""){for(let E=0;E<S.length;E++){const O=S[E];kn(O,hr(w,O))}}function kn(S,w){S.children&&Fn(S.children,w)}function hr(S,w){return w?S||w.path?S&&!w.path?`${S}/`:!S&&w.path?w.path:`${S}/${w.path}`:"":S}function br(S){const w=S.children&&S.children.map(br),E=w?Object.assign(Object.assign({},S),{children:w}):Object.assign({},S);return!E.component&&(w||E.loadChildren)&&E.outlet&&E.outlet!==$e&&(E.component=ln),E}function wr(S){return S.outlet||$e}function k(S,w){const E=S.filter(O=>wr(O)===w);return E.push(...S.filter(O=>wr(O)!==w)),E}const X={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d(S,w,E){var O;if(""===w.path)return"full"===w.pathMatch&&(S.hasChildren()||E.length>0)?Object.assign({},X):{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const ge=(w.matcher||Wn)(E,S,w);if(!ge)return Object.assign({},X);const qe={};dn(ge.posParams,(Xt,er)=>{qe[er]=Xt.path});const Ze=ge.consumed.length>0?Object.assign(Object.assign({},qe),ge.consumed[ge.consumed.length-1].parameters):qe;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:E.slice(ge.consumed.length),parameters:Ze,positionalParamSegments:null!==(O=ge.posParams)&&void 0!==O?O:{}}}function _(S,w,E,O,j="corrected"){if(E.length>0&&function z(S,w,E){return E.some(O=>nn(S,w,O)&&wr(O)!==$e)}(S,E,O)){const qe=new Te(w,function C(S,w,E,O){const j={};j[$e]=O,O._sourceSegment=S,O._segmentIndexShift=w.length;for(const ge of E)if(""===ge.path&&wr(ge)!==$e){const qe=new Te([],{});qe._sourceSegment=S,qe._segmentIndexShift=w.length,j[wr(ge)]=qe}return j}(S,w,O,new Te(E,S.children)));return qe._sourceSegment=S,qe._segmentIndexShift=w.length,{segmentGroup:qe,slicedSegments:[]}}if(0===E.length&&function dt(S,w,E){return E.some(O=>nn(S,w,O))}(S,E,O)){const qe=new Te(S.segments,function g(S,w,E,O,j,ge){const qe={};for(const Ze of O)if(nn(S,E,Ze)&&!j[wr(Ze)]){const Xt=new Te([],{});Xt._sourceSegment=S,Xt._segmentIndexShift="legacy"===ge?S.segments.length:w.length,qe[wr(Ze)]=Xt}return Object.assign(Object.assign({},j),qe)}(S,w,E,O,S.children,j));return qe._sourceSegment=S,qe._segmentIndexShift=w.length,{segmentGroup:qe,slicedSegments:E}}const ge=new Te(S.segments,S.children);return ge._sourceSegment=S,ge._segmentIndexShift=w.length,{segmentGroup:ge,slicedSegments:E}}function nn(S,w,E){return(!(S.hasChildren()||w.length>0)||"full"!==E.pathMatch)&&""===E.path}function hn(S,w,E,O){return!!(wr(S)===O||O!==$e&&nn(w,E,S))&&("**"===S.path||d(w,S,E).matched)}function Un(S,w,E){return 0===w.length&&!S.children[E]}class jn{constructor(w){this.segmentGroup=w||null}}class Dr{constructor(w){this.urlTree=w}}function sr(S){return(0,fe._)(new jn(S))}function kr(S){return(0,fe._)(new Dr(S))}class wi{constructor(w,E,O,j,ge){this.configLoader=E,this.urlSerializer=O,this.urlTree=j,this.config=ge,this.allowRedirects=!0,this.ngModule=w.get(a.h0i)}apply(){const w=_(this.urlTree.root,[],[],this.config).segmentGroup,E=new Te(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,E,$e).pipe((0,je.U)(ge=>this.createUrlTree(x(ge),this.urlTree.queryParams,this.urlTree.fragment))).pipe(le(ge=>{if(ge instanceof Dr)return this.allowRedirects=!1,this.match(ge.urlTree);throw ge instanceof jn?this.noMatchError(ge):ge}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,$e).pipe((0,je.U)(j=>this.createUrlTree(x(j),w.queryParams,w.fragment))).pipe(le(j=>{throw j instanceof jn?this.noMatchError(j):j}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,E,O){const j=w.segments.length>0?new Te([],{[$e]:w}):w;return new Me(j,E,O)}expandSegmentGroup(w,E,O,j){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(w,E,O).pipe((0,je.U)(ge=>new Te([],ge))):this.expandSegment(w,O,E,O.segments,j,!0)}expandChildren(w,E,O){const j=[];for(const ge of Object.keys(O.children))"primary"===ge?j.unshift(ge):j.push(ge);return(0,P.D)(j).pipe((0,Z.b)(ge=>{const qe=O.children[ge],Ze=k(E,ge);return this.expandSegmentGroup(w,Ze,qe,ge).pipe((0,je.U)(Xt=>({segment:Xt,outlet:ge})))}),(0,ve.R)((ge,qe)=>(ge[qe.outlet]=qe.segment,ge),{}),function Ue(S,w){const E=arguments.length>=2;return O=>O.pipe(S?(0,be.h)((j,ge)=>S(j,ge,O)):ht.y,ke(1),E?(0,Ge.d)(w):(0,xt.T)(()=>new se.K))}())}expandSegment(w,E,O,j,ge,qe){return(0,P.D)(O).pipe((0,Z.b)(Ze=>this.expandSegmentAgainstRoute(w,E,O,Ze,j,ge,qe).pipe(le(er=>{if(er instanceof jn)return(0,L.of)(null);throw er}))),(0,ue.P)(Ze=>!!Ze),le((Ze,Xt)=>{if(Ze instanceof se.K||"EmptyError"===Ze.name)return Un(E,j,ge)?(0,L.of)(new Te([],{})):sr(E);throw Ze}))}expandSegmentAgainstRoute(w,E,O,j,ge,qe,Ze){return hn(j,E,ge,qe)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(w,E,j,ge,qe):Ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,E,O,j,ge,qe):sr(E):sr(E)}expandSegmentAgainstRouteUsingRedirect(w,E,O,j,ge,qe){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,O,j,qe):this.expandRegularSegmentAgainstRouteUsingRedirect(w,E,O,j,ge,qe)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,E,O,j){const ge=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?kr(ge):this.lineralizeSegments(O,ge).pipe((0,Se.zg)(qe=>{const Ze=new Te(qe,{});return this.expandSegment(w,Ze,E,qe,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,E,O,j,ge,qe){const{matched:Ze,consumedSegments:Xt,remainingSegments:er,positionalParamSegments:Vr}=d(E,j,ge);if(!Ze)return sr(E);const yr=this.applyRedirectCommands(Xt,j.redirectTo,Vr);return j.redirectTo.startsWith("/")?kr(yr):this.lineralizeSegments(j,yr).pipe((0,Se.zg)(gr=>this.expandSegment(w,E,O,gr.concat(er),qe,!1)))}matchSegmentAgainstRoute(w,E,O,j,ge){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,L.of)(O._loadedConfig):this.configLoader.load(w.injector,O)).pipe((0,je.U)(yr=>(O._loadedConfig=yr,new Te(j,{})))):(0,L.of)(new Te(j,{}));const{matched:qe,consumedSegments:Ze,remainingSegments:Xt}=d(E,O,j);return qe?this.getChildConfig(w,O,j).pipe((0,Se.zg)(Vr=>{const yr=Vr.module,gr=Vr.routes,{segmentGroup:Hr,slicedSegments:Gr}=_(E,Ze,Xt,gr),gs=new Te(Hr.segments,Hr.children);if(0===Gr.length&&gs.hasChildren())return this.expandChildren(yr,gr,gs).pipe((0,je.U)(Vs=>new Te(Ze,Vs)));if(0===gr.length&&0===Gr.length)return(0,L.of)(new Te(Ze,{}));const Jo=wr(O)===ge;return this.expandSegment(yr,gs,gr,Gr,Jo?$e:ge,!0).pipe((0,je.U)(Cs=>new Te(Ze.concat(Cs.segments),Cs.children)))})):sr(E)}getChildConfig(w,E,O){return E.children?(0,L.of)(new oi(E.children,w)):E.loadChildren?void 0!==E._loadedConfig?(0,L.of)(E._loadedConfig):this.runCanLoadGuards(w.injector,E,O).pipe((0,Se.zg)(j=>j?this.configLoader.load(w.injector,E).pipe((0,je.U)(ge=>(E._loadedConfig=ge,ge))):function _i(S){return(0,fe._)(Kt(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`))}(E))):(0,L.of)(new oi([],w))}runCanLoadGuards(w,E,O){const j=E.canLoad;if(!j||0===j.length)return(0,L.of)(!0);const ge=j.map(qe=>{const Ze=w.get(qe);let Xt;if(function tt(S){return S&&Ur(S.canLoad)}(Ze))Xt=Ze.canLoad(E,O);else{if(!Ur(Ze))throw new Error("Invalid CanLoad guard");Xt=Ze(E,O)}return Nt(Xt)});return(0,L.of)(ge).pipe(F(),(0,ce.b)(qe=>{if(!Jr(qe))return;const Ze=Kt(`Redirecting to "${this.urlSerializer.serialize(qe)}"`);throw Ze.url=qe,Ze}),(0,je.U)(qe=>!0===qe))}lineralizeSegments(w,E){let O=[],j=E.root;for(;;){if(O=O.concat(j.segments),0===j.numberOfChildren)return(0,L.of)(O);if(j.numberOfChildren>1||!j.children[$e])return(0,fe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));j=j.children[$e]}}applyRedirectCommands(w,E,O){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),w,O)}applyRedirectCreatreUrlTree(w,E,O,j){const ge=this.createSegmentGroup(w,E.root,O,j);return new Me(ge,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(w,E){const O={};return dn(w,(j,ge)=>{if("string"==typeof j&&j.startsWith(":")){const Ze=j.substring(1);O[ge]=E[Ze]}else O[ge]=j}),O}createSegmentGroup(w,E,O,j){const ge=this.createSegments(w,E.segments,O,j);let qe={};return dn(E.children,(Ze,Xt)=>{qe[Xt]=this.createSegmentGroup(w,Ze,O,j)}),new Te(ge,qe)}createSegments(w,E,O,j){return E.map(ge=>ge.path.startsWith(":")?this.findPosParam(w,ge,j):this.findOrReturn(ge,O))}findPosParam(w,E,O){const j=O[E.path.substring(1)];if(!j)throw new Error(`Cannot redirect to '${w}'. Cannot find '${E.path}'.`);return j}findOrReturn(w,E){let O=0;for(const j of E){if(j.path===w.path)return E.splice(O),j;O++}return w}}function x(S){const w={};for(const O of Object.keys(S.children)){const ge=x(S.children[O]);(ge.segments.length>0||ge.hasChildren())&&(w[O]=ge)}return function B(S){if(1===S.numberOfChildren&&S.children[$e]){const w=S.children[$e];return new Te(S.segments.concat(w.segments),w.children)}return S}(new Te(S.segments,w))}class pe{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Wt{constructor(w,E){this.component=w,this.route=E}}function Xn(S,w,E){const O=S._root;return sn(O,w?w._root:null,E,[O.value])}function Nr(S,w,E){const O=function _s(S){if(!S)return null;for(let w=S.parent;w;w=w.parent){const E=w.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(w);return(O?O.module.injector:E).get(S)}function sn(S,w,E,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const ge=Cr(w);return S.children.forEach(qe=>{(function Pr(S,w,E,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const ge=S.value,qe=w?w.value:null,Ze=E?E.getContext(S.value.outlet):null;if(qe&&ge.routeConfig===qe.routeConfig){const Xt=function ks(S,w,E){if("function"==typeof E)return E(S,w);switch(E){case"pathParamsChange":return!vn(S.url,w.url);case"pathParamsOrQueryParamsChange":return!vn(S.url,w.url)||!mr(S.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$t(S,w)||!mr(S.queryParams,w.queryParams);default:return!$t(S,w)}}(qe,ge,ge.routeConfig.runGuardsAndResolvers);Xt?j.canActivateChecks.push(new pe(O)):(ge.data=qe.data,ge._resolvedData=qe._resolvedData),sn(S,w,ge.component?Ze?Ze.children:null:E,O,j),Xt&&Ze&&Ze.outlet&&Ze.outlet.isActivated&&j.canDeactivateChecks.push(new Wt(Ze.outlet.component,qe))}else qe&&ii(w,Ze,j),j.canActivateChecks.push(new pe(O)),sn(S,null,ge.component?Ze?Ze.children:null:E,O,j)})(qe,ge[qe.value.outlet],E,O.concat([qe.value]),j),delete ge[qe.value.outlet]}),dn(ge,(qe,Ze)=>ii(qe,E.getContext(Ze),j)),j}function ii(S,w,E){const O=Cr(S),j=S.value;dn(O,(ge,qe)=>{ii(ge,j.component?w?w.children.getContext(qe):null:w,E)}),E.canDeactivateChecks.push(new Wt(j.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,j))}class rt{}function It(S){return new W.y(w=>w.error(S))}class tr{constructor(w,E,O,j,ge,qe){this.rootComponentType=w,this.config=E,this.urlTree=O,this.url=j,this.paramsInheritanceStrategy=ge,this.relativeLinkResolution=qe}recognize(){const w=_(this.urlTree.root,[],[],this.config.filter(qe=>void 0===qe.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,w,$e);if(null===E)return null;const O=new De([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new fr(O,E),ge=new Je(this.url,j);return this.inheritParamsAndData(ge._root),ge}inheritParamsAndData(w){const E=w.value,O=V(E,this.paramsInheritanceStrategy);E.params=Object.freeze(O.params),E.data=Object.freeze(O.data),w.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(w,E,O){return 0===E.segments.length&&E.hasChildren()?this.processChildren(w,E):this.processSegment(w,E,E.segments,O)}processChildren(w,E){const O=[];for(const ge of Object.keys(E.children)){const qe=E.children[ge],Ze=k(w,ge),Xt=this.processSegmentGroup(Ze,qe,ge);if(null===Xt)return null;O.push(...Xt)}const j=Ii(O);return function xr(S){S.sort((w,E)=>w.value.outlet===$e?-1:E.value.outlet===$e?1:w.value.outlet.localeCompare(E.value.outlet))}(j),j}processSegment(w,E,O,j){for(const ge of w){const qe=this.processSegmentAgainstRoute(ge,E,O,j);if(null!==qe)return qe}return Un(E,O,j)?[]:null}processSegmentAgainstRoute(w,E,O,j){if(w.redirectTo||!hn(w,E,O,j))return null;let ge,qe=[],Ze=[];if("**"===w.path){const Hr=O.length>0?Nn(O).parameters:{};ge=new De(O,Hr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,To(w),wr(w),w.component,w,Zs(E),Fs(E)+O.length,So(w))}else{const Hr=d(E,w,O);if(!Hr.matched)return null;qe=Hr.consumedSegments,Ze=Hr.remainingSegments,ge=new De(qe,Hr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,To(w),wr(w),w.component,w,Zs(E),Fs(E)+qe.length,So(w))}const Xt=function qr(S){return S.children?S.children:S.loadChildren?S._loadedConfig.routes:[]}(w),{segmentGroup:er,slicedSegments:Vr}=_(E,qe,Ze,Xt.filter(Hr=>void 0===Hr.redirectTo),this.relativeLinkResolution);if(0===Vr.length&&er.hasChildren()){const Hr=this.processChildren(Xt,er);return null===Hr?null:[new fr(ge,Hr)]}if(0===Xt.length&&0===Vr.length)return[new fr(ge,[])];const yr=wr(w)===j,gr=this.processSegment(Xt,er,Vr,yr?$e:j);return null===gr?null:[new fr(ge,gr)]}}function is(S){const w=S.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Ii(S){const w=[],E=new Set;for(const O of S){if(!is(O)){w.push(O);continue}const j=w.find(ge=>O.value.routeConfig===ge.value.routeConfig);void 0!==j?(j.children.push(...O.children),E.add(j)):w.push(O)}for(const O of E){const j=Ii(O.children);w.push(new fr(O.value,j))}return w.filter(O=>!E.has(O))}function Zs(S){let w=S;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Fs(S){let w=S,E=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,E+=w._segmentIndexShift?w._segmentIndexShift:0;return E-1}function To(S){return S.data||{}}function So(S){return S.resolve||{}}function Ca(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function ws(S){return(0,Ut.w)(w=>{const E=S(w);return E?(0,P.D)(E).pipe((0,je.U)(()=>w)):(0,L.of)(w)})}class Da{}class Ul extends class Ta{shouldDetach(w){return!1}store(w,E){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,E){return w.routeConfig===E.routeConfig}}{}const Sa=new a.OlP("ROUTES");class Fi{constructor(w,E,O,j){this.injector=w,this.compiler=E,this.onLoadStartListener=O,this.onLoadEndListener=j}load(w,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const j=this.loadModuleFactory(E.loadChildren).pipe((0,je.U)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(E);const qe=ge.create(w);return new oi(bn(qe.injector.get(Sa,void 0,a.XFs.Self|a.XFs.Optional)).map(br),qe)}),le(ge=>{throw E._loader$=void 0,ge}));return E._loader$=new we.c(j,()=>new oe.xQ).pipe((0,st.x)()),E._loader$}loadModuleFactory(w){return Nt(w()).pipe((0,Se.zg)(E=>E instanceof a.YKP?(0,L.of)(E):(0,P.D)(this.compiler.compileModuleAsync(E))))}}class Ei{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,E){return w}}function jl(S){throw S}function Js(S,w,E){return w.parse("/")}function Qs(S,w){return(0,L.of)(null)}const du={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class S{constructor(E,O,j,ge,qe,Ze,Xt){this.rootComponentType=E,this.urlSerializer=O,this.rootContexts=j,this.location=ge,this.config=Xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new oe.xQ,this.errorHandler=jl,this.malformedUriErrorHandler=Js,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qs,afterPreactivation:Qs},this.urlHandlingStrategy=new Ei,this.routeReuseStrategy=new Ul,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=qe.get(a.h0i),this.console=qe.get(a.c2e);const yr=qe.get(a.R0b);this.isNgZoneEnabled=yr instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(Xt),this.currentUrlTree=function Dt(){return new Me(new Te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fi(qe,Ze,gr=>this.triggerEvent(new Hn(gr)),gr=>this.triggerEvent(new Vn(gr))),this.routerState=Rr(this.currentUrlTree,this.rootComponentType),this.transitions=new Y.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const O=this.events;return E.pipe((0,be.h)(j=>0!==j.id),(0,je.U)(j=>Object.assign(Object.assign({},j),{extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,Ut.w)(j=>{let ge=!1,qe=!1;return(0,L.of)(j).pipe((0,ce.b)(Ze=>{this.currentNavigation={id:Ze.id,initialUrl:Ze.currentRawUrl,extractedUrl:Ze.extractedUrl,trigger:Ze.source,extras:Ze.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ut.w)(Ze=>{const Xt=this.browserUrlTree.toString(),er=!this.navigated||Ze.extractedUrl.toString()!==Xt||Xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||er)&&this.urlHandlingStrategy.shouldProcessUrl(Ze.rawUrl))return Ao(Ze.source)&&(this.browserUrlTree=Ze.extractedUrl),(0,L.of)(Ze).pipe((0,Ut.w)(yr=>{const gr=this.transitions.getValue();return O.next(new an(yr.id,this.serializeUrl(yr.extractedUrl),yr.source,yr.restoredState)),gr!==this.transitions.getValue()?re.E:Promise.resolve(yr)}),function R(S,w,E,O){return(0,Ut.w)(j=>function ei(S,w,E,O,j){return new wi(S,w,E,O,j).apply()}(S,w,E,j.extractedUrl,O).pipe((0,je.U)(ge=>Object.assign(Object.assign({},j),{urlAfterRedirects:ge}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ce.b)(yr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:yr.urlAfterRedirects})}),function Ko(S,w,E,O,j){return(0,Se.zg)(ge=>function An(S,w,E,O,j="emptyOnly",ge="legacy"){try{const qe=new tr(S,w,E,O,j,ge).recognize();return null===qe?It(new rt):(0,L.of)(qe)}catch(qe){return It(qe)}}(S,w,ge.urlAfterRedirects,E(ge.urlAfterRedirects),O,j).pipe((0,je.U)(qe=>Object.assign(Object.assign({},ge),{targetSnapshot:qe}))))}(this.rootComponentType,this.config,yr=>this.serializeUrl(yr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ce.b)(yr=>{if("eager"===this.urlUpdateStrategy){if(!yr.extras.skipLocationChange){const Hr=this.urlHandlingStrategy.merge(yr.urlAfterRedirects,yr.rawUrl);this.setBrowserUrl(Hr,yr)}this.browserUrlTree=yr.urlAfterRedirects}const gr=new nr(yr.id,this.serializeUrl(yr.extractedUrl),this.serializeUrl(yr.urlAfterRedirects),yr.targetSnapshot);O.next(gr)}));if(er&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:gr,extractedUrl:Hr,source:Gr,restoredState:gs,extras:Jo}=Ze,bi=new an(gr,this.serializeUrl(Hr),Gr,gs);O.next(bi);const Cs=Rr(Hr,this.rootComponentType).snapshot;return(0,L.of)(Object.assign(Object.assign({},Ze),{targetSnapshot:Cs,urlAfterRedirects:Hr,extras:Object.assign(Object.assign({},Jo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ze.rawUrl,Ze.resolve(null),re.E}),ws(Ze=>{const{targetSnapshot:Xt,id:er,extractedUrl:Vr,rawUrl:yr,extras:{skipLocationChange:gr,replaceUrl:Hr}}=Ze;return this.hooks.beforePreactivation(Xt,{navigationId:er,appliedUrlTree:Vr,rawUrlTree:yr,skipLocationChange:!!gr,replaceUrl:!!Hr})}),(0,ce.b)(Ze=>{const Xt=new lr(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(Xt)}),(0,je.U)(Ze=>Object.assign(Object.assign({},Ze),{guards:Xn(Ze.targetSnapshot,Ze.currentSnapshot,this.rootContexts)})),function Do(S,w){return(0,Se.zg)(E=>{const{targetSnapshot:O,currentSnapshot:j,guards:{canActivateChecks:ge,canDeactivateChecks:qe}}=E;return 0===qe.length&&0===ge.length?(0,L.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function Es(S,w,E,O){return(0,P.D)(S).pipe((0,Se.zg)(j=>function te(S,w,E,O,j){const ge=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!ge||0===ge.length)return(0,L.of)(!0);const qe=ge.map(Ze=>{const Xt=Nr(Ze,w,j);let er;if(function Bt(S){return S&&Ur(S.canDeactivate)}(Xt))er=Nt(Xt.canDeactivate(S,w,E,O));else{if(!Ur(Xt))throw new Error("Invalid CanDeactivate guard");er=Nt(Xt(S,w,E,O))}return er.pipe((0,ue.P)())});return(0,L.of)(qe).pipe(F())}(j.component,j.route,E,w,O)),(0,ue.P)(j=>!0!==j,!0))}(qe,O,j,S).pipe((0,Se.zg)(Ze=>Ze&&function ji(S){return"boolean"==typeof S}(Ze)?function cs(S,w,E,O){return(0,P.D)(w).pipe((0,Z.b)(j=>(0,q.z)(function Ys(S,w){return null!==S&&w&&w(new Zt(S)),(0,L.of)(!0)}(j.route.parent,O),function Ks(S,w){return null!==S&&w&&w(new ar(S)),(0,L.of)(!0)}(j.route,O),function me(S,w,E){const O=w[w.length-1],ge=w.slice(0,w.length-1).reverse().map(qe=>function ai(S){const w=S.routeConfig?S.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:S,guards:w}:null}(qe)).filter(qe=>null!==qe).map(qe=>(0,ee.P)(()=>{const Ze=qe.guards.map(Xt=>{const er=Nr(Xt,qe.node,E);let Vr;if(function at(S){return S&&Ur(S.canActivateChild)}(er))Vr=Nt(er.canActivateChild(O,S));else{if(!Ur(er))throw new Error("Invalid CanActivateChild guard");Vr=Nt(er(O,S))}return Vr.pipe((0,ue.P)())});return(0,L.of)(Ze).pipe(F())}));return(0,L.of)(ge).pipe(F())}(S,j.path,E),function Ee(S,w,E){const O=w.routeConfig?w.routeConfig.canActivate:null;if(!O||0===O.length)return(0,L.of)(!0);const j=O.map(ge=>(0,ee.P)(()=>{const qe=Nr(ge,w,E);let Ze;if(function We(S){return S&&Ur(S.canActivate)}(qe))Ze=Nt(qe.canActivate(w,S));else{if(!Ur(qe))throw new Error("Invalid CanActivate guard");Ze=Nt(qe(w,S))}return Ze.pipe((0,ue.P)())}));return(0,L.of)(j).pipe(F())}(S,j.route,E))),(0,ue.P)(j=>!0!==j,!0))}(O,ge,S,w):(0,L.of)(Ze)),(0,je.U)(Ze=>Object.assign(Object.assign({},E),{guardsResult:Ze})))})}(this.ngModule.injector,Ze=>this.triggerEvent(Ze)),(0,ce.b)(Ze=>{if(Jr(Ze.guardsResult)){const er=Kt(`Redirecting to "${this.serializeUrl(Ze.guardsResult)}"`);throw er.url=Ze.guardsResult,er}const Xt=new Jn(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot,!!Ze.guardsResult);this.triggerEvent(Xt)}),(0,be.h)(Ze=>!!Ze.guardsResult||(this.restoreHistory(Ze),this.cancelNavigationTransition(Ze,""),!1)),ws(Ze=>{if(Ze.guards.canActivateChecks.length)return(0,L.of)(Ze).pipe((0,ce.b)(Xt=>{const er=new rr(Xt.id,this.serializeUrl(Xt.extractedUrl),this.serializeUrl(Xt.urlAfterRedirects),Xt.targetSnapshot);this.triggerEvent(er)}),(0,Ut.w)(Xt=>{let er=!1;return(0,L.of)(Xt).pipe(function Xs(S,w){return(0,Se.zg)(E=>{const{targetSnapshot:O,guards:{canActivateChecks:j}}=E;if(!j.length)return(0,L.of)(E);let ge=0;return(0,P.D)(j).pipe((0,Z.b)(qe=>function Ia(S,w,E,O){return function ro(S,w,E,O){const j=Ca(S);if(0===j.length)return(0,L.of)({});const ge={};return(0,P.D)(j).pipe((0,Se.zg)(qe=>function cu(S,w,E,O){const j=Nr(S,w,O);return Nt(j.resolve?j.resolve(w,E):j(w,E))}(S[qe],w,E,O).pipe((0,ce.b)(Ze=>{ge[qe]=Ze}))),ke(1),(0,Se.zg)(()=>Ca(ge).length===j.length?(0,L.of)(ge):re.E))}(S._resolve,S,w,O).pipe((0,je.U)(ge=>(S._resolvedData=ge,S.data=Object.assign(Object.assign({},S.data),V(S,E).resolve),null)))}(qe.route,O,S,w)),(0,ce.b)(()=>ge++),ke(1),(0,Se.zg)(qe=>ge===j.length?(0,L.of)(E):re.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ce.b)({next:()=>er=!0,complete:()=>{er||(this.restoreHistory(Xt),this.cancelNavigationTransition(Xt,"At least one route resolver didn't emit any value."))}}))}),(0,ce.b)(Xt=>{const er=new or(Xt.id,this.serializeUrl(Xt.extractedUrl),this.serializeUrl(Xt.urlAfterRedirects),Xt.targetSnapshot);this.triggerEvent(er)}))}),ws(Ze=>{const{targetSnapshot:Xt,id:er,extractedUrl:Vr,rawUrl:yr,extras:{skipLocationChange:gr,replaceUrl:Hr}}=Ze;return this.hooks.afterPreactivation(Xt,{navigationId:er,appliedUrlTree:Vr,rawUrlTree:yr,skipLocationChange:!!gr,replaceUrl:!!Hr})}),(0,je.U)(Ze=>{const Xt=function wn(S,w,E){const O=Pn(S,w._root,E?E._root:void 0);return new Br(O,w)}(this.routeReuseStrategy,Ze.targetSnapshot,Ze.currentRouterState);return Object.assign(Object.assign({},Ze),{targetRouterState:Xt})}),(0,ce.b)(Ze=>{this.currentUrlTree=Ze.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ze.urlAfterRedirects,Ze.rawUrl),this.routerState=Ze.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ze.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ze),this.browserUrlTree=Ze.urlAfterRedirects)}),((S,w,E)=>(0,je.U)(O=>(new Ai(w,O.targetRouterState,O.currentRouterState,E).activate(S),O)))(this.rootContexts,this.routeReuseStrategy,Ze=>this.triggerEvent(Ze)),(0,ce.b)({next(){ge=!0},complete(){ge=!0}}),function Le(S){return w=>w.lift(new Re(S))}(()=>{var Ze;ge||qe||this.cancelNavigationTransition(j,`Navigation ID ${j.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ze=this.currentNavigation)||void 0===Ze?void 0:Ze.id)===j.id&&(this.currentNavigation=null)}),le(Ze=>{if(qe=!0,function Gn(S){return S&&S[zt]}(Ze)){const Xt=Jr(Ze.url);Xt||(this.navigated=!0,this.restoreHistory(j,!0));const er=new Jt(j.id,this.serializeUrl(j.extractedUrl),Ze.message);O.next(er),Xt?setTimeout(()=>{const Vr=this.urlHandlingStrategy.merge(Ze.url,this.rawUrlTree),yr={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ao(j.source)};this.scheduleNavigation(Vr,"imperative",null,yr,{resolve:j.resolve,reject:j.reject,promise:j.promise})},0):j.resolve(!1)}else{this.restoreHistory(j,!0);const Xt=new En(j.id,this.serializeUrl(j.extractedUrl),Ze);O.next(Xt);try{j.resolve(this.errorHandler(Ze))}catch(er){j.reject(er)}}return re.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const O="popstate"===E.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{var j;const ge={replaceUrl:!0},qe=(null===(j=E.state)||void 0===j?void 0:j.navigationId)?E.state:null;if(qe){const Xt=Object.assign({},qe);delete Xt.navigationId,delete Xt.\u0275routerPageId,0!==Object.keys(Xt).length&&(ge.state=Xt)}const Ze=this.parseUrl(E.url);this.scheduleNavigation(Ze,O,qe,ge)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){Fn(E),this.config=E.map(br),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,O={}){const{relativeTo:j,queryParams:ge,fragment:qe,queryParamsHandling:Ze,preserveFragment:Xt}=O,er=j||this.routerState.root,Vr=Xt?this.currentUrlTree.fragment:qe;let yr=null;switch(Ze){case"merge":yr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ge);break;case"preserve":yr=this.currentUrlTree.queryParams;break;default:yr=ge||null}return null!==yr&&(yr=this.removeEmptyProps(yr)),function ti(S,w,E,O,j){if(0===E.length)return ni(w.root,w.root,w.root,O,j);const ge=function Gi(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Qr(!0,0,S);let w=0,E=!1;const O=S.reduce((j,ge,qe)=>{if("object"==typeof ge&&null!=ge){if(ge.outlets){const Ze={};return dn(ge.outlets,(Xt,er)=>{Ze[er]="string"==typeof Xt?Xt.split("/"):Xt}),[...j,{outlets:Ze}]}if(ge.segmentPath)return[...j,ge.segmentPath]}return"string"!=typeof ge?[...j,ge]:0===qe?(ge.split("/").forEach((Ze,Xt)=>{0==Xt&&"."===Ze||(0==Xt&&""===Ze?E=!0:".."===Ze?w++:""!=Ze&&j.push(Ze))}),j):[...j,ge]},[]);return new Qr(E,w,O)}(E);if(ge.toRoot())return ni(w.root,w.root,new Te([],{}),O,j);const qe=function ui(S,w,E){if(S.isAbsolute)return new Ni(w.root,!0,0);if(-1===E.snapshot._lastPathIndex){const ge=E.snapshot._urlSegment;return new Ni(ge,ge===w.root,0)}const O=Fr(S.commands[0])?0:1;return function Ui(S,w,E){let O=S,j=w,ge=E;for(;ge>j;){if(ge-=j,O=O.parent,!O)throw new Error("Invalid number of '../'");j=O.segments.length}return new Ni(O,!1,j-ge)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+O,S.numberOfDoubleDots)}(ge,w,S),Ze=qe.processChildren?Xr(qe.segmentGroup,qe.index,ge.commands):mi(qe.segmentGroup,qe.index,ge.commands);return ni(w.root,qe.segmentGroup,Ze,O,j)}(er,this.currentUrlTree,E,yr,null!=Vr?Vr:null)}navigateByUrl(E,O={skipLocationChange:!1}){const j=Jr(E)?E:this.parseUrl(E),ge=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ge,"imperative",null,O)}navigate(E,O={skipLocationChange:!1}){return function Aa(S){for(let w=0;w<S.length;w++){const E=S[w];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${w}`)}}(E),this.navigateByUrl(this.createUrlTree(E,O),O)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let O;try{O=this.urlSerializer.parse(E)}catch(j){O=this.malformedUriErrorHandler(j,this.urlSerializer,E)}return O}isActive(E,O){let j;if(j=!0===O?Object.assign({},du):!1===O?Object.assign({},hu):O,Jr(E))return Kn(this.currentUrlTree,E,j);const ge=this.parseUrl(E);return Kn(this.currentUrlTree,ge,j)}removeEmptyProps(E){return Object.keys(E).reduce((O,j)=>{const ge=E[j];return null!=ge&&(O[j]=ge),O},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new tn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,O,j,ge,qe){var Ze,Xt;if(this.disposed)return Promise.resolve(!1);let er,Vr,yr;qe?(er=qe.resolve,Vr=qe.reject,yr=qe.promise):yr=new Promise((Gr,gs)=>{er=Gr,Vr=gs});const gr=++this.navigationId;let Hr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),Hr=j&&j.\u0275routerPageId?j.\u0275routerPageId:ge.replaceUrl||ge.skipLocationChange?null!==(Ze=this.browserPageId)&&void 0!==Ze?Ze:0:(null!==(Xt=this.browserPageId)&&void 0!==Xt?Xt:0)+1):Hr=0,this.setTransition({id:gr,targetPageId:Hr,source:O,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:ge,resolve:er,reject:Vr,promise:yr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yr.catch(Gr=>Promise.reject(Gr))}setBrowserUrl(E,O){const j=this.urlSerializer.serialize(E),ge=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(j)||O.extras.replaceUrl?this.location.replaceState(j,"",ge):this.location.go(j,"",ge)}restoreHistory(E,O=!1){var j,ge;if("computed"===this.canceledNavigationResolution){const qe=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)||0===qe?this.currentUrlTree===(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.finalUrl)&&0===qe&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(qe)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,O){const j=new Jt(E.id,this.serializeUrl(E.extractedUrl),O);this.triggerEvent(j),E.resolve(!1)}generateNgRouterState(E,O){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:O}:{navigationId:E}}}return S.\u0275fac=function(E){a.$Z()},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac}),S})();function Ao(S){return"imperative"!==S}let Ls=(()=>{class S{constructor(E,O,j,ge,qe){this.router=E,this.route=O,this.tabIndexAttribute=j,this.renderer=ge,this.el=qe,this.commands=null,this.onChanges=new oe.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const O=this.renderer,j=this.el.nativeElement;null!==E?O.setAttribute(j,"tabindex",E):O.removeAttribute(j,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:io(this.skipLocationChange),replaceUrl:io(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:io(this.preserveFragment)})}}return S.\u0275fac=function(E){return new(E||S)(a.Y36(ss),a.Y36(U),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},S.\u0275dir=a.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,O){1&E&&a.NdJ("click",function(){return O.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),S})();function io(S){return""===S||!!S}class bs{}class Bs{preload(w,E){return E().pipe(le(()=>(0,L.of)(null)))}}class xa{preload(w,E){return(0,L.of)(null)}}let Zo=(()=>{class S{constructor(E,O,j,ge){this.router=E,this.injector=j,this.preloadingStrategy=ge,this.loader=new Fi(j,O,Xt=>E.triggerEvent(new Hn(Xt)),Xt=>E.triggerEvent(new Vn(Xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,be.h)(E=>E instanceof tn),(0,Z.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(a.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,O){const j=[];for(const ge of O)if(ge.loadChildren&&!ge.canLoad&&ge._loadedConfig){const qe=ge._loadedConfig;j.push(this.processRoutes(qe.module,qe.routes))}else ge.loadChildren&&!ge.canLoad?j.push(this.preloadConfig(E,ge)):ge.children&&j.push(this.processRoutes(E,ge.children));return(0,P.D)(j).pipe((0,mt.J)(),(0,je.U)(ge=>{}))}preloadConfig(E,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,L.of)(O._loadedConfig):this.loader.load(E.injector,O)).pipe((0,Se.zg)(ge=>(O._loadedConfig=ge,this.processRoutes(ge.module,ge.routes)))))}}return S.\u0275fac=function(E){return new(E||S)(a.LFG(ss),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(bs))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac}),S})(),Dn=(()=>{class S{constructor(E,O,j={}){this.router=E,this.viewportScroller=O,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof an?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof tn&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ye&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,O){this.router.triggerEvent(new Ye(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(E){a.$Z()},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac}),S})();const ds=new a.OlP("ROUTER_CONFIGURATION"),fu=new a.OlP("ROUTER_FORROOT_GUARD"),pr=[Xe.Ye,{provide:gn,useClass:zn},{provide:ss,useFactory:function $s(S,w,E,O,j,ge,qe={},Ze,Xt){const er=new ss(null,S,w,E,O,j,bn(ge));return Ze&&(er.urlHandlingStrategy=Ze),Xt&&(er.routeReuseStrategy=Xt),function Hl(S,w){S.errorHandler&&(w.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(w.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(w.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(w.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(w.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(w.canceledNavigationResolution=S.canceledNavigationResolution)}(qe,er),qe.enableTracing&&er.events.subscribe(Vr=>{var yr,gr;null===(yr=console.group)||void 0===yr||yr.call(console,`Router Event: ${Vr.constructor.name}`),console.log(Vr.toString()),console.log(Vr),null===(gr=console.groupEnd)||void 0===gr||gr.call(console)}),er},deps:[gn,Ve,Xe.Ye,a.zs3,a.Sil,Sa,ds,[class xi{},new a.FiY],[Da,new a.FiY]]},Ve,{provide:U,useFactory:function xo(S){return S.routerState.root},deps:[ss]},Zo,xa,Bs,{provide:ds,useValue:{enableTracing:!1}}];function Ir(){return new a.PXZ("Router",ss)}let qu=(()=>{class S{constructor(E,O){}static forRoot(E,O){return{ngModule:S,providers:[pr,Ci(E),{provide:fu,useFactory:_n,deps:[[ss,new a.FiY,new a.tp0]]},{provide:ds,useValue:O||{}},{provide:Xe.S$,useFactory:jt,deps:[Xe.lw,[new a.tBr(Xe.mr),new a.FiY],ds]},{provide:Dn,useFactory:Mn,deps:[ss,Xe.EM,ds]},{provide:bs,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:xa},{provide:a.PXZ,multi:!0,useFactory:Ir},[Mo,{provide:a.ip1,multi:!0,useFactory:Ma,deps:[Mo]},{provide:Xo,useFactory:pu,deps:[Mo]},{provide:a.tb,multi:!0,useExisting:Xo}]]}}static forChild(E){return{ngModule:S,providers:[Ci(E)]}}}return S.\u0275fac=function(E){return new(E||S)(a.LFG(fu,8),a.LFG(ss,8))},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({}),S})();function Mn(S,w,E){return E.scrollOffset&&w.setOffset(E.scrollOffset),new Dn(S,w,E)}function jt(S,w,E={}){return E.useHash?new Xe.Do(S,w):new Xe.b0(S,w)}function _n(S){return"guarded"}function Ci(S){return[{provide:a.deG,multi:!0,useValue:S},{provide:Sa,multi:!0,useValue:S}]}let Mo=(()=>{class S{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new oe.xQ}appInitializer(){return this.injector.get(Xe.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const j=new Promise(Ze=>O=Ze),ge=this.injector.get(ss),qe=this.injector.get(ds);return"disabled"===qe.initialNavigation?(ge.setUpLocationChangeListener(),O(!0)):"enabled"===qe.initialNavigation||"enabledBlocking"===qe.initialNavigation?(ge.hooks.afterPreactivation=()=>this.initNavigation?(0,L.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),ge.initialNavigation()):O(!0),j})}bootstrapListener(E){const O=this.injector.get(ds),j=this.injector.get(Zo),ge=this.injector.get(Dn),qe=this.injector.get(ss),Ze=this.injector.get(a.z2F);E===Ze.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&qe.initialNavigation(),j.setUpPreloading(),ge.init(),qe.resetRootComponentType(Ze.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(E){return new(E||S)(a.LFG(a.zs3))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac}),S})();function Ma(S){return S.appInitializer.bind(S)}function pu(S){return S.bootstrapListener.bind(S)}const Xo=new a.OlP("Router Initializer")},3942:(un,ut,D)=>{"use strict";D.d(ut,{Z:()=>le});var a=D(2090),P=D(4859),L=D(9681),Y=D(1877);class he{constructor(xe,be){this._delegate=xe,this.firebase=be,(0,L._addComponent)(xe,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(xe,be=L._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Ie=this._delegate.container.getProvider(xe);return!Ie.isInitialized()&&"EXPLICIT"===(null===(_e=Ie.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:be})}_removeServiceInstance(xe,be=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(be)}_addComponent(xe){(0,L._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,L._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ee(){const J=function q(J){const xe={},be={__esModule:!0,initializeApp:function ke(Ge,ht={}){const Ue=L.initializeApp(Ge,ht);if((0,a.r3)(xe,Ue.name))return xe[Ue.name];const Fe=new J(Ue,be);return xe[Ue.name]=Fe,Fe},app:Ie,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function nt(Ge){const ht=Ge.name,Ue=ht.replace("-compat","");if(L._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Fe=(Le=Ie())=>{if("function"!=typeof Le[Ue])throw se.create("invalid-app-argument",{appName:ht});return Le[Ue]()};void 0!==Ge.serviceProps&&(0,a.ZB)(Fe,Ge.serviceProps),be[Ue]=Fe,J.prototype[Ue]=function(...Le){return this._getService.bind(this,ht).apply(this,Ge.multipleInstances?Le:[])}}return"PUBLIC"===Ge.type?be[Ue]:null},removeApp:function _e(Ge){delete xe[Ge]},useAsService:function xt(Ge,ht){return"serverAuth"===ht?null:ht},modularAPIs:L}};function Ie(Ge){if(!(0,a.r3)(xe,Ge=Ge||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:Ge});return xe[Ge]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ne(){return Object.keys(xe).map(Ge=>xe[Ge])}}),Ie.App=J,be}(he);return J.INTERNAL=Object.assign(Object.assign({},J.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function xe(be){(0,a.ZB)(J,be)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),J}(),re=new Y.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const J=self.firebase.SDK_VERSION;J&&J.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const le=W;!function Ae(J){(0,L.registerVersion)("@firebase/app-compat","0.1.21",J)}()},9681:(un,ut,D)=>{"use strict";D.r(ut),D.d(ut,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>En,_DEFAULT_ENTRY_NAME:()=>_t,_addComponent:()=>Se,_addOrOverwriteComponent:()=>ce,_apps:()=>Z,_clearComponents:()=>Ft,_components:()=>ue,_getProvider:()=>mt,_registerComponent:()=>st,_removeServiceInstance:()=>Xe,deleteApp:()=>rr,getApp:()=>lr,getApps:()=>Jn,initializeApp:()=>nr,onLog:()=>Vn,registerVersion:()=>Hn,setLogLevel:()=>Zt});var a=D(5861),P=D(4859),L=D(1877),Y=D(2090);class he{constructor(Dt){this.container=Dt}getPlatformInfoString(){return this.container.getProviders().map(fn=>{if(function fe(Nt){const Dt=Nt.getComponent();return"VERSION"===(null==Dt?void 0:Dt.type)}(fn)){const Tn=fn.getImmediate();return`${Tn.library}/${Tn.version}`}return null}).filter(fn=>fn).join(" ")}}const se="@firebase/app",q="0.7.20",ee=new L.Yd("@firebase/app"),_t="[DEFAULT]",ve={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Z=new Map,ue=new Map;function Se(Nt,Dt){try{Nt.container.addComponent(Dt)}catch(fn){ee.debug(`Component ${Dt.name} failed to register with FirebaseApp ${Nt.name}`,fn)}}function ce(Nt,Dt){Nt.container.addOrOverwriteComponent(Dt)}function st(Nt){const Dt=Nt.name;if(ue.has(Dt))return ee.debug(`There were multiple attempts to register component ${Dt}.`),!1;ue.set(Dt,Nt);for(const fn of Z.values())Se(fn,Nt);return!0}function mt(Nt,Dt){const fn=Nt.container.getProvider("heartbeat").getImmediate({optional:!0});return fn&&fn.triggerHeartbeat(),Nt.container.getProvider(Dt)}function Xe(Nt,Dt,fn=_t){mt(Nt,Dt).clearInstance(fn)}function Ft(){ue.clear()}const tn=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Jt{constructor(Dt,fn,Tn){this._isDeleted=!1,this._options=Object.assign({},Dt),this._config=Object.assign({},fn),this._name=fn.name,this._automaticDataCollectionEnabled=fn.automaticDataCollectionEnabled,this._container=Tn,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Dt){this._isDeleted=Dt}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}const En="9.6.10";function nr(Nt,Dt={}){"object"!=typeof Dt&&(Dt={name:Dt});const fn=Object.assign({name:_t,automaticDataCollectionEnabled:!1},Dt),Tn=fn.name;if("string"!=typeof Tn||!Tn)throw tn.create("bad-app-name",{appName:String(Tn)});const Kn=Z.get(Tn);if(Kn){if((0,Y.vZ)(Nt,Kn.options)&&(0,Y.vZ)(fn,Kn.config))return Kn;throw tn.create("duplicate-app",{appName:Tn})}const $n=new P.H0(Tn);for(const Be of ue.values())$n.addComponent(Be);const Ke=new Jt(Nt,fn,$n);return Z.set(Tn,Ke),Ke}function lr(Nt=_t){const Dt=Z.get(Nt);if(!Dt)throw tn.create("no-app",{appName:Nt});return Dt}function Jn(){return Array.from(Z.values())}function rr(Nt){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(Nt){const Dt=Nt.name;Z.has(Dt)&&(Z.delete(Dt),yield Promise.all(Nt.container.getProviders().map(fn=>fn.delete())),Nt.isDeleted=!0)})).apply(this,arguments)}function Hn(Nt,Dt,fn){var Tn;let Kn=null!==(Tn=ve[Nt])&&void 0!==Tn?Tn:Nt;fn&&(Kn+=`-${fn}`);const $n=Kn.match(/\s|\//),Ke=Dt.match(/\s|\//);if($n||Ke){const Be=[`Unable to register library "${Kn}" with version "${Dt}":`];return $n&&Be.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),$n&&Ke&&Be.push("and"),Ke&&Be.push(`version name "${Dt}" contains illegal characters (whitespace or "/")`),void ee.warn(Be.join(" "))}st(new P.wA(`${Kn}-version`,()=>({library:Kn,version:Dt}),"VERSION"))}function Vn(Nt,Dt){if(null!==Nt&&"function"!=typeof Nt)throw tn.create("invalid-log-argument");(0,L.Am)(Nt,Dt)}function Zt(Nt){(0,L.Ub)(Nt)}const Mt="firebase-heartbeat-store";let Ye=null;function $e(){return Ye||(Ye=(0,Y.X3)("firebase-heartbeat-database",1,(Nt,Dt)=>{0===Dt&&Nt.createObjectStore(Mt)}).catch(Nt=>{throw tn.create("storage-open",{originalErrorMessage:Nt.message})})),Ye}function bt(){return(bt=(0,a.Z)(function*(Nt){try{return(yield $e()).transaction(Mt).objectStore(Mt).get(Gn(Nt))}catch(Dt){throw tn.create("storage-get",{originalErrorMessage:Dt.message})}})).apply(this,arguments)}function zt(Nt,Dt){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(Nt,Dt){try{const Tn=(yield $e()).transaction(Mt,"readwrite");return yield Tn.objectStore(Mt).put(Dt,Gn(Nt)),Tn.complete}catch(fn){throw tn.create("storage-set",{originalErrorMessage:fn.message})}})).apply(this,arguments)}function Gn(Nt){return`${Nt.name}!${Nt.options.appId}`}class mr{constructor(Dt){this.container=Dt,this._heartbeatsCache=null;const fn=this.container.getProvider("app").getImmediate();this._storage=new Nn(fn),this._heartbeatsCachePromise=this._storage.read().then(Tn=>(this._heartbeatsCache=Tn,Tn))}triggerHeartbeat(){var Dt=this;return(0,a.Z)(function*(){const Tn=Dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kn=dr();if(null===Dt._heartbeatsCache&&(Dt._heartbeatsCache=yield Dt._heartbeatsCachePromise),Dt._heartbeatsCache.lastSentHeartbeatDate!==Kn&&!Dt._heartbeatsCache.heartbeats.some($n=>$n.date===Kn))return Dt._heartbeatsCache.heartbeats.push({date:Kn,agent:Tn}),Dt._heartbeatsCache.heartbeats=Dt._heartbeatsCache.heartbeats.filter($n=>{const Ke=new Date($n.date).valueOf();return Date.now()-Ke<=2592e6}),Dt._storage.overwrite(Dt._heartbeatsCache)})()}getHeartbeatsHeader(){var Dt=this;return(0,a.Z)(function*(){if(null===Dt._heartbeatsCache&&(yield Dt._heartbeatsCachePromise),null===Dt._heartbeatsCache||0===Dt._heartbeatsCache.heartbeats.length)return"";const fn=dr(),{heartbeatsToSend:Tn,unsentEntries:Kn}=function bn(Nt,Dt=1024){const fn=[];let Tn=Nt.slice();for(const Kn of Nt){const $n=fn.find(Ke=>Ke.agent===Kn.agent);if($n){if($n.dates.push(Kn.date),ur(fn)>Dt){$n.dates.pop();break}}else if(fn.push({agent:Kn.agent,dates:[Kn.date]}),ur(fn)>Dt){fn.pop();break}Tn=Tn.slice(1)}return{heartbeatsToSend:fn,unsentEntries:Tn}}(Dt._heartbeatsCache.heartbeats),$n=(0,Y.L)(JSON.stringify({version:2,heartbeats:Tn}));return Dt._heartbeatsCache.lastSentHeartbeatDate=fn,Kn.length>0?(Dt._heartbeatsCache.heartbeats=Kn,yield Dt._storage.overwrite(Dt._heartbeatsCache)):(Dt._heartbeatsCache.heartbeats=[],Dt._storage.overwrite(Dt._heartbeatsCache)),$n})()}}function dr(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(Dt){this.app=Dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Dt=this;return(0,a.Z)(function*(){return(yield Dt._canUseIndexedDBPromise)&&(yield function Pt(Nt){return bt.apply(this,arguments)}(Dt.app))||{heartbeats:[]}})()}overwrite(Dt){var fn=this;return(0,a.Z)(function*(){var Tn;if(yield fn._canUseIndexedDBPromise){const $n=yield fn.read();return zt(fn.app,{lastSentHeartbeatDate:null!==(Tn=Dt.lastSentHeartbeatDate)&&void 0!==Tn?Tn:$n.lastSentHeartbeatDate,heartbeats:Dt.heartbeats})}})()}add(Dt){var fn=this;return(0,a.Z)(function*(){var Tn;if(yield fn._canUseIndexedDBPromise){const $n=yield fn.read();return zt(fn.app,{lastSentHeartbeatDate:null!==(Tn=Dt.lastSentHeartbeatDate)&&void 0!==Tn?Tn:$n.lastSentHeartbeatDate,heartbeats:[...$n.heartbeats,...Dt.heartbeats]})}})()}}function ur(Nt){return(0,Y.L)(JSON.stringify({version:2,heartbeats:Nt})).length}!function dn(Nt){st(new P.wA("platform-logger",Dt=>new he(Dt),"PRIVATE")),st(new P.wA("heartbeat",Dt=>new mr(Dt),"PRIVATE")),Hn(se,q,Nt),Hn(se,q,"esm2017"),Hn("fire-js","")}("")},4859:(un,ut,D)=>{"use strict";D.d(ut,{wA:()=>L,H0:()=>q});var a=D(5861),P=D(2090);class L{constructor(W,re,we){this.name=W,this.instanceFactory=re,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Y="[DEFAULT]";class he{constructor(W,re){this.name=W,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const re=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(re)){const we=new P.BH;if(this.instancesDeferred.set(re,we),this.isInitialized(re)||this.shouldAutoInitialize())try{const oe=this.getOrInitializeService({instanceIdentifier:re});oe&&we.resolve(oe)}catch(oe){}}return this.instancesDeferred.get(re).promise}getImmediate(W){var re;const we=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),oe=null!==(re=null==W?void 0:W.optional)&&void 0!==re&&re;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Ae){if(oe)return null;throw Ae}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function se(ee){return"EAGER"===ee.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Y})}catch(re){}for(const[re,we]of this.instancesDeferred.entries()){const oe=this.normalizeInstanceIdentifier(re);try{const Ae=this.getOrInitializeService({instanceIdentifier:oe});we.resolve(Ae)}catch(Ae){}}}}clearInstance(W=Y){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,a.Z)(function*(){const re=Array.from(W.instances.values());yield Promise.all([...re.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...re.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Y){return this.instances.has(W)}getOptions(W=Y){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:re={}}=W,we=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const oe=this.getOrInitializeService({instanceIdentifier:we,options:re});for(const[Ae,le]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Ae)&&le.resolve(oe);return oe}onInit(W,re){var we;const oe=this.normalizeInstanceIdentifier(re),Ae=null!==(we=this.onInitCallbacks.get(oe))&&void 0!==we?we:new Set;Ae.add(W),this.onInitCallbacks.set(oe,Ae);const le=this.instances.get(oe);return le&&W(le,oe),()=>{Ae.delete(W)}}invokeOnInitCallbacks(W,re){const we=this.onInitCallbacks.get(re);if(we)for(const oe of we)try{oe(W,re)}catch(Ae){}}getOrInitializeService({instanceIdentifier:W,options:re={}}){let we=this.instances.get(W);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=W,ee===Y?void 0:ee),options:re}),this.instances.set(W,we),this.instancesOptions.set(W,re),this.invokeOnInitCallbacks(we,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,we)}catch(oe){}var ee;return we||null}normalizeInstanceIdentifier(W=Y){return this.component?this.component.multipleInstances?W:Y:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const re=this.getProvider(W.name);if(re.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);re.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const re=new he(W,this);return this.providers.set(W,re),re}getProviders(){return Array.from(this.providers.values())}}},2833:(un,ut,D)=>{"use strict";var a=D(5861),P=D(9681),L=D(4859),Y=D(2090);const he="@firebase/installations",q="w:0.5.7",ee="FIS_v2",le=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J(ze){return ze instanceof Y.ZR&&ze.code.includes("request-failed")}function xe({projectId:ze}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ze}/installations`}function be(ze){return{token:ze.token,requestStatus:2,expiresIn:Ge(ze.expiresIn),creationTime:Date.now()}}function _e(ze,At){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(ze,At){const Rt=(yield At.json()).error;return le.create("request-failed",{requestName:ze,serverCode:Rt.code,serverMessage:Rt.message,serverStatus:Rt.status})})).apply(this,arguments)}function ke({apiKey:ze}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ze})}function Ne(ze,{refreshToken:At}){const Gt=ke(ze);return Gt.append("Authorization",function ht(ze){return`${ee} ${ze}`}(At)),Gt}function nt(ze){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(ze){const At=yield ze();return At.status>=500&&At.status<600?ze():At})).apply(this,arguments)}function Ge(ze){return Number(ze.replace("s","000"))}function Ue(ze,At){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*({appConfig:ze,heartbeatServiceProvider:At},{fid:Gt}){const Rt=xe(ze),yn=ke(ze),Rn=At.getImmediate({optional:!0});if(Rn){const gt=yield Rn.getHeartbeatsHeader();gt&&yn.append("x-firebase-client",gt)}const K={method:"POST",headers:yn,body:JSON.stringify({fid:Gt,authVersion:ee,appId:ze.appId,sdkVersion:q})},de=yield nt(()=>fetch(Rt,K));if(de.ok){const gt=yield de.json();return{fid:gt.fid||Gt,registrationStatus:2,refreshToken:gt.refreshToken,authToken:be(gt.authToken)}}throw yield _e("Create Installation",de)})).apply(this,arguments)}function Le(ze){return new Promise(At=>{setTimeout(At,ze)})}const it=/^[cdef][\w-]{21}$/;function Ut(){try{const ze=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ze),ze[0]=112+ze[0]%16;const Gt=function Lt(ze){return function Re(ze){return btoa(String.fromCharCode(...ze)).replace(/\+/g,"-").replace(/\//g,"_")}(ze).substr(0,22)}(ze);return it.test(Gt)?Gt:""}catch(ze){return""}}function _t(ze){return`${ze.appName}!${ze.appId}`}const ve=new Map;function Z(ze,At){const Gt=_t(ze);ce(Gt,At),function st(ze,At){const Gt=function Xe(){return!mt&&"BroadcastChannel"in self&&(mt=new BroadcastChannel("[Firebase] FID Change"),mt.onmessage=ze=>{ce(ze.data.key,ze.data.fid)}),mt}();Gt&&Gt.postMessage({key:ze,fid:At}),function Ft(){0===ve.size&&mt&&(mt.close(),mt=null)}()}(Gt,At)}function ce(ze,At){const Gt=ve.get(ze);if(Gt)for(const Rt of Gt)Rt(At)}let mt=null;const Jt="firebase-installations-store";let En=null;function nr(){return En||(En=(0,Y.X3)("firebase-installations-database",1,(ze,At)=>{0===At&&ze.createObjectStore(Jt)})),En}function lr(ze,At){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(ze,At){const Gt=_t(ze),yn=(yield nr()).transaction(Jt,"readwrite"),Rn=yn.objectStore(Jt),ct=yield Rn.get(Gt);return yield Rn.put(At,Gt),yield yn.complete,(!ct||ct.fid!==At.fid)&&Z(ze,At.fid),At})).apply(this,arguments)}function rr(ze){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(ze){const At=_t(ze),Rt=(yield nr()).transaction(Jt,"readwrite");yield Rt.objectStore(Jt).delete(At),yield Rt.complete})).apply(this,arguments)}function Hn(ze,At){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(ze,At){const Gt=_t(ze),yn=(yield nr()).transaction(Jt,"readwrite"),Rn=yn.objectStore(Jt),ct=yield Rn.get(Gt),K=At(ct);return void 0===K?yield Rn.delete(Gt):yield Rn.put(K,Gt),yield yn.complete,K&&(!ct||ct.fid!==K.fid)&&Z(ze,K.fid),K})).apply(this,arguments)}function Zt(ze){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(ze){let At;const Gt=yield Hn(ze.appConfig,Rt=>{const yn=ar(Rt),Rn=Mt(ze,yn);return At=Rn.registrationPromise,Rn.installationEntry});return""===Gt.fid?{installationEntry:yield At}:{installationEntry:Gt,registrationPromise:At}})).apply(this,arguments)}function ar(ze){return Kt(ze||{fid:Ut(),registrationStatus:0})}function Mt(ze,At){if(0===At.registrationStatus){if(!navigator.onLine)return{installationEntry:At,registrationPromise:Promise.reject(le.create("app-offline"))};const Gt={fid:At.fid,registrationStatus:1,registrationTime:Date.now()},Rt=function Ye(ze,At){return $e.apply(this,arguments)}(ze,Gt);return{installationEntry:Gt,registrationPromise:Rt}}return 1===At.registrationStatus?{installationEntry:At,registrationPromise:Pt(ze)}:{installationEntry:At}}function $e(){return($e=(0,a.Z)(function*(ze,At){try{const Gt=yield Ue(ze,At);return lr(ze.appConfig,Gt)}catch(Gt){throw J(Gt)&&409===Gt.customData.serverCode?yield rr(ze.appConfig):yield lr(ze.appConfig,{fid:At.fid,registrationStatus:0}),Gt}})).apply(this,arguments)}function Pt(ze){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(ze){let At=yield zt(ze.appConfig);for(;1===At.registrationStatus;)yield Le(100),At=yield zt(ze.appConfig);if(0===At.registrationStatus){const{installationEntry:Gt,registrationPromise:Rt}=yield Zt(ze);return Rt||Gt}return At})).apply(this,arguments)}function zt(ze){return Hn(ze,At=>{if(!At)throw le.create("installation-not-found");return Kt(At)})}function Kt(ze){return function Gn(ze){return 1===ze.registrationStatus&&ze.registrationTime+1e4<Date.now()}(ze)?{fid:ze.fid,registrationStatus:0}:ze}function Wn(ze,At){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*({appConfig:ze,heartbeatServiceProvider:At},Gt){const Rt=mr(ze,Gt),yn=Ne(ze,Gt),Rn=At.getImmediate({optional:!0});if(Rn){const gt=yield Rn.getHeartbeatsHeader();gt&&yn.append("x-firebase-client",gt)}const K={method:"POST",headers:yn,body:JSON.stringify({installation:{sdkVersion:q,appId:ze.appId}})},de=yield nt(()=>fetch(Rt,K));if(de.ok)return be(yield de.json());throw yield _e("Generate Auth Token",de)})).apply(this,arguments)}function mr(ze,{fid:At}){return`${xe(ze)}/${At}/authTokens:generate`}function dr(ze){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(ze,At=!1){let Gt;const Rt=yield Hn(ze.appConfig,Rn=>{if(!fn(Rn))throw le.create("not-registered");const ct=Rn.authToken;if(!At&&Tn(ct))return Rn;if(1===ct.requestStatus)return Gt=Nn(ze,At),Rn;{if(!navigator.onLine)throw le.create("app-offline");const K=$n(Rn);return Gt=Nt(ze,K),K}});return Gt?yield Gt:Rt.authToken})).apply(this,arguments)}function Nn(ze,At){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(ze,At){let Gt=yield dn(ze.appConfig);for(;1===Gt.authToken.requestStatus;)yield Le(100),Gt=yield dn(ze.appConfig);const Rt=Gt.authToken;return 0===Rt.requestStatus?dr(ze,At):Rt})).apply(this,arguments)}function dn(ze){return Hn(ze,At=>{if(!fn(At))throw le.create("not-registered");return function Ke(ze){return 1===ze.requestStatus&&ze.requestTime+1e4<Date.now()}(At.authToken)?Object.assign(Object.assign({},At),{authToken:{requestStatus:0}}):At})}function Nt(ze,At){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(ze,At){try{const Gt=yield Wn(ze,At),Rt=Object.assign(Object.assign({},At),{authToken:Gt});return yield lr(ze.appConfig,Rt),Gt}catch(Gt){if(!J(Gt)||401!==Gt.customData.serverCode&&404!==Gt.customData.serverCode){const Rt=Object.assign(Object.assign({},At),{authToken:{requestStatus:0}});yield lr(ze.appConfig,Rt)}else yield rr(ze.appConfig);throw Gt}})).apply(this,arguments)}function fn(ze){return void 0!==ze&&2===ze.registrationStatus}function Tn(ze){return 2===ze.requestStatus&&!function Kn(ze){const At=Date.now();return At<ze.creationTime||ze.creationTime+ze.expiresIn<At+36e5}(ze)}function $n(ze){const At={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ze),{authToken:At})}function Qe(){return(Qe=(0,a.Z)(function*(ze){const At=ze,{installationEntry:Gt,registrationPromise:Rt}=yield Zt(At);return Rt?Rt.catch(console.error):dr(At).catch(console.error),Gt.fid})).apply(this,arguments)}function ye(){return(ye=(0,a.Z)(function*(ze,At=!1){const Gt=ze;return yield Me(Gt),(yield dr(Gt,At)).token})).apply(this,arguments)}function Me(ze){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(ze){const{registrationPromise:At}=yield Zt(ze);At&&(yield At)})).apply(this,arguments)}function Ht(ze){return le.create("missing-app-config-values",{valueName:ze})}const Oe="installations",qt=ze=>{const At=ze.getProvider("app").getImmediate(),Gt=function Tr(ze){if(!ze||!ze.options)throw Ht("App Configuration");if(!ze.name)throw Ht("App Name");const At=["projectId","apiKey","appId"];for(const Gt of At)if(!ze.options[Gt])throw Ht(Gt);return{appName:ze.name,projectId:ze.options.projectId,apiKey:ze.options.apiKey,appId:ze.options.appId}}(At);return{app:At,appConfig:Gt,heartbeatServiceProvider:(0,P._getProvider)(At,"heartbeat"),_delete:()=>Promise.resolve()}},on=ze=>{const At=ze.getProvider("app").getImmediate(),Gt=(0,P._getProvider)(At,Oe).getImmediate();return{getId:()=>function Be(ze){return Qe.apply(this,arguments)}(Gt),getToken:yn=>function vt(ze){return ye.apply(this,arguments)}(Gt,yn)}};(function mn(){(0,P._registerComponent)(new L.wA(Oe,qt,"PUBLIC")),(0,P._registerComponent)(new L.wA("installations-internal",on,"PRIVATE"))})(),(0,P.registerVersion)(he,"0.5.7"),(0,P.registerVersion)(he,"0.5.7","esm2017")},1877:(un,ut,D)=>{"use strict";D.d(ut,{in:()=>P,Yd:()=>se,Ub:()=>q,Am:()=>ee});const a=[];var P=(()=>{return(W=P||(P={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",P;var W})();const L={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},Y=P.INFO,he={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},fe=(W,re,...we)=>{if(re<W.logLevel)return;const oe=(new Date).toISOString(),Ae=he[re];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Ae](`[${oe}]  ${W.name}:`,...we)};class se{constructor(re){this.name=re,this._logLevel=Y,this._logHandler=fe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in P))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?L[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...re),this._logHandler(this,P.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...re),this._logHandler(this,P.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,P.INFO,...re),this._logHandler(this,P.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,P.WARN,...re),this._logHandler(this,P.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...re),this._logHandler(this,P.ERROR,...re)}}function q(W){a.forEach(re=>{re.setLogLevel(W)})}function ee(W,re){for(const we of a){let oe=null;re&&re.level&&(oe=L[re.level]),we.userLogHandler=null===W?null:(Ae,le,...J)=>{const xe=J.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(_e){return null}}).filter(be=>be).join(" ");le>=(null!=oe?oe:Ae.logLevel)&&W({level:P[le].toLowerCase(),message:xe,args:J,type:Ae.name})}}}},5861:(un,ut,D)=>{"use strict";function a(L,Y,he,fe,se,q,ee){try{var W=L[q](ee),re=W.value}catch(we){return void he(we)}W.done?Y(re):Promise.resolve(re).then(fe,se)}function P(L){return function(){var Y=this,he=arguments;return new Promise(function(fe,se){var q=L.apply(Y,he);function ee(re){a(q,fe,se,ee,W,"next",re)}function W(re){a(q,fe,se,ee,W,"throw",re)}ee(void 0)})}}D.d(ut,{Z:()=>P})}},un=>{un(un.s=6958)}]);